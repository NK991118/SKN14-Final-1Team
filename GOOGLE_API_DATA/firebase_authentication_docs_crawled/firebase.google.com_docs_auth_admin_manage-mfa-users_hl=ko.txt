Source URL: https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko
Title: 다단계 사용자 관리
bookmark_border

의견 보내기

다단계 사용자 관리

bookmark_borderbookmark

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용시작하기 전에 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#before_you_begin]사용자 가져오기 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#getting_users]사용자 나열 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#listing_users]사용자 만들기 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#creating_a_user]사용자 업데이트 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#updating_a_user]새 보조 단계 추가 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#adding_a_new_secondary_factor]보조 단계 삭제 [https://firebase.google.com/docs/auth/admin/manage-mfa-users?hl=ko#removing_a_secondary_factor]

이 문서에서는 Firebase Admin SDK를 사용하여 다중 인증 사용자를 프로그래매틱 방식으로 관리하는 방법을 보여줍니다. 다중 인증 사용자를 관리할 때는 1단계 사용자 [https://firebase.google.com/docs/auth/admin/manage-users?hl=ko]에 비해 더 많은 사용자 속성에 액세스할 수 있습니다.

시작하기 전에

Node.js Admin SDK를 설치합니다 [https://firebase.google.com/docs/admin/setup?hl=ko]. 다른 Admin SDK 언어는 현재 지원되지 않습니다.

사용자 가져오기

UserRecord 객체에서 등록된 두 번째 단계 목록과 같은 사용자의 다단계 관련 데이터를 검색할 수 있습니다. 사용자 레코드를 가져오려면 getUser() 또는 getUserByEmail()을 호출합니다.

아래 예시는 다단계 등록 사용자를 보여줍니다.
.then((listUsersResult) => {
listUsersResult.users.forEach((userRecord) => {

사용자 만들기

createUser()를 호출하여 새 사용자를 만듭니다. 보조 단계가 있는 신규 사용자는 확인된 이메일 주소(emailVerified를 true로 설정)를 가지고 있고 지원되는 첫 번째 단계를 사용하여 로그인해야 합니다. 사용자당 최대 5개의 보조 단계가 허용됩니다.

이 예시에는 2가지 보조 단계가 있는 신규 사용자를 만드는 방법이 나와 있습니다.
admin.auth().createUser({
uid: '123456789',
email: 'user@example.com',
emailVerified: true,
password: 'password',
multiFactor: {
enrolledFactors: [
function enrollSecondFactor(userId, secondFactorPhoneNumber, secondFactorDisplayName) {
return admin.auth().getUser(userId)
.then((userRecord) => {
updatedList.push({
phoneNumber: secondFactorPhoneNumber,
displayName: secondFactorDisplayName,
factorId: 'phone',