Source URL: https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko
Title: JavaScript에서 Microsoft를 통해 인증
bookmark_border

의견 보내기

JavaScript에서 Microsoft를 통해 인증

bookmark_borderbookmark

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용시작하기 전에 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#before_you_begin]Firebase SDK로 로그인 과정 처리 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#handle_the_sign-in_flow_with_the_firebase_sdk]account-exists-with-different-credential 오류 처리 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#handling-account-exists-with-different-credential-errors]팝업 모드 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#popup-mode]리디렉션 모드 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#redirect-mode]고급: 수동으로 로그인 과정 처리 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#advanced:-handle-the-sign-in-flow-manually]Chrome 확장 프로그램에서 Firebase로 인증 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#authenticate_with_firebase_in_a_chrome_extension]Microsoft 로그인을 위한 리디렉션 도메인 맞춤설정 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#customizing-the-redirect-domain-for-microsoft-sign-in]다음 단계 [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#next_steps]

Firebase SDK를 통해 전체 로그인 과정을 수행하는 앱에 일반 OAuth 로그인을 통합하여 사용자가 Microsoft Azure Active Directory와 같은 OAuth 제공업체를 통해 Firebase로 인증하도록 할 수 있습니다.

시작하기 전에

사용자가 Microsoft 계정(Azure Active Directory 및 개인 Microsoft 계정)을 통해 로그인하도록 하려면 우선 Firebase 프로젝트에서 Microsoft를 로그인 제공업체로 사용 설정해야 합니다.

JavaScript 프로젝트에 Firebase를 추가합니다 [https://firebase.google.com/docs/web/setup?hl=ko].
Firebase Console [https://console.firebase.google.com/?hl=ko]에서 인증 섹션을 엽니다.
로그인 방법 탭에서 Microsoft 제공업체를 사용 설정합니다.
해당 제공업체의 개발자 콘솔에서 제공되는 클라이언트 ID 및 클라이언트 보안 비밀번호를 제공업체 구성에 추가합니다.

Microsoft OAuth 클라이언트를 등록하려면 빠른 시작: Azure Active Directory v2.0 엔드포인트를 사용하여 앱 등록 [https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v2-register-an-app]의 안내를 따릅니다.
이 엔드포인트는 Microsoft 개인 계정과 Azure Active Directory 계정을 사용하는 로그인을 지원합니다.
Azure Active Directory v2.0 자세히 알아보기 [https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview]
이러한 제공업체에 앱을 등록할 때 프로젝트의 *.firebaseapp.com 도메인을 앱의 리디렉션 도메인으로 등록해야 합니다.

저장을 클릭합니다.

Firebase SDK로 로그인 과정 처리

웹 앱을 빌드하는 경우 Firebase JavaScript SDK로 전체 로그인 과정을 처리하면 가장 손쉽게 Microsoft 계정을 통해 Firebase로 사용자를 인증할 수 있습니다.

Firebase JavaScript SDK로 로그인 과정을 처리하려면 다음 단계를 따르세요.

제공업체 ID OAuthProvider을 사용하여 OAuthProvider의 인스턴스를 생성합니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { OAuthProvider } from "firebase/auth";

const provider = new OAuthProvider('microsoft.com');
auth_msft_create_provider.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_create_provider.js#L8-L10]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
var provider = new firebase.auth.OAuthProvider('microsoft.com');
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L11-L11]

선택사항: OAuth 요청과 함께 전송하고자 하는 맞춤 OAuth 매개변수를 추가로 지정합니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
provider.setCustomParameters({
// Force re-consent.
prompt: 'consent',
// Target specific email with login hint.
login_hint: 'user@firstadd.onmicrosoft.com'
});
auth_msft_provider_params.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_provider_params.js#L8-L13]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
provider.setCustomParameters({
// Force re-consent.
prompt: 'consent',
// Target specific email with login hint.
login_hint: 'user@firstadd.onmicrosoft.com'
});
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L20-L25]

Microsoft가 지원하는 매개변수 정보는 Microsoft OAuth 문서 [https://docs.microsoft.com/en-us/azure/active-directory/develop/v1-protocols-oauth-code]를 참조하세요.
Firebase에서 요구하는 매개변수는 setCustomParameters()와 함께 전달할 수 없습니다. 이러한 매개변수에는 client_id, response_type, redirect_uri, state, scope, response_mode가 있습니다.

특정 Azure AD 테넌트의 사용자만 애플리케이션에 로그인하도록 허용하려면 Azure AD 테넌트의 도메인 이름 또는 테넌트의 GUID 식별자를 사용하면 됩니다. 이렇게 하려면 커스텀 매개변수 객체의 '테넌트' 필드를 지정합니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
provider.setCustomParameters({
// Optional "tenant" parameter in case you are using an Azure AD tenant.
// eg. '8eaef023-2b34-4da1-9baa-8bc8c9d6a490' or 'contoso.onmicrosoft.com'
// or "common" for tenant-independent tokens.
// The default value is "common".
tenant: 'TENANT_ID'
});
auth_msft_provider_params_tenant.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_provider_params_tenant.js#L8-L14]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
provider.setCustomParameters({
// Optional "tenant" parameter in case you are using an Azure AD tenant.
// eg. '8eaef023-2b34-4da1-9baa-8bc8c9d6a490' or 'contoso.onmicrosoft.com'
// or "common" for tenant-independent tokens.
// The default value is "common".
tenant: 'TENANT_ID'
});
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L29-L35]

선택사항: 인증 제공업체에 요청하고자 하는 기본 프로필 범위를 넘는 OAuth 2.0 범위를 추가로 지정합니다.

provider.addScope('mail.read');
provider.addScope('calendars.read');

자세한 내용은 Microsoft 권한 및 동의 문서 [https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent]를 참조하세요.
OAuth 제공업체 객체를 사용해 Firebase로 인증합니다. 팝업 창을 띄우거나 로그인 페이지로 리디렉션하여 사용자가 Microsoft 계정으로 로그인하도록 유도할 수 있습니다. 휴대기기의 경우 리디렉션을 사용할 것을 권장합니다.

팝업 창을 사용해 로그인하려면 다음과 같이 signInWithPopup을 호출합니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { getAuth, signInWithPopup, OAuthProvider } from "firebase/auth";

const auth = getAuth();
signInWithPopup(auth, provider)
.then((result) => {
// User is signed in.
// IdP data available in result.additionalUserInfo.profile.

// Get the OAuth access token and ID Token
const credential = OAuthProvider.credentialFromResult(result);
const accessToken = credential.accessToken;
const idToken = credential.idToken;
})
.catch((error) => {
// Handle error.
});
auth_msft_signin_popup.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_signin_popup.js#L8-L23]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
firebase.auth().signInWithPopup(provider)
.then((result) => {
// IdP data available in result.additionalUserInfo.profile.
// ...

/** @type {firebase.auth.OAuthCredential} */
var credential = result.credential;

// OAuth access and id tokens can also be retrieved:
var accessToken = credential.accessToken;
var idToken = credential.idToken;
})
.catch((error) => {
// Handle error.
});
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L41-L55]

로그인 페이지로 리디렉션해서 로그인하려면 다음과 같이 signInWithRedirect를 호출합니다.

signInWithRedirect, linkWithRedirect, reauthenticateWithRedirect를 사용할 때는 권장사항 [https://firebase.google.com/docs/auth/web/redirect-best-practices?hl=ko]을 따르세요.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { getAuth, signInWithRedirect } from "firebase/auth";

const auth = getAuth();
signInWithRedirect(auth, provider);
auth_msft_signin_redirect.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_signin_redirect.js#L8-L11]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
firebase.auth().signInWithRedirect(provider);
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L61-L61]

사용자가 로그인을 완료하고 페이지로 돌아간 후에 getRedirectResult를 호출하여 로그인 결과를 가져올 수 있습니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { getAuth, getRedirectResult, OAuthProvider } from "firebase/auth";

const auth = getAuth();
getRedirectResult(auth)
.then((result) => {
// User is signed in.
// IdP data available in result.additionalUserInfo.profile.

// Get the OAuth access token and ID Token
const credential = OAuthProvider.credentialFromResult(result);
const accessToken = credential.accessToken;
const idToken = credential.idToken;
})
.catch((error) => {
// Handle error.
});
auth_msft_signin_redirect_result.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_signin_redirect_result.js#L8-L23]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
firebase.auth().getRedirectResult()
.then((result) => {
// IdP data available in result.additionalUserInfo.profile.
// ...

/** @type {firebase.auth.OAuthCredential} */
var credential = result.credential;

// OAuth access and id tokens can also be retrieved:
var accessToken = credential.accessToken;
var idToken = credential.idToken;
})
.catch((error) => {
// Handle error.
});
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L67-L81]

성공적으로 완료되면 제공업체에 연결된 OAuth 액세스 토큰을 반환되는 firebase.auth.UserCredential 객체에서 가져올 수 있습니다.

OAuth 액세스 토큰을 사용하면 Microsoft Graph API [https://docs.microsoft.com/en-us/graph/overview?toc=./toc.json&view=graph-rest-1.0]를 호출할 수 있습니다.

예를 들어 기본 프로필 정보를 가져오려면 다음 REST API를 호출할 수 있습니다.

curl -i -H "Authorization: Bearer ACCESS_TOKEN" https://graph.microsoft.com/v1.0/me

Firebase 인증에서 지원하는 다른 제공업체와 달리, Microsoft는 사진 URL을 제공하지 않고 대신 Microsoft Graph API [https://docs.microsoft.com/en-us/graph/api/profilephoto-get?view=graph-rest-1.0]를 통해 프로필 사진의 바이너리 데이터를 요청하게 됩니다.

OAuth 액세스 토큰 외에도 사용자의 OAuth ID 토큰 [https://docs.microsoft.com/en-us/azure/active-directory/develop/id-tokens]을 firebase.auth.UserCredential 객체에서 가져올 수 있습니다. ID 토큰의 sub 클레임은 앱별로 적용되며 Firebase Auth에서 사용하고 user.providerData[0].uid에서 액세스할 수 있는 제휴 사용자 식별자와 일치하지 않습니다. 대신 oid 클레임 필드를 사용해야 합니다.
Azure AD 테넌트를 사용하여 로그인할 때는 oid 클레임이 정확히 일치합니다.
하지만 테넌트 외의 케이스에서는 oid 필드가 패딩됩니다. 제휴 ID 4b2eabcdefghijkl의 경우 oid에 00000000-0000-0000-4b2e-abcdefghijkl 양식이 사용됩니다.
위의 예시는 로그인 과정에 중점을 두고 있지만 linkWithPopup/linkWithRedirect를 사용하여 Microsoft 제공업체를 기존 사용자에 연결할 수도 있습니다. 예를 들어 여러 제공업체를 동일한 사용자에 연결하여 그 중 하나로 로그인하도록 허용할 수 있습니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { getAuth, linkWithPopup, OAuthProvider } from "firebase/auth";

const provider = new OAuthProvider('microsoft.com');
const auth = getAuth();

linkWithPopup(auth.currentUser, provider)
.then((result) => {
// Microsoft credential is linked to the current user.
// IdP data available in result.additionalUserInfo.profile.

// Get the OAuth access token and ID Token
const credential = OAuthProvider.credentialFromResult(result);
const accessToken = credential.accessToken;
const idToken = credential.idToken;
})
.catch((error) => {
// Handle error.
});
auth_msft_link_popup.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_link_popup.js#L8-L25]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
var provider = new firebase.auth.OAuthProvider('microsoft.com');
firebase.auth().currentUser.linkWithPopup(provider)
.then((result) => {
// Microsoft credential is linked to the current user.
// IdP data available in result.additionalUserInfo.profile.
// OAuth access token can also be retrieved:
// result.credential.accessToken
// OAuth ID token can also be retrieved:
// result.credential.idToken
})
.catch((error) => {
// Handle error.
});
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L87-L99]

최근 로그인한 적이 있어야 진행할 수 있는 중요한 작업에 대해 새로운 사용자 인증 정보를 검색하는 데 사용할 수 있는 reauthenticateWithPopup/reauthenticateWithRedirect와 동일한 패턴을 사용할 수 있습니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { getAuth, reauthenticateWithPopup, OAuthProvider } from "firebase/auth";

const provider = new OAuthProvider('microsoft.com');
const auth = getAuth();
reauthenticateWithPopup(auth.currentUser, provider)
.then((result) => {
// User is re-authenticated with fresh tokens minted and
// should be able to perform sensitive operations like account
// deletion and email or password update.
// IdP data available in result.additionalUserInfo.profile.

// Get the OAuth access token and ID Token
const credential = OAuthProvider.credentialFromResult(result);
const accessToken = credential.accessToken;
const idToken = credential.idToken;
})
.catch((error) => {
// Handle error.
});
auth_msft_reauth_popup.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/microsoft-oauth/auth_msft_reauth_popup.js#L8-L26]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
var provider = new firebase.auth.OAuthProvider('microsoft.com');
firebase.auth().currentUser.reauthenticateWithPopup(provider)
.then((result) => {
// User is re-authenticated with fresh tokens minted and
// should be able to perform sensitive operations like account
// deletion and email or password update.
// IdP data available in result.additionalUserInfo.profile.
// OAuth access token can also be retrieved:
// result.credential.accessToken
// OAuth ID token can also be retrieved:
// result.credential.idToken
})
.catch((error) => {
// Handle error.
});
microsoft-oauth.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/microsoft-oauth.js#L105-L119]

account-exists-with-different-credential 오류 처리

Firebase Console [https://console.firebase.google.com/?hl=ko]에서 이메일 주소당 계정 1개를 사용 설정한 경우 다른 Firebase 사용자의 제공업체(예: Google)에 이미 존재하는 이메일을 사용하여 Microsoft와 같은 제공업체에 로그인을 시도하면 AuthCredential 객체(Microsoft 사용자 인증 정보)와 함께 auth/account-exists-with-different-credential 오류가 발생합니다. 사용자가 원하는 제공업체에 로그인하려면 먼저 기존 제공업체(예: Google)에 로그인한 다음 신규 제공업체의 AuthCredential(Microsoft 사용자 인증 정보)에 연결해야 합니다.

팝업 모드

signInWithPopup을 사용하는 경우 다음 예시와 같은 코드를 사용해 auth/account-exists-with-different-credential 오류를 처리할 수 있습니다.

import {
getAuth,
linkWithCredential,
signInWithPopup,
OAuthProvider,
} from "firebase/auth";

try {
// Step 1: User tries to sign in using Microsoft.
let result = await signInWithPopup(getAuth(), new OAuthProvider());
} catch (error) {
// Step 2: User's email already exists.
if (error.code === "auth/account-exists-with-different-credential") {
// The pending Microsoft credential.
let pendingCred = error.credential;

// Step 3: Save the pending credential in temporary storage,

// Step 4: Let the user know that they already have an account
// but with a different provider, and let them choose another
// sign-in method.
}
}

// ...

try {
// Step 5: Sign the user in using their chosen method.
let result = await signInWithPopup(getAuth(), userSelectedProvider);

// Step 6: Link to the Microsoft credential.
// TODO: implement `retrievePendingCred` for your app.
let pendingCred = retrievePendingCred();

if (pendingCred !== null) {
// As you have access to the pending credential, you can directly call the
// link method.
let user = await linkWithCredential(result.user, pendingCred);
}

// Step 7: Continue to app.
} catch (error) {
// ...
}

리디렉션 모드

리디렉션 모드에서도 오류를 비슷한 방식으로 처리하지만, 페이지 리디렉션 사이에 대기 중인 사용자 인증 정보를 캐시해야 한다는 점이 다릅니다(예: 세션 스토리지 사용).

고급: 수동으로 로그인 과정 처리

OAuth 액세스 토큰 기반의 사용자 인증 정보를 사용하여 직접 로그인할 수 있는 다른 Firebase 지원 OAuth 제공업체(예: Google, Facebook, Twitter)와 달리, Firebase 인증 서버에서 Microsoft OAuth 액세스 토큰의 사용자를 인증할 수 없으므로 Firebase 인증은 Microsoft와 같은 제공업체에 대해 동일한 인증 기능을 지원하지 않습니다.
이는 중요한 보안 요구사항이며 한 프로젝트(공격자)에서 확보한 Microsoft OAuth 액세스 토큰을 다른 프로젝트(피해자)에 로그인하는 데 사용할 수 있는 경우 애플리케이션과 웹사이트가 재전송 공격에 노출될 수 있습니다.
대신 Firebase 인증은 Firebase Console에 구성된 OAuth 클라이언트 ID와 보안 비밀을 사용하여 전체 OAuth 과정과 승인 코드 교환을 처리할 수 있는 기능을 제공합니다. 승인 코드는 특정 클라이언트 ID/보안 비밀과 함께 사용되어야 하므로, 한 프로젝트에서 확보한 승인 코드는 다른 프로젝트에 사용할 수 없습니다.

지원되지 않는 환경에서 이러한 제공업체를 사용해야 하는 경우 서드 파티 OAuth 라이브러리 및 Firebase 커스텀 인증 [https://firebase.google.com/docs/auth/admin/create-custom-tokens?hl=ko]을 사용해야 합니다. 서드 파티 라이브러리는 제공업체 인증에 필요하고 Firebase 커스텀 인증은 제공업체의 사용자 인증 정보를 커스텀 토큰으로 교환할 때 필요합니다.

Chrome 확장 프로그램에서 Firebase로 인증

Chrome 확장 프로그램 앱을 빌드하는 경우에는 오프스크린 문서 가이드 [https://firebase.google.com/docs/auth/web/chrome-extension?hl=ko#use_offscreen_documents]를 참조하세요.

Microsoft 로그인을 위한 리디렉션 도메인 맞춤설정

프로젝트를 만들 때 Firebase에서는 프로젝트의 고유한 하위 도메인(https://my-app-12345.firebaseapp.com)을 프로비저닝합니다.

이 도메인은 OAuth 로그인을 위한 리디렉션 메커니즘으로도 사용됩니다. 이 도메인은 지원되는 모든 OAuth 제공업체에 대해 허용되어야 합니다. 하지만 이로 인해 사용자는 애플리케이션으로 다시 리디렉션되기 전에 Microsoft에 로그인하는 과정에서 이 도메인을 볼 수 있습니다(예: 다음으로 이동: https://my-app-12345.firebaseapp.com).

하위 도메인이 표시되지 않게 하려면 Firebase Hosting으로 커스텀 도메인을 설정하면 됩니다.

Hosting용 도메인 설정 [https://firebase.google.com/docs/hosting/custom-domain?hl=ko]의 1~3단계를 따릅니다. 도메인 소유권을 확인하면 Hosting에서 커스텀 도메인의 SSL 인증서를 프로비저닝합니다.
Firebase Console [https://console.firebase.google.com/?hl=ko]에서 승인된 도메인 목록에 커스텀 도메인 auth.custom.domain.com을 추가합니다.
Microsoft 개발자 콘솔 또는 OAuth 설정 페이지에서 커스텀 도메인 https://auth.custom.domain.com/__/auth/handler에서 액세스할 수 있는 리디렉션 페이지의 URL을 허용 목록에 추가합니다.
JavaScript 라이브러리를 초기화할 때는 authDomain 필드를 사용하여 커스텀 도메인을 지정합니다.

var config = {
apiKey: '...',
// Changed from 'PROJECT_ID.firebaseapp.com'.
authDomain: 'auth.custom.domain.com',
databaseURL: 'https://PROJECT_ID.firebaseio.com',
projectId: 'PROJECT_ID',
storageBucket: 'PROJECT_ID.firebasestorage.app',
messagingSenderId: 'SENDER_ID'
};
firebase.initializeApp(config);

다음 단계

사용자가 처음으로 로그인하면 신규 사용자 계정이 생성되고 사용자가 로그인할 때 사용한 사용자 인증 정보(사용자 이름과 비밀번호, 전화번호 또는 인증 제공업체 정보)에 연결됩니다. 이 신규 계정은 Firebase 프로젝트에 저장되며 사용자의 로그인 방법과 무관하게 프로젝트 내의 모든 앱에서 사용자 본인 확인에 사용할 수 있습니다.

앱에서 사용자의 인증 상태를 파악할 때 권장하는 방법은 Auth 객체에 관찰자를 설정하는 것입니다. 그러면 User 객체로부터 사용자의 기본 프로필 정보를 가져올 수 있습니다. 사용자 관리 [https://firebase.google.com/docs/auth/web/manage-users?hl=ko]를 참조하세요.

Firebase Realtime Database와 Cloud Storage 보안 규칙 [https://firebase.google.com/docs/database/security/user-security?hl=ko]의 auth 변수에서 로그인한 사용자의 고유 사용자 ID를 가져온 후 이 ID를 통해 사용자가 액세스할 수 있는 데이터를 관리할 수 있습니다.

인증 제공업체의 사용자 인증 정보를 기존 사용자 계정에 연결 [https://firebase.google.com/docs/auth/web/account-linking?hl=ko]하면 사용자가 여러 인증 제공업체를 통해 앱에 로그인할 수 있습니다.

사용자를 로그아웃시키려면 signOut [https://firebase.google.com/docs/reference/js/auth?hl=ko#signout]을 호출합니다.

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-modular-api] ---
import { getAuth, signOut } from "firebase/auth";

const auth = getAuth();
signOut(auth).then(() => {
// Sign-out successful.
}).catch((error) => {
// An error happened.
});
auth_sign_out.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/snippets/auth-next/index/auth_sign_out.js#L8-L15]

--- 탭: Web [https://firebase.google.com/docs/auth/web/microsoft-oauth?hl=ko#web-namespaced-api] ---
firebase.auth().signOut().then(() => {
// Sign-out successful.
}).catch((error) => {
// An error happened.
});
index.js [https://github.com/firebase/snippets-web/blob/467eaa165dcbd9b3ab15711e76fa52237ba37f8b/auth/index.js#L33-L37]

의견 보내기