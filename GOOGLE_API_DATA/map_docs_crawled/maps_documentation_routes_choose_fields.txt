Source URL: https://developers.google.com/maps/documentation/routes/choose_fields

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Web Services [https://developers.google.com/maps/web-services?hl=ko]
Routes API [https://developers.google.com/maps/documentation/routes?hl=ko]
의견 보내기
유럽 경제 지역 (EEA) 개발자

반환할 필드 선택
경로 또는 경로 매트릭스를 요청할 때는 필드 마스크를 사용하여 응답에서 반환해야 하는 정보를 지정해야 합니다. 반환된 필드의 기본 목록은 없습니다. 필드 마스크를 지정하지 않으면 메서드에서 오류를 반환합니다.
필드 마스크를 사용하면 불필요한 데이터를 요청하지 않아도 되므로 응답 지연 시간을 줄이고 시스템에 필요하지 않은 정보를 반환하지 않을 수 있습니다.
응답 필드 마스크에서 필요한 필드의 목록을 지정합니다. 그런 다음 URL 매개변수 $fields 또는 fields를 사용하거나 HTTP 또는 gRPC 헤더 X-Goog-FieldMask를 사용하여 응답 필드 마스크를 메서드에 전달합니다.
URL 매개변수에 대한 자세한 내용은 시스템 매개변수 [https://cloud.google.com/apis/docs/system-parameters?hl=ko]를 참고하세요.
응답 필드 마스크 정의
응답 필드 마스크는 쉼표로 구분된 경로 목록이며 각 경로는 응답 메시지의 고유한 필드를 지정합니다. 경로는 최상위 응답 메시지에서 시작하며 점으로 구분된 경로를 지정된 필드에 사용합니다.
다음과 같이 필드 경로를 구성하고 지정합니다.
필요한 정보가 포함된 필드를 찾습니다. 자세한 내용은 필드 참조 [https://developers.google.com/maps/documentation/routes/choose_fields?hl=ko#field-ref]를 확인하세요.
필요한 필드의 경로를 확인하고 필드 마스크 구성: 자세한 내용은 사용할 필드 마스크 결정 [https://developers.google.com/maps/documentation/routes/choose_fields?hl=ko#determine-field-mask]을 참고하세요.
필요한 모든 필드의 필드 마스크를 결합하고 필드 마스크를 쉼표로 구분합니다. 예를 들어 경로 구간의 distanceMeters와 각 경로 구간 단계의 지속 시간을 요청하려면 공백 없이 쉼표로 구분하여 둘 다 입력합니다.
routes.legs.distanceMeters,routes.legs.steps.duration
API 요청과 함께 필드 마스크를 전송합니다. 예를 들어 curl 요청에서 -H 및 X-Goog-FieldMask로 필드 마스크를 지정합니다.
-H X-Goog-FieldMask: routes.legs.distanceMeters,routes.legs.steps.duration
예시 및 자세한 내용은 다음 섹션을 참고하세요.
필드 참조
필드 마스크를 통해 응답에서 요청할 수 있는 필드를 확인하려면 다음 목록에 연결된 Routes API Compute Routes 또는 Compute Route Matrix 참조를 참고하세요. 참조에 표시된 대로 카멜 표기법으로 필드를 지정합니다. 예를 들면 routePreference입니다.
반면 매개변수 값은 표시된 대로 입력해야 합니다. 예를 들어 routingPreference의 경우 TRAFFIC_AWARE를 입력해야 합니다.
이러한 참조에는 사용 가능한 필드가 포함되어 있지만 전체 필드 마스크 경로를 확인하려면 필드의 계층 구조를 참조해야 합니다. 필드의 계층 구조를 가져오는 방법에 관한 자세한 내용은 사용할 필드 마스크 결정하기 [https://developers.google.com/maps/documentation/routes/choose_fields?hl=ko#determine-field-mask]를 참고하세요.
경로 필드 마스크 계산
REST: 응답에서 반환할 Route [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRoutes?hl=ko#Route] 객체의 필드를 지정합니다. routes.로 시작합니다(예: routes.distanceMeters).
gRPC: 응답에서 반환할 Route [https://developers.google.com/maps/documentation/routes/reference/rpc/google.maps.routing.v2?hl=ko#route] 객체의 필드를 지정합니다.
경로 행렬 계산 필드 마스크
REST: 반환할 응답 본문 [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRouteMatrix?hl=ko#response-body]의 필드를 지정합니다.
gRPC: 응답에서 반환할 RouteMatrixElement [https://developers.google.com/maps/documentation/routes/reference/rpc/google.maps.routing.v2?hl=ko#routematrixelement] 객체의 필드를 지정합니다.
사용할 필드 마스크 결정
사용할 필드를 결정하고 필드 마스크를 구성하는 방법은 다음과 같습니다.
* 필드 마스크를 사용하여 모든 필드를 요청합니다.
주의: 개발 중에 이 와일드 카드 필드 마스크를 사용하여 필요한 필드를 확인할 수 있지만 프로덕션에서는 사용하지 마세요. 프로덕션에서 모든 필드를 요청하면 비용이 증가하고 응답 시간이 길어집니다. 이 필드 마스크에는 고급 기능이 자동으로 포함되므로 고급 기능이 추가되면 비용이 예기치 않게 증가할 수도 있습니다. 대신 비용과 요청 응답 시간을 최소화하기 위해 필요한 필드만 요청하세요.
원하는 필드의 응답에서 필드의 계층 구조를 확인합니다.
이 형식을 사용하여 이전 단계에 표시된 필드의 계층 구조를 사용하여 필드 마스크를 구성합니다.
topLevelField[.secondLevelField][.thirdLevelField][...]
참고: 필드 경로 목록의 어느 곳에도 공백을 사용하지 마세요.
예를 들어 경로에서 다음과 같은 부분 응답이 있는 경우
"routes": [
    {
        "legs": [
            {  "steps": [
                    {"distanceMeters": 119},
                    {"distanceMeters": 41}  ]
            }
        ],
        "distanceMeters": 160
    }
]
경로 구간의 distanceMeters 필드만 반환하려는 경우, 즉 위의 샘플에서 마지막 distanceMeters 필드만 반환하려는 경우 필드 마스크는 다음과 같습니다.
routes.legs.distanceMeters
대신 경로 구간의 각 단계에 대한 distanceMeters 필드(즉, 이전 샘플의 steps 아래에 있는 distanceMeters)를 반환하려면 필드 마스크는 다음과 같습니다.
routes.legs.steps.distanceMeters
위의 결과와 함께 두 값을 모두 반환하려면 필드 마스크는 다음과 같습니다.
routes.legs.distanceMeters,routes.legs.steps.distanceMeters
필드 마스크 경로의 예
이 섹션에는 REST 및 gRPC 호출에서 응답 필드 마스크의 일부로 필드 경로를 지정하는 방법에 관한 추가 예시가 포함되어 있습니다.
computeRoutes에 대한 REST 호출
첫 번째 예에서는 REST 호출을 computeRoutes [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRoutes?hl=ko] 메서드에 사용하여 경로를 계산합니다. 이 예시에서는 헤더에서 필드 마스크를 지정하여 응답에 경로 distanceMeters 및 duration 필드를 반환합니다. 필드 이름 앞에 routes을 붙여야 합니다.
X-Goog-FieldMask: routes.distanceMeters,routes.duration
computeRouteMatrix에 대한 REST 호출
경로 매트릭스를 계산하는 데 사용되는 REST computeRouteMatrix [https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRouteMatrix?hl=ko] 메서드의 경우 헤더에서 출발지와 목적지의 각 조합에 대해 originIndex, destinationIndex, duration를 반환하도록 지정합니다.
X-Goog-FieldMask: originIndex,destinationIndex,duration
gRPC 호출
gRPC의 경우 응답 필드 마스크가 포함된 변수를 설정합니다. 그런 다음 해당 변수를 요청에 전달할 수 있습니다.
const (
  fieldMask = "routes.distanceMeters,routes.duration,routes.polyline.encodedPolyline"
)
필드 경로 고려사항
응답에 필요한 필드만 포함하여 필요한 필드만 반환합니다.
처리 시간을 줄여 지연 시간이 짧은 결과를 반환합니다.
안정적인 지연 시간 성능을 보장합니다. 모든 필드를 선택하거나 최상위 수준에서 모든 필드를 선택하면 새 필드가 추가된 후 응답에 자동으로 포함될 때 성능이 저하될 수 있습니다.
응답 크기가 작아져 네트워크 처리량이 높아집니다.
불필요한 데이터의 요청을 방지하여 불필요한 처리에 드는 시간과 요금을 막을 수 있습니다.
참고: 응답 메시지가 파싱되고 응답 메시지의 필드에 기본값이 포함된 경우, 응답 필드 마스크에 지정했더라도 응답에서 필드가 생략될 수 있습니다. 자세한 내용은 언어 가이드 (proto3) [https://developers.google.com/protocol-buffers/docs/proto3?hl=ko#default]를 참고하세요. 예를 들어 경로 매트릭스를 계산할 때 응답의 distanceMeters 필드에는 기본값인 0이 포함될 수 있습니다. 0은 distanceMeters의 기본값이므로 대답에서 생략됩니다.
필드 마스크 구성에 관한 자세한 내용은 field_mask.proto [https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/field_mask.proto]를 참고하세요.
의견 보내기