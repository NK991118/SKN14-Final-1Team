Source URL: https://developers.google.com/maps/documentation/navigation/android-sdk/nav-map-interactions-best-practices?hl=ko
Title: 탐색 지도 상호작용 권장사항

의견 보내기

탐색 지도 상호작용 권장사항

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지에서는 앱에서 탐색 지도와 상호작용하기 위한 권장사항을 설명합니다.

가능한 경우 NavigationView 대신 SupportNavigationFragment 사용

SupportNavigationFragment는 NavigationView 수명 주기 콜백을 편리하게 처리하기 위한 래퍼이므로 이러한 콜백을 직접 관리할 필요가 없습니다. 이 메서드는 오류가 적게 발생하며 앱에서 탐색을 사용하는 기본 방법입니다. SupportNavigationFragment를 사용할 때는 NavigationView 수명 주기 이벤트를 호출하지 마세요.

NavigationView를 사용하는 경우 수명 주기 메서드를 호출할 때 엄격한 순서 사용

NavigationView는 탐색 지도를 호스팅하고 Android 활동 및 프래그먼트와 같이 수명 주기 이벤트를 긴밀하게 따라 이러한 수명 주기 이벤트가 호출될 때 특정 작업을 실행합니다. NavigationView은 NavigationView#onCreate 및 NavigationView#onStart에서 여러 초기화를 실행하고 NavigationView#onStop 및 NavigationView#onDestroy에서 정리하며 다른 수명 주기 이벤트가 처리될 때도 실행합니다.

NavigationView 수명 주기 메서드는 Android 활동이나 프래그먼트의 경우와 동일한 의미를 갖습니다. 예를 들어 NavigationView의 onCreate()는 Android 활동 또는 프래그먼트의 수명 주기 콜백에 의해 대략적으로 변환되고 호출되어야 합니다. NavigationView 수명 주기 콜백은 Android 수명 주기 콜백과 동일한 순서로 기반을 두고 호출되므로 이러한 NavigationView 메서드의 강력한 순서가 필요합니다. 그렇지 않으면 메모리 누수 [https://developers.google.com/maps/documentation/navigation/android-sdk/memory-best-practices?hl=ko], UI 오류, 위치 업데이트 안 됨 등의 문제가 발생할 수 있습니다.

Android 활동 수명 주기에 관한 자세한 내용은 Android 개발자 문서의 활동 수명 주기 개념 [https://developer.android.com/guide/components/activities/activity-lifecycle?hl=ko#alc] 섹션을 참고하세요.

다음 표는 지정된 수명 주기 메서드 후에 다른 수명 주기 메서드를 호출해야 하는 시점을 보여줍니다.

| 수명 주기 메서드 | 활동 수명 주기에서 호출되는 위치 | 어떤 수명 주기 메서드 후에 호출되나요? |
| --- | --- | --- |
| onConfigurationChanged() | UI가 포그라운드에 있고 구성이 변경될 때 호출됩니다. | 항상 onStart() 뒤 |
| onTrimMemory() | 활동이 백그라운드에 있을 때 호출됩니다. | 항상 onPause() 뒤 |
| onSaveInstance() | 활동이 소멸되기 전에 호출됩니다. | 항상 onStop() 뒤 |

해당 닫기 메서드를 먼저 호출하지 않고 이러한 수명 주기 메서드를 여러 번 호출하지 마세요. 또한 이러한 Android 수명 주기 콜백 중 일부가 앱 자체에서 관리되고 생성 또는 시작 후 NavigationView가 프래그먼트에 추가되는 경우 앱은 Navigation SDK를 올바르게 초기화하기 위해 적절한 순서로 특정 메서드를 직접 호출해야 합니다.

이러한 메서드 사용에 관한 추가 안내는 Navigation SDK 데모 앱 [https://github.com/googlemaps-samples/android-navigation-samples/blob/4afba69715ebf6c176a2eb438f86d06c23065e7f/navigation-sample/app/src/main/java/com/example/navigationapidemo/NavViewActivity.kt#L279]을 참고하세요.

NavigationView를 사용하는 경우 활동 또는 프래그먼트에서 수명 주기 이벤트를 호출합니다(둘 다 아님).

수명 주기 메서드의 엄격한 순서를 유지하려면 이러한 이벤트를 순서대로 수신하는 활동 또는 프래그먼트 수명 주기 콜백에서 호출하세요. 이 접근 방식을 사용하면 앱이 프래그먼트와 활동 간에 조정할 필요가 없고 중복 호출이 발생하지 않습니다.

의견 보내기