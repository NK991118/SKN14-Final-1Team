Source URL: https://developers.google.com/maps/documentation/air-quality/history

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Environment [https://developers.google.com/maps/environment?hl=ko]
Air Quality API [https://developers.google.com/maps/documentation/air-quality?hl=ko]
의견 보내기
기록
history [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko] 엔드포인트는 최대 30일까지 지정된 시간 범위의 특정 위치에 대한 시간별 과거 공기질 정보를 제공합니다. 반환되는 AQI 및 관련 정보 (예: 오염물질 농도 수준 및 건강 권장사항)를 제어할 수 있습니다.
다음 주소로 HTTP POST 요청을 전송하여 history [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko] 엔드포인트를 사용하여 시간별 대기질 기록을 요청할 수 있습니다.
https://airquality.googleapis.com/v1/history:lookup?key=YOUR_API_KEY
JSON 요청 본문 [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko#request-body]에 요청 옵션을 포함합니다. 요청 본문에는 시간별 공기질 기록을 가져오려는 위치와 시간 범위가 포함됩니다. 또한 대답에 포함할 공기질 정보를 제어하는 다양한 옵션이 포함될 수도 있습니다.
API 탐색기를 사용하면 API와 API 옵션을 숙지할 수 있도록 라이브 요청을 할 수 있습니다.
사용해 보기 [https://developers.google.com/maps/documentation/air-quality/history?hl=ko#try_it]
1시간 요청의 예
단일 시간 요청 본문
다음 코드는 history [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko] 메서드를 사용하여 1시간 기록 요청의 요청 본문을 구성하는 방법을 보여줍니다. 이 예시에서는 위치와 과거 타임스탬프를 설정합니다.
참고: dateTime 매개변수가 지난 30일 이내의 기간을 지정하는지 확인하세요.
curl -X POST -d '{
  "dateTime": "2023-06-26T15:01:23Z",
  "location": {
    "latitude": 37.419734,
    "longitude": -122.0827784
  }
}' \
-H 'Content-Type: application/json' \
'https://airquality.googleapis.com/v1/history:lookup?key=YOUR_API_KEY'
1시간 이내 응답
위 호출은 다음 JSON 응답 [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko#response-body]을 생성합니다. 응답 데이터에 관한 자세한 내용은 응답 데이터 [https://developers.google.com/maps/documentation/air-quality/response-data?hl=ko]를 참고하세요.
참고: 기본적으로 응답에는 기본 AQI 정보가 포함된 범용 AQI가 포함됩니다. 해당 매개변수를 설정하여 AQI를 삭제하거나 다른 AQI로 대체할 수 있습니다.
{
    "hoursInfo": [
        {
            "dateTime": "2023-06-26T15:00:00Z",
            "indexes": [
                {
                    "code": "uaqi",
                    "displayName": "Universal AQI",
                    "aqi": 73,
                    "aqiDisplay": "73",
                    "color": {
                        "red": 118,
                        "green": 202,
                        "blue": 51,
                        "alpha": 255
                    },
                    "category": "Good air quality",
                    "dominantPollutant": "pm10"
                }
            ]
        }
    ],
    "regionCode": "us"
}
참고: color 필드 값이 0이면 해당 필드는 응답에서 생략됩니다.
기간 요청의 예
기간 요청
다음 코드는 시간별 과거 대기질 기록을 여러 개 반환하는 history [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko]의 요청 본문을 구성하는 방법을 보여줍니다.
시작 및 종료 타임스탬프인 시간 범위를 지정하거나 현재 시간으로부터 이전 시간 수를 지정하여 여러 레코드를 요청할 수 있습니다.
참고: 결과는 페이지로 반환되며, 가장 최근 결과가 첫 번째 페이지에 반환됩니다. pageSize 속성을 사용하여 페이지당 최대 결과 수를 제어합니다. 모든 결과를 가져오는 데 두 페이지 이상이 필요한 경우 각 페이지에는 후속 페이지를 가져오는 데 사용하는 토큰이 포함된 nextPageToken 속성이 포함됩니다.
아래 예에서는 페이지 크기를 2로 설정했으므로 4시간의 대기질 기록 요청이 두 페이지로 반환되며 각 페이지에는 2시간의 데이터가 포함됩니다.
curl -X POST -d '{
  "hours": 4,
  "pageSize": 2,
  "pageToken":"",
  "location": {
    "latitude": 37.419734,
    "longitude": -122.0827784
  }
}' \
-H 'Content-Type: application/json' \
'https://airquality.googleapis.com/v1/history:lookup?key=YOUR_API_KEY'
시작 및 종료 타임스탬프를 전달하여 유사한 요청을 할 수 있습니다.
참고: startTime 및 endTime 매개변수가 지난 30일 이내의 기간을 지정하는지 확인하세요.
curl -X POST -d '{
  "period": {
      "startTime":"2023-06-15T08:00:00Z",
      "endTime":"2023-06-15T12:00:00Z"
  },
  "pageSize": 2,
  "pageToken":"",
  "location": {
    "latitude": 37.419734,
    "longitude": -122.0827784
  }
}' \
-H 'Content-Type: application/json' \
'https://airquality.googleapis.com/v1/history:lookup?key=YOUR_API_KEY'
기간 범위 응답
위의 호출은 아래 형식의 JSON 응답 [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/history/lookup?hl=ko#response-body]을 생성합니다. 응답 데이터에 관한 자세한 내용은 응답 데이터 [https://developers.google.com/maps/documentation/air-quality/response-data?hl=ko]를 참고하세요.
위의 두 호출 모두 4시간의 공기질 데이터를 요청합니다. 하지만 요청에서 pageSize 속성을 2로 설정했기 때문에 응답에는 가장 최근 2시간의 결과만 포함됩니다.
{
    "hoursInfo": [
        {
            "dateTime": "2023-06-15T11:00:00Z",
            "indexes": [
                {
                    "code": "uaqi",
                    "displayName": "Universal AQI",
                    "aqi": 83,
                    "aqiDisplay": "83",
                    "color": {
                        "red": 74,
                        "green": 185,
                        "blue": 54,
                        "alpha": 255
                    },
                    "category": "Excellent air quality",
                    "dominantPollutant": "o3"
                }
            ]
        },
        {
            "dateTime": "2023-06-15T10:00:00Z",
            "indexes": [
                {
                    "code": "uaqi",
                    "displayName": "Universal AQI",
                    "aqi": 89,
                    "aqiDisplay": "89",
                    "color": {
                        "red": 48,
                        "green": 175,
                        "blue": 55,
                        "alpha": 255
                    },
                    "category": "Excellent air quality",
                    "dominantPollutant": "o3"
                }
            ]
        }
    ],
    "regionCode": "us",
    "nextPageToken": "ChYaEgl3gv3XubVCQBEsNMY9TTdUMTE6MDA6MDA"
}
응답에는 nextPageToken 속성도 포함됩니다. 이 속성을 사용하여 다음 2시간의 데이터가 포함된 결과의 다음 페이지에 액세스합니다.
결과의 다음 페이지에 액세스하려면 history 엔드포인트에 두 번째 요청을 하지만 이번에는 pageToken 속성을 첫 번째 응답의 nextPageToken 값으로 설정합니다.
참고: 후속 데이터 페이지에 액세스하기 위해 pageToken 속성을 전달할 때는 다른 모든 요청 매개변수가 페이지 토큰을 제공한 원래 호출과 일치해야 합니다.
curl -X POST -d '{
  "hours": 4,
  "pageSize": 2,
  "pageToken":"ChYaEgl3gv3XubVCQBEsNMY9TTdUMTE6MDA6MDA",
  "location": {
    "latitude": 37.419734,
    "longitude": -122.0827784
  }
}' \
-H 'Content-Type: application/json' \
'https://airquality.googleapis.com/v1/history:lookup?key=YOUR_API_KEY'
기능을 사용해 보세요.
API 탐색기를 사용하면 API 및 API 옵션에 익숙해질 수 있도록 샘플 요청을 할 수 있습니다.
페이지 오른쪽에서 API 아이콘 api을 선택합니다.
원하는 경우 요청 매개변수를 수정합니다.
실행 버튼을 선택합니다. 대화상자에서 요청을 보낼 때 사용할 계정을 선택합니다.
API 탐색기 패널에서 전체 화면 아이콘 전체 화면을 선택하여 API 탐색기 창을 펼칩니다.
의견 보내기