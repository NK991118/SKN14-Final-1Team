Source URL: https://developers.google.com/maps/documentation/ios-sdk/examples/reverse-geocode?hl=ko
Title: 위치 역 지오코딩

의견 보내기

위치 역 지오코딩

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

유럽 경제 지역 (EEA) 개발자

청구서 수신 주소가 유럽 경제 지역에 있는 경우 2025년 7월 8일부터
Google Maps Platform EEA 서비스 약관 [https://cloud.google.com/terms/maps-platform/eea?hl=ko]
이 서비스 이용에 적용됩니다. 기능은 리전에 따라 다릅니다.
자세히 알아보기 [https://developers.google.com/maps/comms/eea/faq?hl=ko]

지도를 길게 누르면 동작의 좌표가 역 지오코딩 서비스로 전송됩니다. 성공하면 결과가 포함된 정보 창이 있는 마커가 지도에 추가됩니다.

시작하기

샘플 코드를 사용하기 전에 개발 환경을 구성해야 합니다.
자세한 내용은 iOS용 Maps SDK 코드 샘플 [https://developers.google.com/maps/documentation/ios-sdk/examples?hl=ko]을 참고하세요.

코드 보기

Swift
import GoogleMaps
import UIKit

override func loadView() {
view = mapView
mapView.delegate = self
"Could not reverse geocode point (\(coordinate.latitude), \(coordinate.longitude)): \(errorMessage)"
return
marker.map = mapView

guard let lines = address.lines, let title = lines.first else { return }
marker.title = title
if lines.count > 1 {
marker.snippet = lines[1]
Objective-C
#import "GoogleMapsDemos/Samples/GeocoderViewController.h"

#import <GoogleMaps/GoogleMaps.h>

@implementation GeocoderViewController {
GMSMapView *_mapView;
GMSGeocoder *_geocoder;
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-33.868
longitude:151.2086
_mapView.delegate = self;

_geocoder = [[GMSGeocoder alloc] init];

self.view = _mapView;
GMSReverseGeocodeCallback handler = ^(GMSReverseGeocodeResponse *response, NSError *error) {
[weakSelf handleResponse:response coordinate:coordinate error:error];
GMSAddress *address = response.firstResult;
if (address) {
NSLog(@"Geocoder result: %@", address);

GMSMarker *marker = [GMSMarker markerWithPosition:address.coordinate];
NSArray<NSString *> *lines = [address lines];

marker.title = [lines firstObject];
if (lines.count > 1) {
marker.snippet = [lines objectAtIndex:1];
marker.map = _mapView;
cd maps-sdk-for-ios-samples-main/GoogleMaps-Swift
pod install
open GoogleMapsSwiftDemos.xcworkspace

Objective-C
cd maps-sdk-for-ios-samples-main/GoogleMaps
pod install
open GoogleMapsDemos.xcworkspace

Xcode에서 컴파일 버튼을 눌러 현재 스키마로 앱을 빌드 [https://developer.apple.com/documentation/xcode/building-and-running-an-app]합니다. 빌드에서 오류가 발생하여 Swift의 경우 SDKConstants.swift 파일에, Objective-C의 경우 SDKDemoAPIKey.h 파일에 API 키를 입력하라는 메시지가 표시됩니다.
iOS용 Maps SDK가 사용 설정된 [https://developers.google.com/maps/documentation/ios-sdk/cloud-setup?hl=ko#enabling-apis] 프로젝트에서 API 키를 가져옵니다 [https://developers.google.com/maps/documentation/ios-sdk/get-api-key?hl=ko].
Swift의 경우 SDKConstants.swift 파일, Objective-C의 경우 SDKDemoAPIKey.h 파일을 수정하고 apiKey 또는 kAPIKey 상수 정의에 API 키를 붙여넣습니다. 예를 들면 다음과 같습니다.

Swift

static let apiKey = "YOUR_API_KEY"

Objective-C

static NSString *const kAPIKey = @"YOUR_API_KEY";

SDKConstants.swift 파일 (Swift) 또는 SDKDemoAPIKey.h 파일 (Objective-C)에서 다음 줄을 삭제합니다. 이 줄은 사용자 정의 문제를 등록하는 데 사용되기 때문입니다.

Swift
#error (Register for API Key and insert here. Then delete this line.)

Objective-C

#error Register for API Key and insert here.

프로젝트를 빌드하고 실행합니다. iOS 시뮬레이터 창이 표시되고 Maps SDK 데모 목록이 표시됩니다.
표시된 옵션 중 하나를 선택하여 iOS용 Maps SDK의 기능을 실험해 보세요.
GoogleMapsDemos에서 위치에 액세스하도록 허용하라는 메시지가 표시되면 허용을 선택합니다.

의견 보내기