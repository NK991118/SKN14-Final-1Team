Source URL: https://developers.google.com/maps/documentation/android-sdk/dds-datasets/make-data-features-clickable?hl=ko
Title: 클릭 이벤트 처리

의견 보내기

클릭 이벤트 처리

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

플랫폼 선택:

Android [https://developers.google.com/maps/documentation/android-sdk/dds-datasets/make-data-features-clickable?hl=ko]

iOS [https://developers.google.com/maps/documentation/ios-sdk/dds-datasets/make-data-features-tappable?hl=ko]

JavaScript [https://developers.google.com/maps/documentation/javascript/dds-datasets/make-data-features-clickable?hl=ko]

데이터 기능이 click 이벤트에 응답하도록 하고 이를 사용하여 사용자 상호작용에 따라 기능의 모양을 변경합니다.

클릭 이벤트 핸들러 작성

지형지물 레이어에서 클릭 이벤트가 발생하면 Android용 Maps SDK는 FeatureClickEvent [https://developers.google.com/android/reference/com/google/android/gms/maps/model/FeatureClickEvent?hl=ko] 객체를 이벤트 핸들러에 전달합니다.

FeatureClickEvent.getFeatures() 메서드를 사용하여 클릭의 영향을 받는 기능 목록을 가져옵니다.

지형지물 레이어 이벤트 처리

데이터 세트 레이어에서 이벤트를 처리하려면 다음 단계를 따르세요. 이 예에서는 선택한 지형지물을 나타내는 다각형에 파란색 채우기와 테두리를 적용합니다.
참고: 이 예에서 데이터 세트의 globalid 속성에는 각 다각형의 고유 식별자가 포함되어 있습니다. 그런 다음 클릭한 다각형의 globalid을 검사하여 해당 다각형에만 파란색 스타일을 적용할 수 있습니다.
FeatureLayer.setFeatureStyle() [https://developers.google.com/android/reference/com/google/android/gms/maps/model/FeatureLayer?hl=ko#setFeatureStyle(com.google.android.gms.maps.model.FeatureLayer.StyleFactory)]를 호출하면 스타일 팩토리 함수가 데이터 세트의 모든 지형지물에 지형지물 스타일을 설정합니다. 이벤트 핸들러에서 데이터 세트의 스타일을 업데이트하려면 FeatureLayer.setFeatureStyle()를 호출하여 모든 데이터 세트 기능에 업데이트된 스타일을 설정해야 합니다.

새 지도 ID와 지도 스타일을 아직 만들지 않았다면 시작하기 [https://developers.google.com/maps/documentation/android/dds-datasets/start?hl=ko]의 단계에 따라 만드세요. 데이터 세트 지형지물 레이어를 사용 설정해야 합니다.
클래스가 FeatureLayer.OnFeatureClickListener [https://developers.google.com/android/reference/com/google/android/gms/maps/model/FeatureLayer.OnFeatureClickListener?hl=ko]을 구현하는지 확인합니다.
FeatureLayer.addOnFeatureClickListener() [https://developers.google.com/android/reference/com/google/android/gms/maps/model/FeatureLayer?hl=ko#addOnFeatureClickListener(com.google.android.gms.maps.model.FeatureLayer.OnFeatureClickListener)]를 호출하여 지형지물 클릭 이벤트의 이벤트 핸들러를 등록합니다.

Kotlin
private var datasetLayer: FeatureLayer? = null
.featureType(FeatureType.DATASET)
if (clickFeatures.get(0) is DatasetFeature) {
lastGlobalId = ((clickFeatures.get(0) as DatasetFeature).getDatasetAttributes().get("globalid"))
String lastgobalid = null;
@Override
public void onMapReady(GoogleMap map) {
.featureType(FeatureType.DATASET)
List<Feature> clickFeatures = event.getFeatures();
lastgobalid = null;
if (clickFeatures.get(0) instanceof DatasetFeature) {
lastgobalid = ((DatasetFeature) clickFeatures.get(0)).getDatasetAttributes().get("globalid");
strokeColor = 0xff00ff00
.fillColor(fillColor)
.strokeColor(strokeColor)
.build()
Map<String, String> globalIDs = ((DatasetFeature) feature).getDatasetAttributes();
String globalID = globalIDs.get("globalid");
int strokeColor = 0xff00ff00;
if (Objects.equals(globalID, lastgobalid)) {
strokeColor = 0xff0000ff;
.fillColor(fillColor)
.strokeColor(strokeColor)
.strokeWidth(2)
.build();