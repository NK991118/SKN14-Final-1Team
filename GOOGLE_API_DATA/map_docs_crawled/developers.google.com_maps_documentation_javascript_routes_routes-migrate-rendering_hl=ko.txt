Source URL: https://developers.google.com/maps/documentation/javascript/routes/routes-migrate-rendering?hl=ko
Title: 새 렌더링 메서드로 이전

의견 보내기

새 렌더링 메서드로 이전

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 가이드에서는 Route 클래스의 새로운 렌더링 메서드로 이전하는 방법을 보여줍니다.
Directions 서비스 (기존)에서 렌더링 메서드는 DirectionsRenderer 클래스의 일부였습니다. Route 클래스 (베타)는 createPolylines 및 createWaypointAdvancedMarkers이라는 두 가지 새로운 렌더링 메서드를 제공합니다.

기존 DirectionsRenderer

Directions 서비스 (기존)에서 렌더링 메서드는 DirectionsRenderer 클래스의 일부였습니다. DirectionsRenderer 클래스는 다중선, 연결된 마커, 단계의 텍스트 표시를 처리하며 다음 메서드가 있습니다.

setDirections() - 제공된 길찾기 응답을 렌더링합니다.
setMap() - 경로 응답을 렌더링할 지도를 설정합니다.
setPanel() - 패널에 경로를 일련의 텍스트 단계로 표시합니다.

다음 예에서는 DirectionsRenderer 클래스를 사용하여 지도에 경로를 렌더링하는 방법을 보여줍니다.

function initMap() {
Route 클래스 (베타)

Route 클래스 (베타)는 기존 DirectionsRenderer 클래스 메서드를 대체하는 다음과 같은 새로운 렌더링 메서드를 제공합니다.

createPolylines
createWaypointAdvancedMarkers

Route 클래스에는 기존 DirectionsRenderer 클래스의 setPanel() 메서드에 해당하는 메서드가 없습니다. 텍스트 단계를 표시하려면 HTML 요소를 수동으로 만들고 DOM에 삽입해야 합니다. 다음 예에서는 Route 클래스를 사용하여 지도에 경로를 렌더링하고 텍스트 단계를 표시하는 HTML 요소를 수동으로 만드는 방법을 보여줍니다.

const { Route } = await google.maps.importLibrary('routes') as google.maps.Routes;

map = new Map(document.getElementById("map"), {
zoom: 12,
center,
mapTypeControl: false,
mapId: 'DEMO_MAP_ID',

fitMapToPath(routes[0].path);

legContainer.setAttribute("aria-label", `Leg ${index + 1}`);

legContainer.appendChild(legTitleElement);

if (leg.steps && leg.steps.length > 0) {

leg.steps.forEach((step, stepIndex) => {
stepItem.setAttribute("aria-label", `Step ${stepIndex + 1}`);

maneuverNode.className = "maneuver";
stepItem.appendChild(maneuverNode);
distanceNode.className = "distance";
stepItem.appendChild(distanceNode);
instructionsNode.className = "instruction";
stepItem.appendChild(instructionsNode);
directionsPanel?.appendChild(fragment);

의견 보내기