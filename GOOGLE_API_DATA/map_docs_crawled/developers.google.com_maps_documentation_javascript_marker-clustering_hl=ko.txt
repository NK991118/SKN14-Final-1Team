Source URL: https://developers.google.com/maps/documentation/javascript/marker-clustering?hl=ko
Title: 마커 클러스터링

의견 보내기

마커 클러스터링

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

플랫폼 선택:

Android [https://developers.google.com/maps/documentation/android-sdk/utility/marker-clustering?hl=ko]

iOS [https://developers.google.com/maps/documentation/ios-sdk/utility/marker-clustering?hl=ko]

JavaScript [https://developers.google.com/maps/documentation/javascript/marker-clustering?hl=ko]

개요
이 튜토리얼에서는 마커 클러스터를 사용하여 지도에 많은 수의 마커를 표시하는 방법을 설명합니다.
@googlemaps/Markerclusterer [https://github.com/googlemaps/js-markerclusterer] 라이브러리를 Maps JavaScript API와 함께 사용하면 가까이 있는 마커를 클러스터로 결합하고 지도상에 마커를 간단하게 표시할 수 있습니다.

마커 클러스터링의 작동 방식을 보려면 아래 지도를 참고하세요.

클러스터의 숫자는 클러스터에 포함된 마커의 수를 나타냅니다. 클러스터 위치를 확대하면 클러스터의 숫자가 감소하고 지도에 개별 마커가 표시되기 시작합니다. 지도를 축소하면 마커가 클러스터로 다시 통합됩니다.
아래 샘플은 이 지도를 만드는 데 필요한 전체 코드를 보여줍니다.

TypeScript
import { MarkerClusterer } from "@googlemaps/markerclusterer";

async function initMap() {
const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary("marker") as google.maps.MarkerLibrary;

content: pinGlyph.element,
infoWindow.open(map, marker);

initMap();index.ts [https://github.com/googlemaps/js-samples/blob/2683f7366fb27829401945d2a7e27d77ed2df8e5/samples/marker-clustering/index.ts#L7-L82]

참고: TypeScript 및 Google 지도 사용에 관한 가이드 [https://developers.google.com/maps/documentation/javascript/using-typescript?hl=ko]를 읽어 보세요.

JavaScript
import { MarkerClusterer } from "@googlemaps/markerclusterer";

async function initMap() {
const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary(
"marker",
content: pinGlyph.element,
infoWindow.open(map, marker);

initMap();index.js [https://github.com/googlemaps/js-samples/blob/2683f7366fb27829401945d2a7e27d77ed2df8e5/dist/samples/marker-clustering/docs/index.js#L7-L77]

참고: JavaScript는 TypeScript 스니펫에서 컴파일됩니다.

CSS
/*
* Always set the map height explicitly to define the size of the div element
* that contains the map.
*/
body {
<html>
<head>
<title>Marker Clustering</title>

<link rel="stylesheet" type="text/css" href="./style.css" />
<script type="module" src="./index.js"></script>
</head>
<body>
<div id="map"></div>

<!-- prettier-ignore -->
<script>(g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
({key: "AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg", v: "weekly"});</script>
</body>
</html>index.html [https://github.com/googlemaps/js-samples/blob/2683f7366fb27829401945d2a7e27d77ed2df8e5/dist/samples/marker-clustering/docs/index.html#L8-L22]

샘플 사용해 보기

JSFiddle.net [https://jsfiddle.net/gh/get/library/pure/googlemaps/js-samples/tree/master/dist/samples/marker-clustering/jsfiddle]

Google Cloud Shell [https://ssh.cloud.google.com/cloudshell/editor?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fgooglemaps%2Fjs-samples&cloudshell_git_branch=sample-marker-clustering&cloudshell_tutorial=cloud_shell_instructions.md&cloudshell_workspace=.&hl=ko]

편의상 이 튜토리얼에서는 locations 배열을 사용하여 지도에 마커 집합을 추가합니다. 실제로는 다른 소스도 사용 가능합니다.
자세한 내용은 마커 만들기 [https://developers.google.com/maps/documentation/javascript/markers?hl=ko] 가이드를 참고하세요.

마커 클러스터 추가
마커 클러스터러를 추가하려면 아래 단계를 따르세요.
페이지 또는 애플리케이션에 마커 클러스터링 라이브러리를 추가합니다. 라이브러리는 NPM(@googlemaps/Markerclusterer [https://www.npmjs.com/package/@googlemaps/markerclusterer]) 및 GitHub 저장소 [https://github.com/googlemaps/js-markerclusterer]에 제공됩니다.
[TAB_GROUP_PLACEHOLDER_0]

앱에 마커 클러스터러를 추가합니다.
아래 코드는 지도에 마커 클러스터러를 추가합니다.
[TAB_GROUP_PLACEHOLDER_1]
이 샘플은 markers 배열을 MarkerClusterer에 전달합니다.

마커 클러스터러를 맞춤설정합니다.

렌더기 인터페이스를 통해 클러스터 아이콘을 맞춤설정 [https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#renderer]합니다.
클러스터를 생성하기 위한 알고리즘을 수정 [https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#algorithm]합니다.

자세히 알아보기
GitHub 저장소 [https://github.com/googlemaps/js-markerclusterer]에서 마커 클러스터링의 더 복잡한 예를 확인하고 라이브러리에 대한 참조 문서 [https://googlemaps.github.io/js-markerclusterer/]를 읽어 보세요.

의견 보내기