Source URL: https://developers.google.com/maps/documentation/roads/snap?hl=ko
Title: Snap to Roads

의견 보내기

Snap to Roads

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

Roads API는 경로를 따라 수집된 최대 100개의 GPS 포인트를 가져와 차량이 이동했을 가능성이 가장 높은 도로에 포인트가 스냅된 유사한 데이터 세트를 반환합니다. 원하는 경우 지점을 보간하여 도로의 지오메트리를 부드럽게 따르는 경로를 만들 수 있습니다.

요청

다음 형식으로 HTTPS를 사용하여 도로에 맞추기 요청을 전송해야 합니다.

https://roads.googleapis.com/v1/snapToRoads?parameters&key=YOUR_API_KEY

Required parameterspath
The path to be snapped. The path parameter accepts a list of
latitude/longitude pairs. Latitude and longitude values should be
separated by commas. Coordinates should be separated by the pipe
character: "|". For example:
path=60.170880,24.942795|60.170879,24.942796|60.170877,24.942796.

Note: The snapping algorithm works best for points that are not too far
apart. If you observe odd snapping behavior, try creating paths that have
points closer together. To ensure the best snap-to-road quality, you
should aim to provide paths on which consecutive pairs of points are
within 300m of each other. This will also help in handling any isolated,
long jumps between consecutive points caused by GPS signal loss, or noise.
Optional parametersinterpolate
Whether to interpolate a path to include all points forming the full
road-geometry. When true, additional interpolated points will also be
returned, resulting in a path that smoothly follows the geometry of the
road, even around corners and through tunnels. Interpolated paths will
most likely contain more points than the original path. Defaults to
false.

예

다음 요청은 지정된 포인트를 도로 지오메트리에 스냅합니다. 이 특정 데이터 세트는 원형 도로를 따릅니다. interpolate=true를 설정하면 반환된 지오메트리가 도로의 곡률과 일치합니다. interpolate=false를 사용하면 스냅된 경로가 도로를 따라가지만 결과 폴리라인이 매끄럽지 않습니다.

URL

https://roads.googleapis.com/v1/snapToRoads
?interpolate=true
&path=-35.27801%2C149.12958%7C-35.28032%2C149.12907%7C-35.28099%2C149.12929%7C-35.28144%2C149.12984%7C-35.28194%2C149.13003%7C-35.28282%2C149.12956%7C-35.28302%2C149.12881%7C-35.28473%2C149.12836
&key=YOUR_API_KEY

cURL

curl -L -X GET 'https://roads.googleapis.com/v1/snapToRoads?path=-35.27801%2C149.12958%7C-35.28032%2C149.12907%7C-35.28099%2C149.12929%7C-35.28144%2C149.12984%7C-35.28194%2C149.13003%7C-35.28282%2C149.12956%7C-35.28302%2C149.12881%7C-35.28473%2C149.12836&interpolate=true&key=YOUR_API_KEY'

응답

유효한 각 요청에 대해 Roads API은 요청 URL 내에 표시된 형식(예: 다음 JSON 응답)으로 응답을 반환합니다.

"snappedPoints":
[
"location":
"originalIndex": 0,
"placeId": "ChIJr_xl0GdNFmsRsUtUbW7qABM",
SnapToRoadsResponse| Field | Required | Type | Description |
| --- | --- | --- | --- |
| snappedPoints | optional | Array<SnappedPoint> | An array of snapped points. See SnappedPoint for more information. |
| warningMessage | optional | string | A string containing a user-visible warning. |

SnappedPoint| Field | Required | Type | Description |
| --- | --- | --- | --- |
| location | required | LatitudeLongitudeLiteral | See LatitudeLongitudeLiteral for more information. |
| placeId | required | string | A unique identifier for a place. All place IDs returned by the Roads API correspond to road segments. |
| originalIndex | optional | number | An integer that indicates the corresponding value in the original request. Each value in the request should map to a snapped value in the response. However, if you've set interpolate=true or if you're using nearest roads, then it's possible that the response will contain more coordinates than the request. Interpolated values will not have an originalIndex. These values are indexed from 0, so a point with an originalIndex of 4 will be the snapped value of the 5th latitude/longitude passed to the path parameter. Nearest Roads points may contain several points for single coordinates with differing location or placeId. |

LatitudeLongitudeLiteral

An object describing a specific location with Latitude and Longitude in
decimal degrees.
| Field | Required | Type | Description |
| --- | --- | --- | --- |
| latitude | required | number | Latitude in decimal degrees |
| longitude | required | number | Longitude in decimal degrees |

데모

지도에서 여기저기를 클릭하여 차량 트랙을 만듭니다. 점이 너무 멀리 떨어져 있으면 올바르게 스냅되지 않을 수 있습니다.
더블클릭하여 트랙을 도로에 스냅합니다.

참고: 스냅 알고리즘은 서로 가까운 점에 가장 적합합니다. 이상한 스냅 동작이 관찰되면 점이 더 가까이 있는 경로를 만들어 보세요. 예를 들어 도시에서 포인트는 도로 스냅 품질을 개선하기 위해 서로 몇 블록 이내에 있어야 합니다.

이 예시를 전체 화면 [https://developers.google.com/maps/documentation/roads/full/snap_with_api_key?hl=ko]으로 확인하세요.

[TAB_GROUP_PLACEHOLDER_0]

의견 보내기