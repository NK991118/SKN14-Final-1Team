Source URL: https://developers.google.com/maps/documentation/route-optimization/cost-model?hl=ko
Title: 비용 모델 매개변수

의견 보내기

비용 모델 매개변수

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

유럽 경제 지역 (EEA) 개발자

청구서 수신 주소가 유럽 경제 지역에 있는 경우 2025년 7월 8일부터
Google Maps Platform EEA 서비스 약관 [https://cloud.google.com/terms/maps-platform/eea?hl=ko]
이 서비스 이용에 적용됩니다. 기능은 리전에 따라 다릅니다.
자세히 알아보기 [https://developers.google.com/maps/comms/eea/faq?hl=ko]

OptimizeToursRequest 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/projects/optimizeTours?hl=ko], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.OptimizeToursRequest])에는 비용과 관련된 여러 속성이 포함되어 있습니다. 이러한 비용 매개변수는 요청의 비용 모델을 나타냅니다. 비용 모델은 다음과 같은 요청의 여러 상위 수준 최적화 목표를 포착합니다.

더 짧은 경로보다 더 빠른 Vehicle 경로를 우선시하거나 그 반대의 경우
Shipment 제공 비용이 Shipment 완료의 가치가 있는지 결정
비용 효율적인 경우에만 시간 내에 픽업 및 배송 실행

중요: 모든 비용 매개변수는 동일한 무차원 단위로 표시됩니다. 예를 들어 Vehicle.costPerHour에 할당된 비용 단위 하나는 Vehicle.costPerKilometer 및 ShipmentModel의 다른 비용 매개변수에 할당된 비용 단위 하나와 동일한 것으로 간주됩니다. 각 경로 최적화 사용자는 사용 사례에 따라 비용 단위의 의미를 정의합니다.

비용이 포함된 요청 예시 보기
"model": {
"globalStartTime": "2023-01-13T16:00:00-08:00",
"globalEndTime": "2023-01-14T16:00:00-08:00",
"shipments": [
"deliveries": [
"arrivalLocation": {
"latitude": 37.789456,
"longitude": -122.390192
Vehicle 비용 속성

Vehicle 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko#Vehicle], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.Vehicle])에는 다음과 같은 여러 비용 속성이 있습니다.

Vehicle.cost_per_hour: 이동, 대기, 방문, 휴식 시간을 포함한 시간당 차량 운영 비용을 나타냅니다.
Vehicle.cost_per_kilometer: 차량이 이동한 킬로미터당 비용을 나타냅니다.
Vehicle.cost_per_traveled_hour: 이동 중에만 차량을 운행하는 비용을 나타냅니다. 대기 시간, 방문 시간, 휴식 시간은 제외됩니다.

이러한 비용 매개변수를 사용하면 최적화 프로그램이 시간과 이동 거리 간의 균형을 조정할 수 있습니다. 최적화된 경로로 인해 발생한 비용은 응답 메시지에 metrics.costs로 표시됩니다.

costPerHour가 증가하면 최적화 도구는 가장 짧은 경로가 아닐 수도 있는 더 빠른 경로를 찾으려고 시도합니다. 이 예에서는 가장 빠른 경로가 가장 짧은 경로이므로 비용 매개변수를 변경해도 효과가 거의 없습니다.
경고: 비용 매개변수를 하나 이상 지정해야 합니다. ShipmentModel를 제한하는 비용 매개변수가 없으면 경로 최적화는 길이 또는 기간에 관계없이 허용된 시간 내에 완료할 수 있는 *모든* 경로를 반환합니다.
Shipment 비용 속성

Shipment 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko#Shipment], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.Shipment])에도 여러 비용 매개변수가 있습니다.

Shipment.penalty_cost는 배송을 건너뛰는 데 발생하는 비용을 나타냅니다. 배송의 penalty_cost 매개변수를 설정하지 않으면 배송이 필수가 됩니다. 즉, 지정된 제약 조건에 따라 배송을 완료할 수 없는 경우에만 배송이 건너뛰어집니다.
Shipment.VisitRequest.cost는 특정 수령 또는 배송의 비용을 나타내며, 주로 단일 배송의 여러 수령 또는 배송 옵션 간에 비용 절충을 지원하는 데 사용됩니다.

Shipment 비용 매개변수는 Vehicle 비용 매개변수와 동일한 무차원 단위를 사용합니다. Shipment를 완료하는 데 발생하는 비용이 페널티 비용을 초과하면 Shipment는 Vehicle의 경로에 포함되지 않고 대신 응답 메시지의 skipped_shipments 목록에 표시됩니다.
경고: 배송의 penalty_cost을 0으로 명시적으로 설정하면 드문 경우를 제외하고 해당 배송이 항상 건너뛰기됩니다. 대부분의 모델에서는 penalty_cost를 0으로 설정하지 않는 것이 좋습니다.
ShipmentModel 비용 속성

ShipmentModel 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.ShipmentModel], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko])에는 단일 비용 속성 globalDurationCostPerHour이 포함됩니다. 이 비용은 모든 차량이 ShipmentRoute를 완료하는 데 필요한 총 시간을 기준으로 발생합니다. globalDurationCostPerHour를 늘리면 모든 배송이 더 빨리 완료됩니다.

경로 최적화 응답 비용 속성

OptimizeToursResponse 메시지 (REST [https://developers.google.com/documentation/route-optimization/reference/rest/v1/OptimizeToursResponse?hl=ko], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.OptimizeToursResponse])에는 ShipmentRoute를 완료하는 과정에서 발생한 비용을 나타내는 비용 속성이 있습니다.
metrics.costs 및 metrics.totalCost 속성은 응답의 모든 경로에서 발생한 비용 단위 수를 나타냅니다. 각 routes 항목에는 특정 경로의 비용을 나타내는 routeCosts 및 routeTotalCosts 속성이 있습니다.

비용이 포함된 예시 요청에 대한 응답 보기
"routes": [
"vehicleStartTime": "2023-01-14T00:00:00Z",
"vehicleEndTime": "2023-01-14T00:28:22Z",
"visits": [
"isPickup": true,
"startTime": "2023-01-14T00:00:00Z",
"detour": "0s"

이 예시에서는 예시 요청의 model.shipments[1]만 건너뜁니다.
model.shipments[1]의 페널티 비용은 5단위로, 예시 응답의 총 model.shipments.penalty_cost 키와 일치합니다. Vehicle의 40.0costPerHour 및 10.0costPerKilometer에 비해 배송의 penaltyCost가 낮으므로 배송을 완료하는 것보다 배송을 건너뛰는 것이 더 비용 효율적입니다.

고급 주제: 비용 및 소프트 제약 조건

여러 OptimizeToursRequest 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/projects/optimizeTours?hl=ko], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.OptimizeToursRequest]) 속성은 소프트 제약 조건을 나타냅니다. 소프트 제약 조건은 충족할 수 없는 경우 비용이 발생하는 제약 조건입니다.

예를 들어 차량 LoadLimit (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko#LoadLimit], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.Vehicle.LoadLimit]) 제약 조건에는 softMaxLoad 및 costPerUnitAboveSoftMax 속성이 있습니다. 이러한 요소는 softMaxLoad를 초과하는 로드 단위에 비례하는 비용을 발생시키므로 비용 측면에서 타당한 경우에만 한도를 초과할 수 있습니다.

마찬가지로 TimeWindow 제약 조건 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko#TimeWindow], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.TimeWindow])에는 soft_start_time 및 soft_end_time 속성이 있으며, 제약 조건이 적용된 이벤트가 TimeWindow에 비해 얼마나 일찍 또는 늦게 발생하는지에 따라 발생하는 cost_per_hour_before_soft_start_time 및 cost_per_hour_after_soft_end_time이 있습니다.

모든 비용 모델 매개변수와 마찬가지로 소프트 제약 조건 비용은 다른 비용 매개변수와 동일한 무차원 단위로 표현됩니다.

LoadLimit 제약 조건은 부하 요구사항 및 제한 [https://developers.google.com/maps/documentation/route-optimization/load-demands-limits?hl=ko]에서 자세히 설명합니다. TimeWindow 제약 조건은 수령 및 배송 시간대 제약 조건 [https://developers.google.com/maps/documentation/route-optimization/time-windows?hl=ko]에 자세히 설명되어 있습니다.

의견 보내기