Source URL: https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko
Title: Android용 소비자 SDK 출시 노트

Android용 소비자 SDK 출시 노트

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용공지사항: API 수준 23, 24, 25 지원 중단 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#announcement_freezing_support_for_api_level_23_24_and_25]3.2.0 (2025년 6월 26일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#320_june_26_2025]종속 항목 및 구성 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#dependency_and_configuration_changes]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes]3.1.0 (2025년 3월 10일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#310_march_10_2025]3.0.0 (2024년 12월 6일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#300_december_06_2024]종속 항목 및 구성 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#dependency_and_configuration_changes_2]2.99.0 (2024년 11월 25일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#2990_november_25_2024]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_2]2.3.0 (2024년 8월 2일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#230_august_2_2024]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes]2.2.0 (2024년 5월 7일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#220_may_7_2024]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_2]2.1.0 (2024년 1월 17일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#210_january_17_2024]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_3]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_3]1.99.2 (2023년 11월 3일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#1992_november_3_2023]문제 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#issues]2.0.0 (2023년 9월 15일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#200_september_15_2023]공지: 브레이킹 체인지 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#announcement_breaking_changes]공지사항: API 지원 중단 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#announcement_api_deprecations]기타 변경사항 및 버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#other_changes_and_bug_fixes]이전 가이드 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#migration_guide]1.99.1 (2023년 8월 31일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#1991_august_31_2023]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_4]개선 사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#improvements]1.99.0 (2023년 6월 22일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#1990_june_22_2023]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_5]1.2.1 (2023년 6월 7일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#121_june_7_2023]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_6]1.2.0 (2022년 11월 21일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#120_november_21_2022]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_7]새로운 기능 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#new_features]1.1.2 (2022년 10월 27일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#112_october_27_2022]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_8]공지사항: Android 5 지원 중단 (2022년 7월 25일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#announcement_freezing_support_for_android_5_july_25_2022]v1.1.1 (2022년 7월 25일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v111_july_25_2022]v1.1.0 (2022년 4월 28일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v110_april_28_2022]v1.0.19 (2022년 3월 17일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v1019_march_17_2022]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_9]v1.0.14 (2021년 11월 30일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v1014_november_30_2021]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_4]스타일 맞춤설정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#styling_customization]비정상 종료 모니터링 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#crash_monitoring]인증 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#authentication_changes]v0.9.28 (2021년 5월 18일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v0928_may_18_2021]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_5]구현 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#implementation_changes]v0.9.15 (2020년 10월 7일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v0915_october_7_2020]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_6]v0.9.9 (2020년 7월 15일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v099_july_15_2020]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_7]구현 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#implementation_changes_2]기타 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#other_changes]v0.9.1 (2020년 3월 23일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v091_march_23_2020]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_8]개선 사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#improvements_2]v0.8.6 (2019년 12월 16일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v086_december_16_2019]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_9]구현 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#implementation_changes_3]기타 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#other_changes_2]참고 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#notes]v0.8.1 (2019년 9월 13일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v081_september_13_2019]새로운 기능 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#new_features_2]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_10]구현 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#implementation_changes_4]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_10]v0.7.0 (2019년 8월 7일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v070_august_7_2019]새로운 기능 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#new_features_3]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_11]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_11]개선 사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#improvements_3]v0.6.1 (2019년 6월 26일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v061_june_26_2019]새로운 기능 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#new_features_4]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_12]버그 수정 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#bug_fixes_12]개선 사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#improvements_4]v0.5.1.01 (2019년 5월 17일) [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#v05101_may_17_2019]새로운 기능 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#new_features_5]API 변경사항 [https://developers.google.com/maps/documentation/mobility/services/resources/relnotes_consumer_sdk_android?hl=ko#api_changes_13]

이 섹션에는 Android용 Consumer SDK의 출시 노트가 포함되어 있습니다.

공지사항: API 수준 23, 24, 25 지원 중단

모바일 OS 버전 지원 정책 [https://developers.google.com/maps/software-support?hl=ko#mobile-os-version-support-policy]에 따라 향후 주요 버전의 Android용 Consumer SDK에서 Android 6 및 7 (API 수준 23, 24, 25)에 대한 지원이 중단됩니다.

2025년 4분기부터 출시되는 Android용 Consumer SDK 버전은 최소 Android 8 (API 수준 26)을 지원합니다. 이전 SDK 버전은 Android 6과 7을 계속 지원합니다.

종속 항목에서 버전 번호를 지정하지 않으면 IDE에서 최신 SDK 버전을 로드하고 앱의 새 빌드에서 Android 6과 7을 지원하지 않습니다.

새 앱 버전의 최소 지원 OS를 올리는 시점을 제어하려면 애플리케이션의 빌드 종속 항목에 Android용 Consumer SDK 버전을 지정하세요.

3.2.0 (2025년 6월 26일)

내부 로깅 개선

종속 항목 및 구성 변경사항

Android용 Consumer SDK 버전 3.2.0부터 앱은 Kotlin 2.1로 업그레이드해야 합니다.

버그 수정

내부 애니메이션 결정에 항공 거리 대신 폴리라인 길이를 사용합니다.

3.1.0 (2025년 3월 10일)

내부 로깅 개선

3.0.0 (2024년 12월 6일)

종속 항목 및 구성 변경사항

Android용 Consumer SDK 버전 3.0.0부터 앱을 Kotlin 2.0으로 업그레이드해야 합니다. Android Consumer SDK 3.0 이전 가이드 [https://developers.google.com/maps/documentation/mobility/journey-sharing/on-demand/android/migration-guide-v3?hl=ko]를 참고하세요.
이제 Consumer SDK의 targetSdk가 Android 14 (API 수준 34)입니다. 이는 2024년 8월부터 Google Play 스토어에 배포되는 모든 앱의 요구사항입니다.
Google Play의 대상 API 수준 요구사항 충족 [https://developer.android.com/google/play/requirements/target-sdk?hl=ko]을 참고하세요.

2.99.0 (2024년 11월 25일)

버그 수정

ConsumerApi.cleanUp()가 실행되는 데 너무 오래 걸릴 때 발생하는 ANR 오류를 수정합니다. 이 기능은 출시가 통합되면 점진적으로 출시됩니다 (0%부터 시작).
드라이버가 코드 'INTERNAL' 및 메시지 'Panic! 버그입니다.'라는 메시지가 표시됩니다. 이 기능은 출시가 통합되면 점진적으로 출시됩니다 (0%부터 시작).

2.3.0 (2024년 8월 2일)

API 변경사항

클라우드 기반 지도 스타일 지정 [https://developers.google.com/maps/documentation/android-sdk/cloud-customization?hl=ko] 지원을 추가합니다. 이를 통해 지도 스타일을 변경할 때마다 앱 코드를 업데이트하지 않고도 사용자를 위한 맞춤설정된 도로 지도 환경을 만들 수 있습니다. 자세한 내용은 클라우드 기반 지도 스타일 지정으로 지도 스타일 지정 [https://developers.google.com/maps/documentation/mobility/journey-sharing/on-demand/android/style?hl=ko#cbms]을 참고하세요.
VehicleLocation에 getServerTimeMillis() 메서드를 추가하여 Fleet Engine에서 위치 업데이트를 수신한 시간을 확인합니다.

2.2.0 (2024년 5월 7일)

API 변경사항

Jetpack Compose 통합을 위한 지원 API가 추가되었습니다. 실험용 기능입니다. Jetpack Compose와의 통합에 관한 자세한 내용은 담당자에게 문의하세요.

2.1.0 (2024년 1월 17일)

버그 수정

애플리케이션 수명 주기 전반에서 SDK가 두 번 이상 초기화될 때 발생하는 비정상 종료를 수정합니다.

API 변경사항

SDK(ConsumerGoogleMap.getGoogleMap())에서 생성된 GoogleMap 인스턴스를 검색하는 메서드를 도입합니다.
SDK에서 차량 (ConsumerController.getConsumerMarker())을 나타내기 위해 생성한 Marker 인스턴스를 가져오는 API를 도입합니다.
여정 공유 (ProjectedRouteEta) 중에 시간과 거리에 관한 클라이언트 예상 업데이트를 수신하는 API를 도입합니다.

1.99.2 (2023년 11월 3일)

애플리케이션과 별도의 원격 프로세스에서 SDK가 초기화될 때 발생하는 비정상 종료를 수정합니다.
카메라 애니메이션을 실행하는 동안 패딩을 위한 충분한 세로 또는 가로 공간이 없는 경우 발생하는 비정상 종료를 수정합니다. 이 문제는 최신 지도 렌더러에서만 발생합니다.
두 번째 구간이 동일한 도로를 통과할 때 연속된 여정의 첫 번째 구간이 잘리는 버그를 수정합니다.

문제

API 인스턴스가 이미 있는 경우 호출되면 ConsumerApi.initialize()에서 예외가 발생합니다. 이 문제를 해결하려면 먼저 ConsumerApi.getInstance()를 호출하고 반환된 Task을 평가하여 API 인스턴스가 이미 있는지 확인합니다.

2.0.0 (2023년 9월 15일)

공지: 브레이킹 체인지

최소 API 수준 요구사항이 21에서 23으로 업데이트되었습니다.
Maps SDK 버전 요구사항이 v17.0.0에서 v18.1.0으로 업데이트됨
최소 Kotlin 표준 라이브러리 버전 요구사항이 v1.6.10에서 v1.9.0으로 업데이트됨
Google Play 서비스 종속 항목 버전 업데이트

최소 play-services-base 라이브러리 버전 요구사항이 v18.0.1에서 v18.2.0으로 업데이트되었습니다.
최소 play-services-basement 라이브러리 버전 요구사항이 v18.0.0에서 v18.2.0으로 업데이트되었습니다.
최소 play-services-location 라이브러리 버전 요구사항이 v17.0.0에서 v21.0.1로 업데이트되었습니다.
최소 play-services-tasks 라이브러리 버전 요구사항이 v18.0.1에서 v18.0.2로 업데이트되었습니다.

최소 버전 요구사항이 v2.5.2로 설정된 androidx.room:room-runtime 라이브러리 추가
다음 종속 항목 버전을 업데이트합니다.

최소 android-maps-utils 라이브러리 버전 요구사항이 v0.4.2에서 v3.5.2로 업데이트됨
최소 com.google.android.datatransport:transport-backend-cct 버전 요구사항이 v3.0.0에서 v3.1.9로 업데이트됨
최소 com.google.android.datatransport:transport-runtime 버전 요구사항이 v3.0.1에서 v3.1.9로 업데이트됨
최소 androidx.lifecycle:lifecycle-extensions 버전 요구사항이 v2.0.0에서 v2.2.0으로 업데이트됨
최소 androidx.lifecycle:lifecycle-common-java8 버전 요구사항이 v2.0.0에서 v2.6.1로 업데이트됨
최소 androidx.appcompat:appcompat 버전 요구사항이 v1.0.0에서 v1.6.1로 업데이트됨
최소 androidx.fragment:fragment 버전 요구사항이 v1.0.0에서 v1.6.1로 업데이트됨

이전에 지원 중단된 다음 API를 삭제합니다. ConsumerTrip, ConsumerTripCallback, ConsumerTripManager, ConsumerTripOptions TripModel, TripModelCallback, TripModelManager, TripModelOptions로 대체되었습니다.
소비자 SDK를 사용하는 앱은 이제 API 31 이상의 targetSdkVersion, API 33 이상의 compileSdkVersion이 있어야 합니다.
이제 Consumer SDK를 사용하는 앱은 Java 8 라이브러리 지원을 사용 설정해야 합니다. 업데이트 안내는 https://developer.android.com/studio/write/java8-support를 참고하세요.
Proguard 또는 Dexguard를 사용하는 앱은 R8로 이전해야 합니다. 자세한 내용은 https://developer.android.com/build/shrink-code를 참고하세요.
Consumer SDK를 사용하는 앱은 desugaring을 사용 설정해야 합니다.
안내를 보려면 https://developer.android.com/studio/write/java8-support#library-desugaring을 참고하세요.
API 인스턴스가 이미 생성된 상태에서 ConsumerApi.initialize() 메서드가 호출되면 예외가 발생합니다. ConsumerApi.getInstance()에서 반환된 Task를 사용하여 미리 생성된 API 인스턴스가 있는지 확인해야 합니다.

공지사항: API 지원 중단

Trip.TripStatus 및 Trip.TripType 주석 클래스를 지원 중단하고 이를 대체하는 TripInfo.TripStatus 및 TripInfo.TripType 주석 클래스를 추가합니다.

이번 변경사항에 따라 TripModelCallback#onTripStatusUpdated(TripInfo tripInfo,
@Trip.TripStatus int status)이 지원 중단되고 이를 대체하는 TripModelCallback#onTripStatusUpdate(TripInfo tripInfo,
@TripInfo.TripStatus int status)이 추가됩니다.
이번 변경사항에 따라 TripInfo#getTripStatus()이 지원 중단되고 이를 대체하는 TripInfo#getCurrentTripStatus()이 추가됩니다.
이번 변경사항에 따라 TripInfo#getTripType()이 지원 중단되고 이를 대체하는 TripInfo#getCurrentTripType()이 추가됩니다.

Trip 클래스가 지원 중단되었습니다.

기타 변경사항 및 버그 수정

최신 Maps SDK 렌더러 요청을 지원합니다. 자세한 내용은 새 지도 렌더기 [https://developers.google.com/maps/documentation/android-sdk/renderer?hl=ko]를 참고하세요.
v18.1.0(포함)부터 v19.0.0(제외) 버전까지의 Maps SDK 범위 지원을 제공합니다.
SDK와 Google 백엔드 간의 내부 통신에서 '기한 초과' 오류를 수정합니다.
작은 크기 화면 및 PIP 모드의 렌더링 문제 수정

이전 가이드

Android Consumer SDK v2.0.0 마이그레이션 [https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution/trip-order-progress/migrations/android_consumer_sdk_v2.0_migration?hl=ko]

1.99.1 (2023년 8월 31일)

버그 수정

SDK 호스트 활동 또는 프래그먼트가 소멸될 때 발생하는 비정상 종료 수정
MapView의 측정기준이 0 (높이 또는 너비)일 때 발생하는 비정상 종료를 수정합니다.
경로 폴리라인에 차량 위치를 투영할 때 발생하는 비정상 종료 문제를 수정합니다.

개선 사항

호스트 애플리케이션이 사이드로드되고 기본 시각적 리소스가 없는 경우 SDK가 비정상 종료되지 않도록 합니다.

1.99.0 (2023년 6월 22일)

버그 수정

소형 화면 및 PIP 모드의 렌더링 문제 수정
이동 경로 공유 중 차량 깜박임 수정

1.2.1 (2023년 6월 7일)

버그 수정

여정 공유 중에 차량이 깜박이는 버그가 수정되었습니다.

1.2.0 (2022년 11월 21일)

버그 수정

onTripActiveRouteTrafficUpdated 콜백에서 트래픽이 비어 있는 것으로 보고되는 버그를 수정합니다.

새로운 기능

이제 '교통 상황 인식 폴리라인'이 정식 버전으로 제공됩니다.

1.1.2 (2022년 10월 27일)

버그 수정

TripModel에 대해 JourneySharingSession이 두 번 이상 시작된 후 경로 폴리라인이 사라지는 버그를 해결합니다.

공지사항: Android 5 지원 중단 (2022년 7월 25일)

v1.1.1 SDK 버전의 경우 API 수준 21과 22 모두에 대해 Android 5에서 실행되는 앱을 1년 더 지원합니다.

이 기능의 작동 방식은 다음과 같습니다.

Android 앱에서 실행되는 Consumer SDK는 2023년 6월 30일까지 최소 Android 5(API 수준 21)를 지원합니다.
2023년 6월 30일 이후에는 Android API 수준 23 이상만 지원됩니다.
즉, 이 날짜 이후에는 모든 SDK 버전에서 Android API 수준 21과 22가 지원되지 않습니다. 즉, SDK 버전 (4.x 포함)에서 Android 21 또는 22와 관련된 버그가 수정되지 않으며 SDK가 올바르게 작동한다고 보장하지 않습니다.

v1.1.1 (2022년 7월 25일)

종속 항목 변경

지원되는 최소 Android API 수준을 21로 다운그레이드합니다.

v1.1.0 (2022년 4월 28일)

내부 개선사항

v1.0.19 (2022년 3월 17일)

버그 수정

ConsumerApi 클래스의 메모리 누수가 수정되었습니다.

v1.0.14 (2021년 11월 30일)

이제 지원되는 최소 Android API 수준은 23입니다.

API 변경사항

ConsumerTrip 및 ConsumerTripManager 클래스 변경

의미를 더 명확하게 하고 iOS 플랫폼과 일치하도록 일부 메서드 이름을 정리했습니다.

ConsumerTripCallback, ConsumerTrip, TripInfo 변경

iOS와의 동등성을 위해 일부 클래스 이름을 변경했습니다. ConsumerTrip, ConsumerTripManager, ConsumerTripOptions을 지원 중단하기 위해 TripModel, TirpModelManager, TripModelOptions를 도입했습니다.
일부 메서드 이름이 정리되었습니다. 더 명확한 의미를 전달하기 위해 메서드에 JavaDoc 주석을 수정하거나 추가했습니다.
오류 처리가 개선되었습니다.

스타일 맞춤설정

지원 중단된 기존 래퍼

MarkerStyleOptions 및 PolylineStyleOptions은 지원 중단되었으며 Maps SDK와 공유되는 MarkerOptions 및 PolylineOptions으로 대체되었습니다.

비정상 종료 모니터링

비정상 종료 감지 및 로깅이 추가되었습니다.

이 기능을 선택 해제할 수 있도록 추가되었습니다. 이는 비정상 종료 모니터링을 위한 더 큰 지역 전체 노력의 일환으로 이루어졌습니다.

인증 변경사항

인증 인터페이스에서 불필요한 메서드 삭제

ServiceType 매개변수가 삭제되었습니다.

v0.9.28 (2021년 5월 18일)

API 변경사항

TripInfo을 매개변수로 사용하도록 모든 ConsumerTripCallback 메서드를 업데이트했습니다.
ConsumerTrip.isRefreshing()가 추가되었습니다. 이는 ConsumerTrip이 Fleet Engine의 최신 이동 정보로 자체적으로 업데이트되고 있는지 나타냅니다.
ConsumerTripCallback.onTripRemainingRouteDistanceUpdated()을 추가했습니다.
ConsumerTripCallback.onTripRemainingRouteUpdated()을 추가했습니다.
Guava 반환 유형 (ImmutableSet, ImmutableList)을 java.util 동등 클래스로 바꿉니다.
패키지 이름 변경:

com.google.android.libraries.ridesharing.common.AuthTokenContext ->
com.google.android.libraries.ridesharing.consumer.auth.AuthTokenContext
com.google.android.libraries.ridesharing.common.AuthTokenFactory ->
com.google.android.libraries.ridesharing.consumer.auth.AuthTokenFactory
com.google.android.libraries.ridesharing.common.FleetEngineServiceType
->
com.google.android.libraries.ridesharing.consumer.auth.FleetEngineServiceType
-   com.google.android.libraries.ridesharing.common.model.Trip
->
com.google.android.libraries.ridesharing.consumer.model.Trip

-   com.google.android.libraries.ridesharing.common.model.Vehicle

->
com.google.android.libraries.ridesharing.consumer.model.Vehicle

구현 변경사항

SDK가 준비되기 전에 지도와의 상호작용으로 인해 SDK가 비정상 종료될 수 있는 경합 상태가 수정되었습니다.
SDK에 더 이상 난독화되지 않은 io.grpc 사본이 포함되지 않습니다.
특정 기기에서 교통 다중선이 깜박이는 버그가 수정되었습니다. 이제 트래픽 세그먼트의 끝이 둥글게 표시됩니다.

v0.9.15 (2020년 10월 7일)

API 변경사항

이 버전에서는 교통 상황 인식 다중선 [https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution/journey-sharing/traffic?hl=ko]이 도입되었습니다.
-   TripInfo.getActiveRouteTraffic() 및 TripInfo.getRemainingRouteTraffic()를 추가했습니다.

트래픽이 변경된 시점을 나타내기 위해 ConsumerTripCallback.onTripActiveRouteTrafficUpdated() 및 ConsumerTripCallback.onTripRemainingRouteTrafficUpdated()을 추가했습니다.
트래픽 맞춤설정(setTrafficEnabled(), setTrafficColorNoData(), setTrafficColorNormal(), setTrafficColorSlow(), setTrafficColorTrafficJam())을 위한 PolylineStyleOptions가 추가되었습니다.
PolylineStyleOptions.TRAFFIC_Z_INDEX_ADDITION이 노출되었습니다.
TripWaypoint.getTrafficData()을 추가했습니다.
TrafficData 데이터 유형이 추가되었습니다.
ConsumerController.hideAllSessions()을 추가했습니다.
ConsumerController.showSession()은 더 이상 null을 인수로 허용하지 않습니다.

v0.9.9 (2020년 7월 15일)

API 변경사항

이는 데이터 전용 레이어 (예: ConsumerTripManager)와 사용자 인터페이스 레이어 (예: JourneySharingSession) 간의 관계를 명확히 하는 모듈화된 아키텍처를 도입하는 주요 변경사항입니다. 새 아키텍처로 이전하는 방법에 관한 자세한 내용은 모듈화 이전 가이드 [https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution/consumer-sdk-android/migration_guide?hl=ko]를 참고하세요.
-   이제 ConsumerTrip 객체를 ConsumerTripManager.getTrip()에서 가져옵니다.

ConsumerTrip.unregisterCallback에서 ConsumerTrip.unregisterTripCallback으로 이름이 변경되었습니다.
ConsumerTrip.isCallbackRegistered에서 ConsumerTrip.isTripCallbackRegistered으로 이름이 변경되었습니다.
ConsumerTrip.setConsumerTripOptions() 및 ConsumerTrip.getConsumerTripOptions()를 추가했습니다.
ConsumerTrip.setAutoRefreshInterval()을 삭제했습니다.

여정 외 공유 API가 삭제되었습니다.

차량 밀도 지도가 삭제되었습니다.
여행 미리보기 상태가 삭제되었습니다.
수령 선택 상태가 삭제되었습니다.
이탈 선택 상태가 삭제되었습니다.
SELECTED_PICKUP_POINT, SUGGESTED_PICKUP_POINT, HIGHLIGHTED_PICKUP_POINT, SELECTED_DROPOFF_POINT 마커 유형이 삭제되었습니다.

OnConsumerMarkerClickCallback 및 ConsumerMapReadyCallback을 인터페이스에서 추상 클래스로 변경했습니다.
ConsumerController.getCameraUpdate(), ConsumerController.isAutoCameraEnabled(), ConsumerController.enableAutoCamera()를 추가했습니다.
맞춤 FAB 및 관련 메서드(ConsumerController.isMyLocationFabEnabled 및 ConsumerController.setMyLocationFabEnabled)가 삭제되었습니다.

구현 변경사항

LifecycleOwner로 등록되었는지 여부와 관계없이 ConsumerTripCallback는 더 이상 TripStatus.COMPLETE 또는 TripStatus.CANCELED에서 자동으로 등록 취소되지 않습니다.
이제 AutoCamera가 기본적으로 사용 설정되며 자동으로 다시 사용 설정되거나 사용 중지되지 않습니다.
이전에는 AutoCamera가 TripStatus.ARRIVED_AT_PICKUP에서 자동으로 다시 사용 설정되고 사용자가 이동 경로 공유 중에 지도와 상호작용하면 사용 중지되었습니다.
이동 경로 공유 차량 애니메이션이 다음과 같이 개선되었습니다.

이제 여정 공유 애니메이션은 차량이 이미 이동한 경로를 따라 다시 이동할 수 있는 상황을 처리합니다.
이제 차량이 알고리즘에 따라 적절하다고 판단되면 포인트 간에 경로를 보간하는 대신 직선으로 애니메이션을 적용합니다.

FINE_LOCATION 권한이 더 이상 필요하지 않습니다.

기타 변경사항

다음 종속 항목 버전이 업데이트되었습니다.

com.google.android.datatransport:transport-api:2.2.0
com.google.android.datatransport:transport-backend-cct:2.2.0
com.google.android.datatransport:transport-runtime:2.2.0

v0.9.1 (2020년 3월 23일)

API 변경사항

TripInfo.getVehicleId(), TripInfo.getNumberOfPassengers(), TripInfo.getIntermediateDestinationIndex(), TripInfo.getTripActiveRoute(), TripInfo.getTripRemainingRoute()이 추가되었습니다.
ConsumerApi 초기화 중에 사용되는 options 클래스가 추가되어 FleetEngine 주소를 동적으로 설정할 수 있습니다. API가 FleetEngine 값과 함께 호출되지 않으면 Android 매니페스트에서 값을 가져오려고 시도하거나 기본값으로 대체됩니다.

개선 사항

여행 상태가 ARRIVED_AT_PICKUP이면 경로 폴리라인이 표시되지 않습니다.
경로 이탈 차량 추적이 개선되었습니다 (DriverSDK 1.15 필요).

차량이 승차 지점을 지나갈 때 차량 추적 기능이 차량을 경로에 맞추지 않습니다.
차량 추적을 사용하면 도로에서 벗어난 차량을 표시할 수 있습니다(예: 매핑되지 않은 주차장).

이제 운전자의 목적지가 Fleet Engine의 목적지와 일치하지 않으면 차량 아이콘이 업데이트됩니다.

v0.8.6 (2019년 12월 16일)

API 변경사항

TripInfo.getVehicleLocation()을 추가했습니다.
ConsumerMapView이 더 이상 최종이 아닙니다.

구현 변경사항

이제 활성 구간의 남은 거리가 로컬 스냅 대신 서버 거리(운전자가 보고한 거리 + 해당하는 경우 정적 경로)를 사용하여 계산됩니다.
이 변경사항으로 남은 거리 값이 더 정확해집니다.

기타 변경사항

새 종속 항목이 필요합니다. 자세한 내용은 .pom 파일을 참고하세요.

com.google.android.datatransport:transport-api:2.0.0
com.google.android.datatransport:transport-backend-cct:2.0.2
com.google.android.datatransport:transport-runtime:2.0.0

이동 요청 지연 시간의 로그가 추가되었습니다.
여행 응답 오류에 대한 로그가 추가되었습니다.

참고

버전 0.8.1부터 Android용 Consumer SDK는 jetified zip 보관 파일로 제공됩니다. Jetify를 취소하는 방법은 Jetifier: 역방향 모드 [https://developer.android.com/studio/command-line/jetifier?hl=ko#reverse_mode]를 참고하세요.

v0.8.1 (2019년 9월 13일)

새로운 기능

ConsumerMapView [https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution/consumer-sdk-android/journey_sharing_map?hl=ko#consumermapview] 지원
이제 ODRD 아티팩트가 .aar zipfile 대신 Maven 저장소로 제공됩니다.
자세한 내용은 앱에 소비자 SDK 추가 [https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution/consumer-sdk-android/config?hl=ko#add_the_ridesharing_consumer_sdk_to_your_app]를 참고하세요.

API 변경사항

centerMapForState()의 반대 함수로 ConsumerController.disableAutoCamera()가 추가되었습니다.
이제 VehicleLocation.getUpdateTime()에서 타임스탬프 (밀리초)를 나타내는 Long을 반환합니다.
토큰 생성을 위한 단일 메서드를 노출하도록 AuthTokenFactory 인터페이스를 간소화했습니다. Java7에서 하위 호환성을 사용 설정하기 위해 AuthTokenFactory를 인터페이스에서 추상 클래스로 변경했습니다. 이 변경사항은 이전 버전과 호환되지만 단일 서비스 토큰 생성의 이전 메서드는 지원 중단되며 결국 삭제됩니다.

구현 변경사항

이제 애셋이 아이콘 중앙에 배치되어 그림자 오프셋이 제거됩니다.
모니터링된 여행의 상태를 기다리는 대신 setState에서 JOURNEY_SHARING onStartTripMonitoring()로
여행 데이터가 동기화되지 않은 경우에도 항상 첫 번째 여행 데이터 업데이트의 데이터를 반환합니다.
Android Map Utils가 제공된 종속 항목으로 추가되었습니다.

버그 수정

grpc keep의 깨진 ProGuard 내보내기 문법 수정

v0.7.0 (2019년 8월 7일)

새로운 기능

여정 공유의 다중 대상 지원

API 변경사항

ConsumerTripCallback의 새로운 메서드

onTripIntermediateDestinationsUpdated().
onTripETAToNextTripWaypointUpdated().

새로운 ConsumerController 메서드

getIntermediateDestinations().
setIntermediateDestinations(List<TerminalLocation>
intermediateDestinations).

새 TripStatuses

TripStatus.ENROUTE_TO_INTERMEDIATE_DESTINATION.
TripStatus.ARRIVED_AT_INTERMEDIATE_DESTINATION.

새 TripWaypoint getter

getETAMillis().
getDistanceMeters().

TripInfo 클래스를 추가했습니다.

ConsumerTripManager.getActiveTripInfo()를 사용하여 진행 중인 여정의 TripInfo를 가져올 수 있습니다.

WaypointType.INTERMEDIATE_DESTINATION을 추가했습니다.
MarkerType.TRIP_INTERMEDIATE_DESTINATION을 추가했습니다.
병합된 ConsumerMapStates, ENROUTE_TO_PICKUP, ARRIVED_AT_PICKUP, ENROUTE_TO_DROPOFF, COMPLETE에서 ConsumerMapState.JOURNEY_SHARING를 생성했습니다.

StateChangeCallbacks 표가 업데이트되었습니다.
onStateJourneySharing()을 추가했습니다.
onStateWaitingForPickup(), onStateDriverArrived(), onStateEnroute(), onStateEndofTrip()가 삭제되었습니다.

버그 수정

활성 이동 중에 (경로 시작이 아닌) 이동 모니터링이 시작될 때 경로가 차량 위치로 잘리지 않는 버그가 수정되었습니다.
TripManager가 이미 이동경로 데이터를 가져온 후 TripManager에 등록된 리스너에 대해 이동경로 콜백이 호출되지 않는 버그가 수정되었습니다.
이제 카메라 줌에 활성 경로와 다음 여행 경유지(여행에 속한 경유지)만 포함됩니다. 나머지 구간이 표시되더라도 확대/축소에는 포함되지 않습니다. 이전에는 차량이 픽업 지점으로 이동 중이거나 픽업 지점에 도착한 경우 드롭오프 지점이 확대/축소에 포함되었습니다. 더 이상 그렇지 않습니다.

개선 사항

남은 0번째 경유지를 운전자 데이터로 채웁니다 (남은 경유지 목록은 ConsumerTripCallback.onTripRemainingWaypointsUpdated 및 TripInfo.getRemainingWaypoints()에서 반환됨).
목록에 있는 첫 번째 경유지의 ETA가 변경되면 나머지 모든 경유지의 ETA를 업데이트합니다.
운전자가 탑승 위치에 도착한 경우에만 자동 카메라를 강제로 다시 사용 설정합니다. 이전에는 여행 상태가 변경될 때마다 자동 카메라가 사용 설정으로 재설정되었습니다. 자동 카메라 기능은 기본적으로 사용 설정되어 있습니다. startTripMonitoring()에 대한 새로운 호출 없이 새 활성 트립이 설정되면 자동 카메라가 다시 사용 설정되지 않습니다.

v0.6.1 (2019년 6월 26일)

새로운 기능

여정 공유를 위한 카풀 지원

API 변경사항

이제 ConsumerController.getConsumerMapStyle()은 Task<ConsumerMapStyle> 대신 ConsumerMapStyle을 반환합니다.
PolylineStyle.setZIndex()을 추가했습니다.

버그 수정

이제 경로 애니메이션은 경로 세그먼트가 동기화된 경우에만 발생하므로 사용자 환경이 개선됩니다.
운전자 위치 업데이트가 서로 가까이 있을 때 애니메이션 보간 중에 차량이 '깜박이는' 문제가 수정되었습니다.
활성 이동 중에 이동 모니터링이 시작될 때 차량이 가장 업데이트된 위치가 아닌 경로의 시작 지점에서 시작되는 버그가 수정되었습니다.
활성 경로 폴리라인이 나머지 경로와 겹치는 경우 활성 경로 폴리라인을 나머지 경로 위에 표시합니다.

개선 사항

이제 난독화되지 않은 메서드로 gRPC Status 클래스를 노출합니다.

v0.5.1.01 (2019년 5월 17일)

새로운 기능

여정 공유를 위한 연속 지원

API 변경사항

새 ConsumerController 클래스

PolylineType

| 이전 값 | 새 값 |
| --- | --- |
| TRIP_PREVIEW_AUTO_ROUTE | PREVIEW_AUTO_ROUTE |
| TRIP_PREVIEW_TAXI_ROUTE | PREVIEW_TAXI_ROUTE |
| TRIP_PREVIEW_TRUCK_ROUTE | PREVIEW_TRUCK_ROUTE |
| TRIP_PREVIEW_TWO_WHEELER_ROUTE | PREVIEW_TWO_WHEELER_ROUTE |
| TRIP_ROUTE | ACTIVE_ROUTE |
|  | REMAINING_ROUTE |

ConsumerTripCallback

| 이전 값 | 새 값 |
| --- | --- |
| onTripRouteUpdated | onTripActiveRouteUpdated |
| onTripRemainingDistanceUpdated | onTripActiveRouteRemainingDistanceUpdated |
|  | onTripRemainingWaypointsUpdated() |

ConsumerController

이제 상태에 진입하지 않고도 상태의 콜백을 설정할 수 있습니다.

| 메서드 | 콜백 |
| --- | --- |
| startPickupSelection | setPickupSelectionCallback |
| startDropoffSelection | setDropoffSelectionCallback |
| startTripPreview | setTripPreviewSelectionCallback |

ConsumerController.setLanguage(String languageCode)을 사용하면 FleetEngine 호출에 사용되는 언어를 설정할 수 있습니다 (예: 픽업 지점 설명).

개선 사항

이제 하차 지점 선택 상태에 드래그 가능한 핀이 있습니다.
INITIALIZE 상태에서 카메라 애니메이션을 삭제했습니다.
ManagedChannelBuilder를 AndroidChannelBuilder로 바꿨습니다