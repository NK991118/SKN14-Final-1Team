Source URL: https://developers.google.com/maps/documentation/route-optimization/time-windows?hl=ko
Title: 수령 및 배송 기간 제한

의견 보내기

수령 및 배송 기간 제한

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

OptimizeToursRequest는 다음 전반에 걸쳐 제약 조건을 적용합니다.

배송이 배송 방식에 미치는 영향
차량, 차량 경로 계산 방식에 영향을 미침
전 세계적으로 차량과 배송에 모두 영향을 미칩니다.

이 가이드에서는 필수 배송 제약 조건인 시간대에 중점을 둡니다.

기간은 배송 활동에 시간 기반 제한을 지정하기 위해 OptimizeToursRequest 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/projects/optimizeTours?hl=ko], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.OptimizeToursRequest])에 제공하는 제약 조건의 한 유형입니다. 이러한 유형의 제약 조건은 배송이 수행될 수 있는 시기와 방법은 물론 배송에 대한 차량 할당에도 영향을 미칩니다. 이러한 제약 조건에 따라 최적화 프로그램은 배송의 시간 제약 조건을 가장 잘 충족할 수 있는 차량을 우선시합니다.

배송 제약 조건: 시간 범위

Shipment.VisitRequest 메시지에서 수령 또는 배송이 가능한 시간을 다음과 같이 지정합니다.

메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko#VisitRequest], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.Shipment.VisitRequest])에서 timeWindows 속성 사용
TimeWindow 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/ShipmentModel?hl=ko#TimeWindow], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.TimeWindow])에서 시작 시간과 종료 시간을 지정합니다.

시간 창 제약 조건이 있는 요청의 예

여기 예시에서는 각각 자체 배송 기간이 있는 세 가지 배송을 보여줍니다. 간단하게 하기 위해 이 예시에서는 deliveries에만 시간대를 설정하지만 픽업에도 시간대를 적용할 수 있습니다. 여러 시간대를 지정할 수 있지만 이 예에서는 전송 VisitRequest당 하나만 사용합니다.

시간대가 포함된 요청의 예 보기
"populatePolylines": false,
"populateTransitionPolylines": false,
"model": {
"globalStartTime": "2023-01-13T16:00:00Z",
"globalEndTime": "2023-01-14T16:00:00Z",
"shipments": [
"deliveries": [
"arrivalLocation": {
"latitude": 37.789456,
"longitude": -122.390192
shipments[1]이 18:00에 배송됨
shipments[0]이 18시 7분에 배송됨

예시 요청은 하드 기간 제약 조건을 지정하여 해당 기간 내에 배송이 완료되도록 요구합니다. 시간대 내에 배송의 VisitRequests을 완료하는 것이 불가능하거나 비용 효율적이지 않은 경우 최적화 프로그램은 배송을 건너뜁니다. 배송에 penaltyCost이 있는 경우 최적화 프로그램은 응답 metrics에 보고된 비용에 이를 추가합니다. 그렇지 않으면 OptimizeToursResponse 메시지 (REST [https://developers.google.com/maps/documentation/route-optimization/reference/rest/v1/OptimizeToursResponse?hl=ko], gRPC [https://developers.google.com/maps/documentation/route-optimization/reference/rpc/google.maps.routeoptimization.v1?hl=ko#google.maps.routeoptimization.v1.OptimizeToursResponse])의 skippedMandatoryShipmentCount 속성이 증가합니다.

shipment[1] 창을 몇 시간 뒤로 이동하여 시간 범위를 변경하면 (예: 18:00에서 21:00으로) 다음 예와 같이 결과가 달라집니다.

충족할 수 없는 시간 기간이 포함된 요청의 예를 참고하세요.
"populatePolylines": false,
"populateTransitionPolylines": false,
"model": {
"globalStartTime": "2023-01-13T16:00:00Z",
"globalEndTime": "2023-01-14T16:00:00Z",
"shipments": [
"deliveries": [
"arrivalLocation": {
"latitude": 37.789456,
"longitude": -122.390192

소프트 기간 제약 조건

비용 모델 매개변수 [https://developers.google.com/maps/documentation/route-optimization/cost-model?hl=ko]에서 간략하게 언급한 것처럼 시간 창은 소프트 제약 조건으로 적용할 수 있습니다. 유연한 제약 조건은 다음과 같은 점에서 엄격한 제약 조건과 다릅니다.

엄격한 제약 조건: 위반할 수 없으며, 배송을 건너뛰더라도 최적화 프로그램은 제약 조건을 위반하는 솔루션을 제공하지 않습니다.
소프트 제약 조건: 위반될 수 있습니다. 즉, 옵티마이저가 소프트 제약 조건을 위반하는 솔루션을 제공할 수 있습니다. 하지만 최적화 도구는 위반에 비용도 적용합니다. 이 비용은 시간 범위의 추가 속성으로 제공되며, 일반적으로 활동이 발생하는 시간 범위 전후의 각 시간에 대한 시간당 비용으로 제공됩니다.

시간 범위는 각각 startTime 또는 endTime 대신 softStartTime 또는 softEndTime를 사용하고 costPerHourBeforeSoftStartTime 또는 costPerHourAfterSoftEndTime를 설정하여 부드럽게 처리됩니다.
참고: softStartTime 및 softEndTime를 동시에 사용할 수 있으며, 각 비용 속성은 지정된 시간 속성에만 적용됩니다.
지정된 시간 범위 내에 픽업 또는 배송이 이루어져야 하지만 해당 범위 내의 픽업 또는 배송이 절대적으로 필요한 것은 아닌 경우 소프트 시간 범위 제약 조건을 사용합니다. 하드 및 소프트 기간 제약 조건을 함께 사용하여 비즈니스 목표를 표현할 수 있습니다. 예를 들면 다음과 같습니다.

하드 시간대: 오전 9시부터 오후 5시까지와 같은 고객의 영업시간을 나타냅니다.
소프트 시간대: 고객에게 전송된 알림과 일치하는 배송 또는 수령 시간대(예: 오전 9시~오후 1시)를 나타냅니다.

이 예에서는 시간대가 너무 늦게 시작되어 이전에 건너뛴 배송의 시작 시간 제약이 완화되었습니다. 다른 배송의 시간대 종료 시간도 완화되었습니다.

하드 및 소프트 시간 창이 있는 요청의 예를 참고하세요.
"populatePolylines": false,
"populateTransitionPolylines": false,
"model": {
"globalStartTime": "2023-01-13T16:00:00Z",
"globalEndTime": "2023-01-14T16:00:00Z",
"shipments": [
"deliveries": [
"arrivalLocation": {
"latitude": 37.789456,
"longitude": -122.390192