Source URL: https://developers.google.com/maps/documentation/placesinsights/brands?hl=ko
Title: 브랜드 데이터를 사용하여 쿼리 작성

의견 보내기

브랜드 데이터를 사용하여 쿼리 작성

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

참고: 미리보기 출시의 경우 브랜드 데이터 세트는 미국 뉴욕시에서만 사용할 수 있습니다.
장소 통계는 다양한 카테고리의 장소에 대한 브랜드 정보를 제공합니다. 예를 들면 다음과 같습니다.

'ATM, 은행, 신용 조합' 카테고리의 경우 브랜드 데이터에는 PNC, UBS, Chase 은행 브랜드 각각에 대한 항목이 포함됩니다.
'자동차 렌탈' 카테고리의 경우 데이터에는 Budget, Hertz, Thrifty 브랜드 각각에 대한 항목이 포함됩니다.

브랜드 데이터 세트를 쿼리하는 일반적인 사용 사례는 장소 데이터에 대한 쿼리와 결합하여 다음과 같은 질문에 답하는 것입니다.

특정 지역의 브랜드별 모든 매장 수는 얼마인가요?
이 지역에서 상위 3개 경쟁업체 브랜드의 수는 얼마인가요?
이 지역에 '피트니스' 또는 '주유소'와 같은 특정 카테고리의 브랜드 수는 얼마인가요?

브랜드 데이터 세트 정보

미국의 브랜드 데이터 세트 이름은 places_insights___us___sample.brands입니다.

브랜드 데이터 세트 스키마

브랜드 데이터 세트의 스키마는 다음 세 가지 필드를 정의합니다.

id: 브랜드 ID
name: 브랜드 이름입니다(예: 'Hertz' 또는 'Chase').
category: 브랜드 유형입니다(예: '주유소', '음식 및 음료', '숙박'). 가능한 값 목록은 카테고리 값 [https://developers.google.com/maps/documentation/placesinsights/brands?hl=ko#category-values]을 참고하세요.

쿼리에서 브랜드 데이터 세트 사용

장소 데이터 세트 스키마는 brand_ids 필드를 정의합니다. 장소 데이터 세트의 장소가 브랜드와 연결된 경우 장소의 brand_ids 필드에 해당 브랜드 ID가 포함됩니다.

브랜드 데이터 세트를 참조하는 일반적인 쿼리는 brand_ids 필드를 기반으로 장소 데이터 세트와 함께 JOIN를 실행합니다.

예를 들어 뉴욕 시 엠파이어 스테이트 빌딩에서 2, 000미터 이내에 있는 McDonald's 레스토랑의 수를 찾으려면 다음을 실행합니다.

SELECT WITH AGGREGATION_THRESHOLD
COUNT(*)
FROM places_insights___us___sample.places_sample places, UNNEST(brand_ids) AS brand_id
LEFT JOIN places_insights___us___sample.brands ON brand_id = brands.id
WHERE
ST_DWITHIN(ST_GEOGPOINT(-73.9857, 40.7484), point, 2000)
AND brands.name = "McDonald's"
AND business_status = "OPERATIONAL"

다음 쿼리는 브랜드에 속한 뉴욕시 카페 수를 브랜드 이름별로 그룹화하여 반환합니다.

SELECT WITH AGGREGATION_THRESHOLD
brands.name,
COUNT(*) AS store_count
FROM places_insights___us___sample.places_sample places, UNNEST(brand_ids) AS brand_id
LEFT JOIN places_insights___us___sample.brands ON brand_id = brands.id
WHERE brands.category = "Food and Drink"
AND "cafe" IN UNNEST(places.types)
AND business_status = "OPERATIONAL"
GROUP BY brands.name
ORDER BY store_count DESC;

다음 이미지는 브랜드별 개수를 보여줍니다.

카테고리 값

브랜드의 category 필드는 다음 값을 포함할 수 있습니다.

| 카테고리 유형 값 |
| --- |
| ATMs, Banks and Credit Unions |
| Automotive and Parts Dealers |
| Automotive Rentals |
| Automotive Services |
| Dental |
| Electric Vehicle Charging Stations |
| Electronics Retailers |
| Fitness |
| Food and Drink |
| Gas Station |
| Grocery and Liquor |
| Health and Personal Care Retailers |
| Hospital |
| Lodging |
| Merchandise Retail |
| Movie Theater |
| Parking |
| Telecommunications |

의견 보내기