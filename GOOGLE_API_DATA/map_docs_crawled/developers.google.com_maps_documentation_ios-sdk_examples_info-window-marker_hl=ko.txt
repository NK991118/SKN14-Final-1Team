Source URL: https://developers.google.com/maps/documentation/ios-sdk/examples/info-window-marker?hl=ko
Title: 마커에 대한 정보 창 표시

의견 보내기

마커에 대한 정보 창 표시

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 예에서는 오스트레일리아의 3대 도시에 마커를 표시합니다. 사용자가 마커를 탭하면 정보 창이 표시됩니다.

시작하기

샘플 코드를 사용하기 전에 개발 환경을 구성해야 합니다.
자세한 내용은 iOS용 Maps SDK 코드 샘플 [https://developers.google.com/maps/documentation/ios-sdk/examples?hl=ko]을 참고하세요.

코드 보기

Swift
import GoogleMaps
import UIKit

final class MarkerInfoWindowViewController: UIViewController {

private let sydneyMarker = GMSMarker(
position: CLLocationCoordinate2D(latitude: -33.8683, longitude: 151.2086))

private let melbourneMarker = GMSMarker(
position: CLLocationCoordinate2D(latitude: -37.81969, longitude: 144.966085))

private let brisbaneMarker = GMSMarker(
position: CLLocationCoordinate2D(latitude: -27.4710107, longitude: 153.0234489))

private lazy var contentView: UIImageView = {
return UIImageView(image: UIImage(named: "aeroplane"))
view = mapView

sydneyMarker.title = "Sydney"
sydneyMarker.snippet = "Population: 4,605,992"
sydneyMarker.map = mapView

melbourneMarker.title = "Melbourne"
melbourneMarker.snippet = "Population: 4,169,103"
melbourneMarker.map = mapView

brisbaneMarker.title = "Brisbane"
brisbaneMarker.snippet = "Population: 2,189,878"
brisbaneMarker.map = mapView
toast, animated: true,
completion: {
DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + .seconds(2)) {
toast.dismiss(animated: true)
Objective-C
#import "GoogleMapsDemos/Samples/MarkerInfoWindowViewController.h"

#import "GoogleMapsDemos/UIViewController+GMSToastMessages.h"
#import <GoogleMaps/GoogleMaps.h>

@interface MarkerInfoWindowViewController () <GMSMapViewDelegate>

@end

@implementation MarkerInfoWindowViewController {
GMSMarker *_sydneyMarker;
GMSMarker *_melbourneMarker;
GMSMarker *_brisbaneMarker;
UIView *_contentView;
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-37.81969
longitude:144.966085
GMSMapView *mapView = [GMSMapView mapWithFrame:CGRectZero camera:camera];

_sydneyMarker = [[GMSMarker alloc] init];
_sydneyMarker.title = @"Sydney";
_sydneyMarker.snippet = @"Population: 4,605,992";
_sydneyMarker.position = CLLocationCoordinate2DMake(-33.8683, 151.2086);
_sydneyMarker.map = mapView;
NSLog(@"sydneyMarker: %@", _sydneyMarker);

_melbourneMarker.map = nil;
_melbourneMarker = [[GMSMarker alloc] init];
_melbourneMarker.title = @"Melbourne";
_melbourneMarker.snippet = @"Population: 4,169,103";
_melbourneMarker.position = CLLocationCoordinate2DMake(-37.81969, 144.966085);
_melbourneMarker.map = mapView;
NSLog(@"melbourneMarker: %@", _melbourneMarker);

_brisbaneMarker.map = nil;
_brisbaneMarker = [[GMSMarker alloc] init];
_brisbaneMarker.title = @"Brisbane";
_brisbaneMarker.snippet = @"Population: 2,189,878";
_brisbaneMarker.position = CLLocationCoordinate2DMake(-27.4710107, 153.0234489);
_brisbaneMarker.map = mapView;
NSLog(@"brisbaneMarker: %@", _brisbaneMarker);

_contentView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"aeroplane"]];

mapView.delegate = self;
self.view = mapView;
NSString *message =
[NSString stringWithFormat:@"Info window for marker %@ closed.", marker.title];
[self gms_showToastWithMessage:message];
NSString *message =
[NSString stringWithFormat:@"Info window for marker %@ long pressed.", marker.title];
[self gms_showToastWithMessage:message];
cd maps-sdk-for-ios-samples-main/GoogleMaps-Swift
pod install
open GoogleMapsSwiftDemos.xcworkspace

Objective-C
cd maps-sdk-for-ios-samples-main/GoogleMaps
pod install
open GoogleMapsDemos.xcworkspace

Xcode에서 컴파일 버튼을 눌러 현재 스키마로 앱을 빌드 [https://developer.apple.com/documentation/xcode/building-and-running-an-app]합니다. 빌드 오류가 발생하여 Swift의 경우 SDKConstants.swift 파일에, Objective-C의 경우 SDKDemoAPIKey.h 파일에 API 키를 입력하라는 메시지가 표시됩니다.
iOS용 Maps SDK가 사용 설정된 [https://developers.google.com/maps/documentation/ios-sdk/cloud-setup?hl=ko#enabling-apis] 프로젝트에서 API 키를 가져옵니다 [https://developers.google.com/maps/documentation/ios-sdk/get-api-key?hl=ko].
Swift의 경우 SDKConstants.swift 파일을 수정하고 Objective-C의 경우 SDKDemoAPIKey.h 파일을 수정한 후 apiKey 또는 kAPIKey 상수의 정의에 API 키를 붙여넣습니다. 예를 들면 다음과 같습니다.

Swift

static let apiKey = "YOUR_API_KEY"

Objective-C

static NSString *const kAPIKey = @"YOUR_API_KEY";

SDKConstants.swift 파일 (Swift) 또는 SDKDemoAPIKey.h 파일 (Objective-C)에서 다음 줄을 삭제합니다. 이 줄은 사용자 정의 문제를 등록하는 데 사용됩니다.

Swift
#error (Register for API Key and insert here. Then delete this line.)

Objective-C

#error Register for API Key and insert here.

프로젝트를 빌드하고 실행합니다. iOS 시뮬레이터 창이 표시되고 Maps SDK 데모 목록이 표시됩니다.
표시된 옵션 중 하나를 선택하여 iOS용 Maps SDK의 기능을 실험합니다.
GoogleMapsDemos에서 내 위치에 액세스하도록 허용하라는 메시지가 표시되면 허용을 선택합니다.

의견 보내기