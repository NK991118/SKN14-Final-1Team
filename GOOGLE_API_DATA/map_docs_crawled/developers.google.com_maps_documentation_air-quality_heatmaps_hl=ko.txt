Source URL: https://developers.google.com/maps/documentation/air-quality/heatmaps?hl=ko
Title: 히트맵

의견 보내기

히트맵

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

heatmapTiles [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/mapTypes.heatmapTiles/lookupHeatmapTile?hl=ko] 엔드포인트는 타일 오버레이를 통해 대기질 관련 히트맵을 제공합니다. 타일 오버레이는 Google 지도 위에 표시할 수 있는 PNG 이미지 타일 모음입니다. 각 이미지 타일은 256x256픽셀입니다.

히트맵 타일 정보

타일 오버레이는 타일 모음으로 조립된 그리드이며 각 타일에는 (X,Y) 좌표가 할당됩니다.
좌표가 (0,0)인 타일은 항상 지도의 북서쪽 모서리에 있습니다. X 값은 서쪽에서 동쪽으로 갈수록 증가하고 Y 값은 북쪽에서 남쪽으로 갈수록 증가합니다.

zoom level는 지도 뷰에 지도의 콘텐츠가 표시되는 크기를 결정합니다. 타일 그리드 크기는 X 및 Y 좌표를 확대/축소 수준에 따라 지수적으로 조정하여 결정됩니다.

gridSizeX = XzoomLevel
gridSizeY = YzoomLevel

예를 들어 확대/축소 수준이 2인 경우 세계 지도는 4x4 행렬을 사용하여 총 16개의 타일로 표시됩니다. 확대/축소는 좌표에 허용되는 최댓값도 결정합니다.

다음 이미지는 확대/축소 수준이 2인 US_AQI 히트맵과 각 타일의 좌표를 보여줍니다.

자세한 내용은 지도 및 타일 좌표 [https://developers.google.com/maps/documentation/javascript/coordinates?hl=ko]를 참고하세요.

히트맵 엔드포인트 정보

히트맵 타일은 타일 데이터를 PNG 이미지로 포함하는 바이트 배열로 표현됩니다. 다음과 같은 HTTP GET 요청을 전송하여 heatmapTiles [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/mapTypes.heatmapTiles/lookupHeatmapTile?hl=ko] 엔드포인트를 사용하여 현재 대기질 히트맵 타일을 요청합니다.

https://airquality.googleapis.com/v1/mapTypes/TYPE/heatmapTiles/Z/X/Y?key=YOUR_API_KEY

요청에는 모든 요청 매개변수가 필요합니다.

TYPE - 반환할 히트맵 유형입니다. 허용된 값 [https://developers.google.com/maps/documentation/air-quality/reference/rest/v1/mapTypes.heatmapTiles/lookupHeatmapTile?hl=ko#maptype]을 참고하세요.
Z - 지도 뷰에 지도의 콘텐츠가 표시되는 크기를 결정하는 확대/축소 수준입니다. 허용되는 값은 0~16이며, 값 0은 전체 세계를 하나의 타일에 표시합니다.
X,Y - 가져올 타일의 좌표입니다. 북서쪽 모서리 (0,0)를 기준으로 합니다. X 값은 서쪽에서 동쪽으로 갈수록 증가하고 Y 값은 북쪽에서 남쪽으로 갈수록 증가합니다.

타일 좌표는 지정된 확대/축소 수준에 유효해야 합니다.
예를 들어 확대/축소 수준을 2로 설정하고 좌표 10,10에서 타일을 요청하면 API에서 오류를 반환합니다.
YOUR_API_KEY - 애플리케이션의 API 키입니다. 이 키는 할당량 관리를 위해 애플리케이션을 식별합니다. 자세한 내용은 키 가져오기 [https://developers.google.com/maps/documentation/air-quality/get-api-key?hl=ko]를 참고하세요.

히트맵 요청 예시

위 이미지는 확대 수준이 2인 US_AQI 히트맵과 각 타일의 좌표를 보여줍니다. 다음 예에서는 heatmapTiles 엔드포인트를 사용하여 히트맵에서 좌표 0,1의 타일을 요청합니다.

https://airquality.googleapis.com/v1/mapTypes/US_AQI/heatmapTiles/2/0/1?key=YOUR_API_KEY

타일은 다음과 같이 표시됩니다.

기본 지도 위에 타일을 오버레이하는 방법에 관한 자세한 내용은 지도 유형 오버레이 [https://developers.google.com/maps/documentation/javascript/examples/maptype-overlay?hl=ko]를 참고하세요.

의견 보내기