Source URL: https://developers.google.com/maps/documentation/ios-sdk/examples/enable-disable-gestures?hl=ko
Title: 지도 동작 사용 설정 및 사용 중지

의견 보내기

지도 동작 사용 설정 및 사용 중지

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

지도는 스위치가 켜진 경우에만 확대/축소 동작에 반응합니다.

시작하기

샘플 코드를 사용하기 전에 개발 환경을 구성해야 합니다.
자세한 내용은 iOS용 Maps SDK 코드 샘플 [https://developers.google.com/maps/documentation/ios-sdk/examples?hl=ko]을 참고하세요.

코드 보기

Swift
import GoogleMaps
import UIKit

class GestureControlViewController: UIViewController {
private let holderHeight: CGFloat = 60
private let zoomLabelInset: CGFloat = 16

private lazy var mapView: GMSMapView = {

view.addSubview(mapView)

zoomLabel.font = .boldSystemFont(ofSize: 18)
holder.addSubview(zoomLabel)

zoomSwitch.addTarget(self, action: #selector(toggleZoom), for: .valueChanged)
zoomSwitch.isOn = true

[mapView, holder, zoomLabel, zoomSwitch].forEach({
$0.translatesAutoresizingMaskIntoConstraints = false
NSLayoutConstraint.activate([
mapView.leftAnchor.constraint(equalTo: view.leftAnchor),
mapView.rightAnchor.constraint(equalTo: view.rightAnchor),
mapView.topAnchor.constraint(equalTo: view.topAnchor),
mapView.bottomAnchor.constraint(equalTo: view.bottomAnchor),
holder.heightAnchor.constraint(equalToConstant: holderHeight),
holder.centerXAnchor.constraint(equalTo: view.centerXAnchor),
holder.widthAnchor.constraint(equalTo: view.widthAnchor),
zoomLabel.leftAnchor.constraint(equalTo: holder.leftAnchor, constant: zoomLabelInset),
zoomLabel.centerYAnchor.constraint(equalTo: holder.centerYAnchor),
zoomSwitch.rightAnchor.constraint(equalTo: holder.rightAnchor, constant: -zoomLabelInset),
zoomSwitch.centerYAnchor.constraint(
equalTo: holder.centerYAnchor),
])
NSLayoutConstraint.activate([
holder.topAnchor.constraint(equalTo: self.view.safeAreaLayoutGuide.topAnchor)
])
Objective-C
#import "GoogleMapsDemos/Samples/GestureControlViewController.h"

#import <GoogleMaps/GoogleMaps.h>

@implementation GestureControlViewController {
GMSMapView *_mapView;
UISwitch *_zoomSwitch;
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-25.5605
longitude:133.605097
_mapView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
_mapView.accessibilityIdentifier = @"gestureControlDemoMapView";

self.view = [[UIView alloc] initWithFrame:CGRectZero];
[self.view addSubview:_mapView];

UIView *holder = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, 59)];
holder.autoresizingMask =
UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleBottomMargin;
holder.backgroundColor = [UIColor colorWithRed:1.0 green:1.0 blue:1.0 alpha:0.8f];
[self.view addSubview:holder];

UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(16, 16, 200, 29)];
label.text = @"Zooming?";
label.font = [UIFont boldSystemFontOfSize:18.0f];
label.textAlignment = NSTextAlignmentLeft;
label.backgroundColor = [UIColor clearColor];
label.layer.shadowColor = [[UIColor whiteColor] CGColor];
label.layer.shadowOffset = CGSizeMake(0.0f, 1.0f);
label.layer.shadowOpacity = 1.0f;
label.layer.shadowRadius = 0.0f;
[holder addSubview:label];

_zoomSwitch.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin;
[_zoomSwitch addTarget:self
action:@selector(didChangeZoomSwitch)
[holder addSubview:_zoomSwitch];
cd maps-sdk-for-ios-samples-main/GoogleMaps-Swift
pod install
open GoogleMapsSwiftDemos.xcworkspace

Objective-C
cd maps-sdk-for-ios-samples-main/GoogleMaps
pod install
open GoogleMapsDemos.xcworkspace

Xcode에서 컴파일 버튼을 눌러 현재 스키마로 앱을 빌드 [https://developer.apple.com/documentation/xcode/building-and-running-an-app]합니다. 빌드 오류가 발생하여 Swift의 경우 SDKConstants.swift 파일에, Objective-C의 경우 SDKDemoAPIKey.h 파일에 API 키를 입력하라는 메시지가 표시됩니다.
iOS용 Maps SDK가 사용 설정된 [https://developers.google.com/maps/documentation/ios-sdk/cloud-setup?hl=ko#enabling-apis] 프로젝트에서 API 키를 가져옵니다 [https://developers.google.com/maps/documentation/ios-sdk/get-api-key?hl=ko].
Swift의 경우 SDKConstants.swift 파일을 수정하고 Objective-C의 경우 SDKDemoAPIKey.h 파일을 수정한 후 apiKey 또는 kAPIKey 상수의 정의에 API 키를 붙여넣습니다. 예를 들면 다음과 같습니다.

Swift

static let apiKey = "YOUR_API_KEY"

Objective-C

static NSString *const kAPIKey = @"YOUR_API_KEY";

SDKConstants.swift 파일 (Swift) 또는 SDKDemoAPIKey.h 파일 (Objective-C)에서 다음 줄을 삭제합니다. 이 줄은 사용자 정의 문제를 등록하는 데 사용됩니다.

Swift
#error (Register for API Key and insert here. Then delete this line.)

Objective-C

#error Register for API Key and insert here.

프로젝트를 빌드하고 실행합니다. iOS 시뮬레이터 창이 표시되고 Maps SDK 데모 목록이 표시됩니다.
표시된 옵션 중 하나를 선택하여 iOS용 Maps SDK의 기능을 실험합니다.
GoogleMapsDemos에서 내 위치에 액세스하도록 허용하라는 메시지가 표시되면 허용을 선택합니다.

의견 보내기