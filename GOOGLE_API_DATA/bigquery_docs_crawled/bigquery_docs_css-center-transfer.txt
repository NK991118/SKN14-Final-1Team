Source URL: https://cloud.google.com/bigquery/docs/css-center-transfer

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
의견 보내기
이 페이지의 내용
지원되는 보고서 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#supported_reports]
CSS Center 전송에서 데이터 수집 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#data-ingestion]
제한사항 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#limitations]
CSS Center 데이터 액세스 및 승인 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#data-access-auth]
데이터 쿼리 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#query_your_data]
CSS Center 샘플 쿼리 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#sample-queries]
제품 및 제품 문제 샘플 쿼리 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#products_and_product_issues_sample_queries]
BigQuery에 CSS Center 데이터 로드
bookmark_border
프리뷰
이 제품에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 제품은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
참고: BigQuery Data Transfer Service를 사용하는 비교 쇼핑 서비스(CSS) 센터에 대한 지원을 받거나 의견을 보내려면 gmc-transfer-preview@google.com [mailto:gmc-transfer-preview@google.com]에 문의하세요.
CSS Center용 BigQuery Data Transfer Service 커넥터를 사용하여 CSS Center에서 BigQuery로 데이터를 로드할 수 있습니다. BigQuery Data Transfer Service를 사용하면 CSS Center의 최신 데이터를 BigQuery에 추가하는 반복 전송 작업을 예약할 수 있습니다.
지원되는 보고서
CSS Center용 BigQuery Data Transfer Service는 연결된 판매자 센터 계정의 제품 및 제품 문제 보고서 [https://cloud.google.com/bigquery/docs/merchant-center-transfer?hl=ko#products_and_product_issues]에서 다음 데이터를 지원합니다.
제품 및 제품 문제
이 보고서에는 CSS Center와 연결된 판매자가 판매자 센터 계정에 업로드한 데이터가 포함되어 있습니다. 이 보고서에는 Google이 판매자의 제품에서 감지한 항목 수준의 문제도 포함됩니다. 이 데이터가 BigQuery에 로드되는 방법에 대한 자세한 내용은 CSS Center 제품 테이블 스키마 [https://cloud.google.com/bigquery/docs/css-center-products-schema?hl=ko]를 참조하세요.
CSS Center 전송에서 데이터 수집
CSS Center에서 BigQuery로 데이터를 전송할 때는 데이터가 날짜별로 파티션을 나눈 BigQuery 테이블에 로드됩니다. 데이터가 로드되는 테이블 파티션은 데이터 소스의 날짜에 해당합니다. 동일한 날짜에 여러 전송을 예약하면 BigQuery Data Transfer Service가 해당 날짜의 파티션을 최신 데이터로 덮어씁니다. 동일한 일자에 전송이 여러 개 있거나 백필을 실행해도 데이터가 중복되지 않으며 다른 일자의 파티션에 영향을 주지 않습니다.
제한사항
일부 보고서에는 이전 백필에 대한 다른 지원 기간과 같은 자체 제약조건이 있을 수 있습니다. 제품 및 제품 문제 보고서는 백필을 지원하지 않습니다.
BigQuery의 제품 및 제품 문제 데이터는 CSS Center 계정과 연결된 판매자 센터 계정의 실시간 뷰를 나타내지 않습니다. BigQuery의 제품 및 제품 문제 데이터에는 최대 1시간의 지연 시간이 있을 수 있습니다.
CSS Center 계정으로 내보낸 데이터에는 연결된 CSS와 정보를 공유하기로 동의한 판매자에 대한 정보만 포함됩니다. 자세한 내용은 CSS가 판매자 센터 계정에 액세스하는 방법 [https://support.google.com/merchants/answer/13438603?hl=ko]을 참조하세요.
CSS Center 데이터 액세스 및 승인
CSS Center 사용자는 판매자 센터 계정에서 해당 사용자에게 제공한 액세스 수준에 따라 판매자 센터 계정의 정보에만 액세스할 수 있습니다. 따라서 CSS Center 전송에는 CSS Center 사용자가 액세스할 수 있는 판매자 데이터만 포함됩니다. 자세한 내용은 CSS가 판매자 센터 계정에 액세스하는 방법 [https://support.google.com/merchants/answer/13438603?hl=ko]을 참조하세요.
CSS Center에서 사용자의 액세스 권한을 CSS 관리자로 구성 [https://support.google.com/css-center/answer/9773473?hl=ko]하여 CSS 사용자의 액세스 권한을 구성할 수 있습니다.
데이터 쿼리
BigQuery로 전송되는 데이터는 수집 시간으로 파티션을 나눈 테이블 [https://cloud.google.com/bigquery/docs/partitioned-tables?hl=ko]에 기록됩니다.
CSS Center 테이블을 쿼리할 때는 _PARTITIONTIME 또는 _PARTITIONDATE 유사 열을 쿼리에 사용해야 합니다. 자세한 내용은 파티션을 나눈 테이블 쿼리 [https://cloud.google.com/bigquery/docs/querying-partitioned-tables?hl=ko]를 참조하세요.
Products_ 테이블에는 중첩 및 반복 필드가 포함됩니다. 중첩 및 반복 데이터 처리에 대한 자세한 내용은 반복 필드 처리의 차이점 [https://cloud.google.com/bigquery/docs/reference/standard-sql/migrating-from-legacy-sql?hl=ko#differences_in_repeated_field_handling]을 참조하세요.
CSS Center 샘플 쿼리
다음 CSS Center 샘플 쿼리를 사용하여 전송된 데이터를 분석할 수 있습니다. Looker Studio [https://www.google.com/analytics/data-studio/?hl=ko]와 같은 시각화 도구에서 쿼리를 사용할 수도 있습니다.
다음 각 쿼리에서 dataset를 해당 데이터 세트 이름으로 바꿉니다. css_id를 CSS 도메인 ID로 바꿉니다.
제품 및 제품 문제 샘플 쿼리
다음 쿼리는 제품 및 제품 문제 보고서의 데이터를 분석합니다.
제품 및 제품 문제 통계
다음 SQL 샘플 쿼리는 제품 수, 문제가 있는 제품, 일별 문제를 제공합니다.
SELECT
  _PARTITIONDATE AS date,
  COUNT(*) AS num_products,
  COUNTIF(ARRAY_LENGTH(item_issues) > 0) AS num_products_with_issues,
  SUM(ARRAY_LENGTH(item_issues)) AS num_issues
FROM
  dataset.Products_css_id
WHERE
  _PARTITIONDATE >= 'YYYY-MM-DD'
GROUP BY
  date
ORDER BY
  date DESC;
비승인 제품
다음 SQL 샘플 쿼리는 표시가 승인되지 않은 제품의 수를 리전 및 보고 컨텍스트별로 구분하여 제공합니다. 비승인은 제외된 [https://support.google.com/merchants/answer/6324486?hl=ko] 보고 컨텍스트로 인해 또는 제품 관련 문제로 인해 발생할 수 있습니다.
SELECT
  _PARTITIONDATE AS date,
  statuses.region as disapproved_region,
  reporting_context_status.reporting_context as reporting_context,
  COUNT(*) AS num_products
FROM
  dataset.Products_css_id,
  UNNEST(reporting_context_statuses) AS reporting_context_status,
  UNNEST(reporting_context_status.region_and_status) AS statuses
WHERE
  _PARTITIONDATE >= 'YYYY-MM-DD' AND statuses.status = 'DISAPPROVED'
GROUP BY
  date, disapproved_region, reporting_context
ORDER BY
  date DESC;
승인되지 않은 문제가 있는 제품
다음 SQL 샘플 쿼리는 비승인 문제가 있는 제품 수를 리전별로 구분하여 가져옵니다.
SELECT
  _PARTITIONDATE AS date,
  disapproved_region,
  COUNT(DISTINCT CONCAT(CAST(css_id AS STRING), ':', product_id))
      AS num_distinct_products
FROM
  dataset.Products_css_id,
  UNNEST(item_issues) AS issue,
  UNNEST(issue.severity.severity_per_reporting_context) as severity_per_rc,
  UNNEST(severity_per_rc.disapproved_regions) as disapproved_region
WHERE
  _PARTITIONDATE >= 'YYYY-MM-DD'
GROUP BY
  date, disapproved_region
ORDER BY
  date DESC;
의견 보내기