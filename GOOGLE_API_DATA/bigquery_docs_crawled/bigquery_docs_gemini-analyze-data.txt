Source URL: https://cloud.google.com/bigquery/docs/gemini-analyze-data

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
목표 [https://cloud.google.com/bigquery/docs/gemini-analyze-data?hl=ko#objectives]
비용 [https://cloud.google.com/bigquery/docs/gemini-analyze-data?hl=ko#costs]
시작하기 전에 [https://cloud.google.com/bigquery/docs/gemini-analyze-data?hl=ko#before-you-begin]
BigQuery 기능 알아보기 [https://cloud.google.com/bigquery/docs/gemini-analyze-data?hl=ko#learn-products]
데이터 액세스 및 분석 [https://cloud.google.com/bigquery/docs/gemini-analyze-data?hl=ko#use-gemini-analyze-data]
Gemini 지원을 활용해 데이터 분석하기
bookmark_border
이 튜토리얼에서는 BigQuery의 Gemini [https://cloud.google.com/gemini/docs/bigquery/overview?hl=ko]에서 AI 기반 지원을 사용하여 데이터를 분석하는 방법을 설명합니다.
이 튜토리얼의 예시에서는 여러분이 데이터 세트에서 제품 판매를 분석하고 예측해야 하는 데이터 분석가라고 가정합니다.
이 튜토리얼에서는 사용자가 SQL 및 기본 데이터 분석 태스크에 익숙하다고 가정합니다. Google Cloud 제품에 대한 지식이 있다고 가정하지 않습니다. BigQuery를 처음 사용하는 경우 BigQuery 빠른 시작 [https://cloud.google.com/bigquery/docs/quickstarts?hl=ko]을 참조하세요.
목표
BigQuery의 Gemini를 사용하여 BigQuery가 특정 데이터 분석 태스크를 처리하는 방법에 대한 질문에 답합니다.
BigQuery의 Gemini에 데이터 세트를 찾고 SQL 쿼리를 설명하고 생성하도록 요청합니다.
미래를 예측하는 머신러닝(ML) 모델을 빌드합니다.
비용
이 튜토리얼에서는 다음과 같은 요금이 청구되는 Google Cloud 제품을 사용합니다.
BigQuery [https://cloud.google.com/bigquery/pricing?hl=ko]
BigQuery ML [https://cloud.google.com/bigquery/pricing?hl=ko#bqml]
예상 사용량을 기준으로 비용을 추정하려면 가격 계산기 [https://cloud.google.com/products/calculator?hl=ko]를 사용하세요.
시작하기 전에
In the Google Cloud console, on the project selector page, select or create a Google Cloud project.
Note: If you don't plan to keep the resources that you create in this procedure, create a project instead of selecting an existing project. After you finish these steps, you can delete the project, removing all resources associated with the project.
Go to project selector [https://console.cloud.google.com/projectselector2/home/dashboard?hl=ko]
BigQuery의 Gemini가 Google Cloud 프로젝트에 설정되어 있는지 확인합니다 [https://cloud.google.com/gemini/docs/bigquery/set-up-gemini?hl=ko].
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
이름이 bqml_tutorial인 데이터 세트를 만듭니다 [https://cloud.google.com/bigquery/docs/datasets?hl=ko]. 데이터 세트를 사용하여 테이블 및 모델을 포함한 데이터베이스 객체를 저장합니다.
이 튜토리얼을 완료하는 데 필요한 BigQuery의 Gemini 기능을 사용 설정하려면 BigQuery 툴바에서 pen_spark Gemini를 클릭한 후 다음 옵션을 선택합니다.
자동 완성
자동 생성
설명
BigQuery 기능 알아보기
시작하기 전에 BigQuery에서 데이터 쿼리를 처리하는 방법을 자세히 알아보려고 한다고 가정해 보겠습니다. 지원을 받으려면 BigQuery의 Gemini에 다음과 같은 자연어 문(또는 프롬프트)을 작성하면 됩니다.
'BigQuery를 시작하려면 어떻게 해야 해'
'데이터 분석에 BigQuery를 사용하면 어떤 이점이 있어?'
'BigQuery에서는 쿼리의 자동 확장을 어떻게 처리해?'
BigQuery의 Gemini는 데이터 분석 방법에 대한 정보도 제공할 수 있습니다. 이러한 유형의 도움말을 위해 다음과 같은 프롬프트를 전송할 수 있습니다.
"BigQuery에서 시계열 예측 모델을 만들려면 어떻게 해야 하나요?"
"BigQuery에 다른 유형의 데이터를 로드하려면 어떻게 해야 하나요?"
데이터 액세스 및 분석
Google Cloud를 위한 Gemini는 아직 초기 단계의 기술로, 그럴듯해 보이지만 실제로는 잘못된 출력을 생성할 수 있습니다. Gemini for Google Cloud 제품의 모든 출력을 사용 전에 미리 검사하는 것이 좋습니다. 자세한 내용은 Google Cloud 를 위한 Gemini 및 책임감 있는 AI [https://cloud.google.com/gemini/docs/discover/responsible-ai?hl=ko]를 참고하세요.
BigQuery의 Gemini를 사용하면 분석을 위해 액세스할 수 있는 대상 데이터와 해당 데이터를 분석하는 방법을 파악할 수 있습니다.
이 예시에서는 다음과 관련하여 도움이 필요하다고 가정해 보겠습니다.
분석할 판매 데이터 세트 및 테이블 찾기
데이터 테이블 및 쿼리가 판매 데이터 세트와 어떻게 관련되어 있는지 알아보기
복잡한 쿼리를 이해하고 데이터 세트를 사용하는 쿼리 작성
데이터 찾기
데이터를 쿼리하려면 먼저 어떤 데이터에 액세스할 수 있는지 알아야 합니다. 모든 데이터 제품은 데이터를 다르게 구성하고 저장합니다.
지원을 받으려면 BigQuery의 Gemini에 "BigQuery에서 사용할 수 있는 데이터 세트 및 테이블을 알아보려면 어떻게 해야 하나요?"와 같은 프롬프트를 작성하면 됩니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
Google Cloud 콘솔 툴바에서 spark Gemini Cloud Assist 채팅 열기 또는 닫기를 클릭합니다.
Cloud Assist 패널에 How do I learn which datasets and tables are available to me in BigQuery? 프롬프트를 입력합니다.
프롬프트 전송(send)을 클릭합니다.
Google Cloud 를 위한 Gemini에서 사용자 데이터를 사용하는 방법과 시점 [https://cloud.google.com/gemini/docs/discover/data-governance?hl=ko]을 알아보세요.
응답에는 프로젝트, 데이터 세트 또는 데이터 세트 내의 테이블을 나열하는 여러 가지 방법이 포함되어 있습니다.
선택사항: 채팅 기록을 재설정하려면 Cloud Assist 패널에서 delete 채팅 지우기를 클릭한 다음 채팅 재설정을 클릭합니다.
참고: 채팅 기록 상태는 메모리에만 보관되며 다른 작업공간으로 전환하거나 Google Cloud 콘솔을 닫으면 유지되지 않습니다.
BigQuery에서 SQL 이해 및 작성
이 예시에서는 분석할 데이터를 선택했으며 이제 해당 데이터를 쿼리하려고 한다고 가정합니다. BigQuery의 Gemini는 복잡하고 파싱하기 어려운 쿼리를 이해하거나 새로운 SQL 쿼리를 생성하는 등 SQL을 사용하는 데 도움을 줄 수 있습니다.
Gemini에 SQL 쿼리 설명 지원을 요청하는 프롬프트 입력하기
다른 사람이 작성한 복잡한 쿼리를 이해하고 싶다고 가정해 보겠습니다. BigQuery의 Gemini는 쿼리 구문, 기본 스키마, 비즈니스 컨텍스트와 같은 평이한 언어로 쿼리를 설명할 수 있습니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
쿼리 편집기에서 설명이 필요한 쿼리를 열거나 붙여넣습니다. 예를 들면 다음과 같습니다.
SELECT
  u.id AS user_id,
  u.first_name,
  u.last_name,
  avg(oi.sale_price) AS avg_sale_price
FROM `bigquery-public-data.thelook_ecommerce.users` AS u
JOIN `bigquery-public-data.thelook_ecommerce.order_items` AS oi
  ON u.id = oi.user_id
GROUP BY 1, 2, 3
ORDER BY avg_sale_price DESC
LIMIT 10
쿼리를 강조 표시한 다음 auto_awesome 이 선택한 쿼리 설명을 클릭합니다.
Cloud Assist 패널에 다음과 비슷한 응답이 반환됩니다.
The intent of this query is to find the top 10 users by average sale price.
The query first joins the users and order_items tables on the user_id
column. It then groups the results by user_id, first_name, and last_name,
and calculates the average sale price for each group. The results are then
ordered by average sale price in descending order, and the top 10 results
are returned.
일별 및 제품별로 판매를 그룹화하는 SQL 쿼리 생성하기
이 예에서는 매일 인기 제품을 나열하는 쿼리를 생성하려고 합니다. 그런 다음 thelook_ecommerce 데이터 세트의 테이블을 사용하고 BigQuery의 Gemini가 주문된 상품 및 제품 이름별로 매출을 계산하는 쿼리를 생성하도록 요청합니다.
이러한 유형의 쿼리는 복잡할 수 있지만 BigQuery의 Gemini를 사용하면 문을 자동으로 만들 수 있습니다. 데이터 스키마에 따라 SQL 쿼리를 생성하라는 프롬프트를 제공할 수 있습니다. 데이터 스키마에 대해 잘 모르거나, SQL 문법에 대한 기본 지식만 있거나 노 코드로 시작하더라도 Gemini 지원은 하나 이상의 SQL 문을 추천합니다.
BigQuery의 Gemini가 인기 제품이 나열된 쿼리를 생성하도록 프롬프트를 입력하려면 다음 단계를 따릅니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색 메뉴에서 Studio를 클릭합니다.
add_box SQL 쿼리를 클릭합니다. Explorer 창에 선택한 데이터베이스가 자동으로 로드됩니다.
쿼리 편집기에서 다음 프롬프트를 입력한 다음 Enter 키를 누릅니다.
# select the sum of sales by date and product casted to day from bigquery-public-data.thelook_ecommerce.order_items joined with bigquery-public-data.thelook_ecommerce.products
우물 정자(#)는 BigQuery의 Gemini에 SQL을 생성하도록 요청합니다. BigQuery의 Gemini는 다음과 유사한 SQL 쿼리를 제안합니다.
SELECT
  sum(sale_price),
  DATE(created_at),
  product_id
FROM
  `bigquery-public-data.thelook_ecommerce.order_items`
    AS t1
INNER JOIN `bigquery-public-data.thelook_ecommerce.products` AS t2
  ON t1.product_id = t2.id
GROUP BY 2, 3
참고: BigQuery의 Gemini는 프롬프트에 대해 여러 SQL 문을 제안할 수 있습니다.
추천된 코드를 수락하려면 Tab 키를 누른 다음 실행을 클릭하여 SQL 문을 실행합니다. 제안된 SQL을 스크롤하고 문에서 제안된 특정 단어를 수락할 수도 있습니다.
쿼리 결과 창에서 쿼리 결과를 확인합니다.
예측 모델을 빌드하고 결과 보기
이 예시에서는 BigQuery ML을 사용하여 다음을 수행합니다.
추세 쿼리를 사용하여 예측 모델을 빌드합니다.
BigQuery의 Gemini를 사용하여 예측 모델의 결과를 확인하는 쿼리를 이해하고 작성해 봅니다.
다음은 모델에 대한 입력으로 사용되는 실제 판매와 함께 다음 쿼리 예시를 사용합니다. 이 쿼리는 ML 모델을 생성할 때 사용됩니다.
예측 ML 모델을 만들려면 쿼리 편집기에서 다음 SQL 쿼리를 실행합니다.
CREATE MODEL bqml_tutorial.sales_forecasting_model
  OPTIONS (
    MODEL_TYPE = 'ARIMA_PLUS',
    time_series_timestamp_col = 'date_col',
    time_series_data_col = 'total_sales',
    time_series_id_col = 'product_id')
AS
SELECT
  sum(sale_price) AS total_sales,
  DATE(created_at) AS date_col,
  product_id
FROM
  `bigquery-public-data.thelook_ecommerce.order_items`
    AS t1
INNER JOIN `bigquery-public-data.thelook_ecommerce.products` AS t2
  ON t1.product_id = t2.id
GROUP BY 2, 3;
BigQuery의 Gemini를 사용하여 이 쿼리를 이해 [https://cloud.google.com/bigquery/docs/gemini-analyze-data?hl=ko#prompt-gemini-explain-sql-queries]하는 데 도움이 될 수 있습니다.
참고: 모델이 실행되는 동안 Cloud Assist 패널에서 What is an ARIMA_PLUS model type?과 같은 질문을 통해 BigQuery의 Gemini를 프롬프트할 수도 있습니다.
모델이 생성되면 쿼리 결과 창의 결과 탭에 다음과 유사한 메시지가 표시됩니다.
Successfully created model named sales_forecasting_model.
Cloud Assist 패널에 작업이 완료되면 모델이 예측한 값을 가져오기 위한 쿼리 작성을 도와달라는 프롬프트를 BigQuery의 Gemini에 입력합니다(예: How can I get a forecast in SQL from the model? 입력).
프롬프트의 컨텍스트에 따라 대답에는 판매를 예측하는 ML 모델의 예시가 포함됩니다.
SELECT
  *
FROM
  ML.FORECAST(
    MODEL `
PROJECT_ID.bqml_tutorial.sales_forecasting_model`,
    STRUCT(
      7 AS horizon,
      0.95 AS confidence_level))
이 응답에서 PROJECT_ID는Google Cloud 프로젝트입니다.
참고: BigQuery의 Gemini는 채팅 세션의 컨텍스트를 사용하여 동일한 세션의 질문에 답변합니다.
Cloud Assist 패널에서 SQL 쿼리를 복사합니다.
쿼리 편집기에서 SQL 쿼리를 실행합니다.
삭제
이 튜토리얼에서 사용된 리소스에 대한 비용이 Google Cloud 계정에 청구되지 않게 하려면 이 튜토리얼에서 만든 Google Cloud 프로젝트를 삭제하면 됩니다. 또는 개별 리소스를 삭제할 수 있습니다.
프로젝트 삭제
주의: 프로젝트 삭제가 미치는 영향은 다음과 같습니다.
프로젝트의 모든 항목이 삭제됩니다. 이 문서의 태스크에 기존 프로젝트를 사용한 경우 프로젝트를 삭제하면 프로젝트에서 수행한 다른 작업도 삭제됩니다.
커스텀 프로젝트 ID가 손실됩니다. 이 프로젝트를 만들 때 앞으로 사용할 커스텀 프로젝트 ID를 만들었을 수 있습니다. appspot.com URL과 같이 프로젝트 ID를 사용하는 URL을 보존하려면 전체 프로젝트를 삭제하는 대신 프로젝트 내에서 선택한 리소스만 삭제합니다.
여러 아키텍처, 튜토리얼, 빠른 시작을 살펴보려는 경우 프로젝트를 재사용하면 프로젝트 할당량 한도 초과를 방지할 수 있습니다.
In the Google Cloud console, go to the Manage resources page.
Go to Manage resources [https://console.cloud.google.com/iam-admin/projects?hl=ko]
In the project list, select the project that you want to delete, and then click Delete.
In the dialog, type the project ID, and then click Shut down to delete the project.
데이터 세트 삭제
프로젝트를 삭제하면 프로젝트의 데이터 세트와 테이블이 모두 삭제됩니다. 프로젝트를 다시 사용하려면 이 튜토리얼에서 만든 데이터 세트를 삭제할 수 있습니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
앞서 만든 bqml_tutorial 데이터 세트를 탐색 메뉴에서 선택합니다.
데이터 세트, 테이블, 모든 데이터를 삭제하려면 데이터 세트 삭제를 클릭합니다.
삭제를 확인하려면 데이터 세트 삭제 대화상자에 데이터 세트 이름(bqml_tutorial)을 입력한 후 삭제를 클릭합니다.
다음 단계
Gemini Google Cloud 개요 [https://cloud.google.com/gemini/docs/overview?hl=ko] 읽어보기
Gemini Google Cloud 할당량 및 한도 [https://cloud.google.com/gemini/docs/quotas?hl=ko] 알아보기
Gemini Google Cloud위치 [https://cloud.google.com/gemini/docs/locations?hl=ko] 알아보기
데이터 인사이트를 생성하여 데이터를 탐색 [https://cloud.google.com/bigquery/docs/data-insights?hl=ko]하는 방법 알아보기
도움이 되었나요?
의견 보내기