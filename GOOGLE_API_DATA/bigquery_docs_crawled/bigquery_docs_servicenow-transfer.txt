Source URL: https://cloud.google.com/bigquery/docs/servicenow-transfer

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
제한사항 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#limitations]
시작하기 전에 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#before_you_begin]
ServiceNow 기본 요건 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#servicenow_prereqs]
BigQuery 기본 요건 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#bq-prerequisites]
필요한 BigQuery 역할 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#bq-roles]
ServiceNow 데이터 전송 설정 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#servicenow_transfer_setup]
이전 문제 해결하기 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#troubleshoot_transfer_issues]
ServiceNow 사용 설정으로 인한 전송 실패 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#servicenow_enablement_issue]
ServiceNow 전송 예약
bookmark_border
Preview
This feature is subject to the "Pre-GA Offerings Terms" in the General Service Terms section of the Service Specific Terms [https://cloud.google.com/terms/service-terms?hl=ko#1]. Pre-GA features are available "as is" and might have limited support. For more information, see the launch stage descriptions [https://cloud.google.com/products?hl=ko#product-launch-stages].
참고: 이 기능에 대한 지원을 받거나 의견을 제출하려면 dts-preview-support@google.com [mailto:dts-preview-support@google.com]으로 문의하세요.
ServiceNow용 BigQuery Data Transfer Service 커넥터를 사용하면 ServiceNow에서 BigQuery로 반복되는 로드 작업을 자동으로 예약하고 관리할 수 있습니다.
제한사항
ServiceNow 데이터 전송에는 다음과 같은 제한사항이 적용됩니다.
같은 ServiceNow 인스턴스에서 동시 데이터 전송을 실행하지 않는 것이 좋습니다.
반복 데이터 전송 사이의 최소 간격은 15분입니다. 반복 전송의 기본 간격은 24시간입니다.
ServiceNow는 조달, 제품 카탈로그, 계약 관리 등 세 가지 애플리케이션에서 비즈니스 관련 테이블을 데이터 전송합니다. 다음 테이블을 전송할 수 있습니다.
ast_contract
clm_condition_check
clm_condition_checker
clm_contract_history
clm_m2m_contract_and_terms
clm_m2m_contract_asset
clm_m2m_contract_user
clm_m2m_rate_card_asset
clm_terms_and_conditions
pc_hardware_cat_item
pc_product_cat_item
pc_software_cat_item
pc_vendor_cat_item
proc_po
proc_po_item
proc_rec_slip
proc_rec_slip_item
시작하기 전에
ServiceNow 데이터 전송을 만들기 전에 ServiceNow 및 BigQuery에 다음을 구성합니다.
ServiceNow 기본 요건
ServiceNow API에 액세스하려면 OAuth 사용자 인증 정보 [https://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_9013.htm]를 만듭니다.
ServiceNow 인스턴스에서 다음 ServiceNow 애플리케이션을 모두 사용 설정해야 합니다.
조달 [https://docs.servicenow.com/csh?topicname=t_ActivateProcurement.html&version=latest]
제품 카탈로그 [https://docs.servicenow.com/csh?topicname=c_ProductCatalog.html&version=latest]
계약 관리 [https://docs.servicenow.com/csh?topicname=c_ContractManagement.html&version=latest]
BigQuery 기본 요건
BigQuery Data Transfer Service를 사용 설정 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko]하는 데 필요한 모든 작업을 완료합니다.
데이터를 저장할 BigQuery 데이터 세트를 만듭니다 [https://cloud.google.com/bigquery/docs/datasets?hl=ko].
Pub/Sub의 전송 실행 알림을 설정하려면 pubsub.topics.setIamPolicy Identity and Access Management(IAM) 권한이 있는지 확인합니다. 이메일 알림만 설정하는 경우에는 Pub/Sub 권한이 필요하지 않습니다. 자세한 내용은 BigQuery Data Transfer Service 실행 알림 [https://cloud.google.com/bigquery/docs/transfer-run-notifications?hl=ko]을 참조하세요.
필요한 BigQuery 역할
전송을 만드는 데 필요한 권한을 얻으려면 관리자에게 BigQuery 관리자 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.admin](roles/bigquery.admin) IAM 역할을 부여해 달라고 요청하세요. 역할 부여에 대한 자세한 내용은 프로젝트, 폴더, 조직에 대한 액세스 관리 [https://cloud.google.com/iam/docs/granting-changing-revoking-access?hl=ko]를 참조하세요.
이 사전 정의된 역할에는 전송을 만드는 데 필요한 권한이 포함되어 있습니다. 필요한 정확한 권한을 보려면 필수 권한 섹션을 펼치세요.
필수 권한
커스텀 역할 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko]이나 다른 사전 정의된 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko]을 사용하여 이 권한을 부여받을 수도 있습니다.
ServiceNow 데이터 전송 설정
Google Cloud 콘솔이나 bq 명령줄 도구에서 ServiceNow 데이터 전송을 만들 수 있습니다.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔의 데이터 전송 페이지로 이동합니다.

데이터 전송으로 이동 [https://console.cloud.google.com/bigquery/transfers?hl=ko] 
add 전송 만들기를 클릭합니다.
소스 유형 섹션의 소스에 ServiceNow를 선택합니다.
데이터 소스 세부정보 섹션에서 다음을 수행합니다.


인스턴스 ID에 ServiceNow 인스턴스 ID를 입력합니다.
ServiceNow URL에서 가져올 수 있습니다(예: https://INSTANCE_ID.service-now.com).
사용자 이름에 연결에 사용할 ServiceNow 사용자 이름을 입력합니다.
비밀번호에 ServiceNow 비밀번호를 입력합니다.
클라이언트 ID에 OAuth 사용자 인증 정보의 클라이언트 ID를 입력합니다. 사용자 인증 정보를 생성하려면 OAuth 사용자 인증 정보 만들기 [https://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_9013.htm]를 참조하세요.
클라이언트 보안 비밀번호에 OAuth 사용자 인증 정보의 클라이언트 보안 비밀번호를 입력합니다.
값 유형에 다음 중 하나를 선택합니다.

데이터베이스에 저장된 값을 전송하려면 실제를 선택합니다.
열의 표시 값을 전송하려면 표시를 선택합니다.


대상 설정 섹션의 데이터 세트에서 데이터를 저장하기 위해 만든 데이터 세트를 선택합니다.
전송 구성 이름 섹션의 표시 이름에 데이터 전송 이름을 입력합니다.
일정 옵션 섹션에서 다음을 수행합니다.


반복 빈도 목록에서 이 데이터 전송 실행 빈도를 지정하는 옵션을 선택합니다. 커스텀 반복 빈도를 지정하려면 커스텀을 선택합니다. 주문형을 선택한 경우 수동으로 전송을 트리거 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#manually_trigger_a_transfer]하면 이 데이터 전송이 실행됩니다.
해당하는 경우 지금 시작 또는 설정 시간에 시작을 선택하고 시작 날짜와 실행 시간을 입력합니다.

서비스 계정 메뉴에서 Google Cloud 프로젝트와 연결된 서비스 계정의 서비스 계정 [https://cloud.google.com/iam/docs/service-account-overview?hl=ko]을 선택합니다. 선택한 서비스 계정에는 이 데이터 전송을 실행하는 데 필요한 역할 [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#bq-roles]이 있어야 합니다.

제휴 ID [https://cloud.google.com/iam/docs/workforce-identity-federation?hl=ko]로 로그인한 경우 서비스 계정이 데이터 전송을 만드는 데 필요합니다. Google 계정 [https://cloud.google.com/iam/docs/principals-overview?hl=ko#google-account]으로 로그인한 경우 전송에 사용되는 서비스 계정은 선택사항입니다. 데이터 전송에서 서비스 계정을 사용하는 방법에 대한 자세한 내용은 서비스 계정 사용 [https://cloud.google.com/bigquery/docs/use-service-accounts?hl=ko]을 참조하세요.
(선택사항) 알림 옵션 섹션에서 다음을 수행합니다.


이메일 알림을 사용 설정하려면 이메일 알림 전환 버튼을 클릭합니다.
이 옵션을 사용 설정하면 전송 실행이 실패할 때 전송 관리자에게 이메일 알림이 발송됩니다.
이 데이터 전송에 Pub/Sub 전송 실행 알림 [https://cloud.google.com/bigquery/docs/transfer-run-notifications?hl=ko]을 사용 설정하려면 Pub/Sub 알림 전환 버튼을 클릭합니다. 주제 [https://cloud.google.com/pubsub/docs/overview?hl=ko#types] 이름을 선택하거나 주제 만들기를 클릭하여 주제를 만들 수 있습니다.

저장을 클릭합니다.

--- 탭: bq [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#bq] ---
bq mk [https://cloud.google.com/bigquery/docs/reference/bq-cli-reference?hl=ko#bq_mk] 명령어를 입력하고 전송 생성 플래그 --transfer_config를 지정합니다.
bq mk \
    --transfer_config \
    --project_id=PROJECT_ID \
    --data_source=DATA_SOURCE \
    --display_name=DISPLAY_NAME \
    --target_dataset=DATASET \
    --params='PARAMETERS'

다음을 바꿉니다.


PROJECT_ID(선택사항): Google Cloud 프로젝트 ID.
프로젝트 ID를 지정하지 않으면 기본 프로젝트가 사용됩니다.
DATA_SOURCE: 데이터 소스(예: servicenow)
DISPLAY_NAME: 전송 구성의 표시 이름. 데이터 전송 이름은 나중에 수정해야 할 경우를 대비해 간편하게 전송을 식별할 수 있는 값이면 됩니다.
DATASET. 전송 구성의 대상 데이터 세트
PARAMETERS: JSON 형식으로 생성된 전송 구성의 매개변수. 예를 들면 --params='{"param":"param_value"}'입니다. 다음은 ServiceNow 데이터 전송의 파라미터입니다.


  ServiceNow 매개변수
  필수 또는 선택사항
  설명

  connector.instanceId
  필수
  ServiceNow 인스턴스의 인스턴스 ID


  connector.authentication.username
  필수
  사용자 인증 정보의 사용자 이름


  connector.authentication.password
  필수
  사용자 인증 정보의 비밀번호


  connector.authentication.oauth.clientId
  필수
  생성된 OAuth의 클라이언트 ID


  connector.authentication.oauth.clientSecret
  필수
  생성된 OAuth의 클라이언트 보안 비밀번호


  connector.valueType
  선택사항
  Actual 또는 Display(기본값: Actual)



예를 들어 다음 명령어는 필요한 모든 파라미터를 사용하여 기본 프로젝트에 ServiceNow 데이터 전송을 만듭니다.
  bq mk \
    --transfer_config \
    --target_dataset=mydataset \
    --data_source=servicenow \
    --display_name='My Transfer' \
    --params='{"connector.authentication.oauth.clientId": "1234567890",
        "connector.authentication.oauth.clientSecret":"ABC12345",
        "connector.authentication.username":"user1",
        "Connector.authentication.password":"abcdef1234",
        "connector.instanceId":"https://dev-instance.service-now.com"}'

--- 탭: API [https://cloud.google.com/bigquery/docs/servicenow-transfer?hl=ko#api] ---
projects.locations.transferConfigs.create [https://cloud.google.com/bigquery-transfer/docs/reference/datatransfer/rest/v1/projects.locations.transferConfigs/create?hl=ko] 메서드를 사용하고 TransferConfig [https://cloud.google.com/bigquery-transfer/docs/reference/datatransfer/rest/v1/projects.locations.transferConfigs?hl=ko#TransferConfig] 리소스의 인스턴스를 지정합니다.
이전 문제 해결하기
자세한 내용은 전송 구성 문제 해결 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko]을 참조하세요.
ServiceNow 사용 설정으로 인한 전송 실패
조달, 제품 카탈로그 또는 계약 관리 애플리케이션이 ServiceNow에서 사용 설정되지 않으면 데이터 전송이 실패하는 문제가 발생합니다. 이 문제를 해결하려면 애플리케이션 3개를 모두 사용 설정합니다. 예를 들어 조달 [https://docs.servicenow.com/bundle/vancouver-it-asset-management/page/product/procurement/task/t_ActivateProcurement.html]을 활성화합니다.
전송 실행 중에 문제 발생
전송 실행이 계획한 대로 생성되지 않는 문제가 발생합니다. 문제를 해결하려면 다음을 수행합니다.
사용자 이름, 비밀번호, 클라이언트 ID, 클라이언트 보안 비밀번호와 같은 ServiceNow 계정 사용자 인증 정보가 유효한지 확인합니다.
인스턴스 ID가 ServiceNow 인스턴스의 유효한 ID인지 확인합니다.
가격 책정
이 기능이 프리뷰 [https://cloud.google.com/products?hl=ko#product-launch-stages] 상태인 동안에는 ServiceNow 데이터를 BigQuery로 전송하는 데 비용이 들지 않습니다.
다음 단계
BigQuery Data Transfer Service 개요는 BigQuery Data Transfer Service 소개 [https://cloud.google.com/bigquery/docs/dts-introduction?hl=ko]를 참조하세요.
전송 구성 정보 가져오기, 전송 구성 나열, 전송 실행 기록 보기를 포함한 전송 사용에 대한 정보는 전송 작업 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko]을 참조하세요.
교차 클라우드 작업으로 데이터를 로드 [https://cloud.google.com/bigquery/docs/load-data-using-cross-cloud-transfer?hl=ko]하는 방법을 알아보기
도움이 되었나요?
의견 보내기