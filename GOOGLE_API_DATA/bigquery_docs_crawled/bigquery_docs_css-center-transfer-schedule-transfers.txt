Source URL: https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
의견 보내기
이 페이지의 내용
시작하기 전에 [https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers?hl=ko#before_you_begin]
필수 권한 [https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers?hl=ko#required_permissions]
CSS Center 전송 설정 [https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers?hl=ko#transfer-setup]
Comparison Shopping Service Center 전송 예약
bookmark_border
프리뷰
이 제품에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 제품은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
참고: BigQuery Data Transfer Service를 사용하는 비교 쇼핑 서비스(CSS) 센터에 대한 지원을 받거나 의견을 보내려면 gmc-transfer-preview@google.com [mailto:gmc-transfer-preview@google.com]에 문의하세요.
이 문서에서는 BigQuery Data Transfer Service를 사용하여 CSS Center 보고 데이터의 반복되는 로드 작업을 예약하고 관리하는 방법을 설명합니다.
시작하기 전에
CSS Center 데이터 전송을 만들기 전에 다음을 수행하세요.
BigQuery Data Transfer Service를 사용 설정합니다 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko].
CSS Center 데이터를 저장할 BigQuery 데이터 세트를 만듭니다 [https://cloud.google.com/bigquery/docs/datasets?hl=ko].
데이터 세트 리전의 경우 미국 또는 EU에서 기본 옵션인 멀티 리전을 사용할 수 있습니다.
특정 리전에 데이터 세트를 만들려는 경우 CSS Center 데이터 전송은 다음 리전에서만 지원됩니다.
us-east4 (Northern Virginia),
asia-northeast1 (Tokyo),
asia-southeast1 (Singapore),
australia-southeast1 (Sydney),
europe-north1 (Findland),
europe-west2 (London),
europe-west6 (Zurich).
CSS Center 데이터 전송을 만들려면 CSS 도메인 ID가 있어야 합니다.
Pub/Sub의 전송 실행 알림을 설정하려면 pubsub.topics.setIamPolicy 권한이 있어야 합니다. 이메일 알림만 설정한다면 Pub/Sub 권한이 필요하지 않습니다. 자세한 내용은 BigQuery Data Transfer Service 실행 알림 [https://cloud.google.com/bigquery/docs/transfer-run-notifications?hl=ko]을 참조하세요.
필수 권한
데이터 전송을 만드는 사용자에게 다음과 같은 필수 권한이 있는지 확인합니다.
BigQuery의 경우:
전송을 만드는 데 필요한 권한을 얻으려면 관리자에게 BigQuery 관리자 [https://cloud.google.com/iam/docs/roles-permissions/bigquery?hl=ko#bigquery.admin](roles/bigquery.admin) IAM 역할을 부여해 달라고 요청하세요. 역할 부여에 대한 자세한 내용은 프로젝트, 폴더, 조직에 대한 액세스 관리 [https://cloud.google.com/iam/docs/granting-changing-revoking-access?hl=ko]를 참조하세요.
이 사전 정의된 역할에는 전송을 만드는 데 필요한 권한이 포함되어 있습니다. 필요한 정확한 권한을 보려면 필수 권한 섹션을 펼치세요.
필수 권한
커스텀 역할 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko]이나 다른 사전 정의된 역할 [https://cloud.google.com/iam/docs/roles-overview?hl=ko#predefined]을 사용하여 이 권한을 부여받을 수도 있습니다.
CSS Center의 경우:
전송 구성에 사용되는 CSS Center 계정에 대한 액세스 권한이 있어야 합니다.
CSS Center 전송 설정
CSS Center 보고를 위한 데이터 전송을 만들려면 다음 단계를 따르세요.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 데이터 전송 페이지로 이동합니다.

데이터 전송으로 이동 [https://console.cloud.google.com/bigquery/transfers?hl=ko] 
add 전송 만들기를 클릭합니다.
전송 만들기 페이지에서 다음을 수행합니다.


소스 유형 섹션의 소스에서 Google CSS Center를 선택합니다.
전송 구성 이름 섹션의 표시 이름에 데이터 전송 이름(예: My Transfer)을 입력합니다. 나중에 전송을 수정해야 할 경우를 대비해 전송 이름은 전송을 식별할 수 있는 값이면 됩니다.


 

예약 옵션 섹션은 구성할 수 없습니다. CSS Center 데이터 전송은 24시간마다 한 번씩 실행되도록 예약됩니다.
대상 설정 섹션의 대상 데이터 세트에서 데이터를 저장하기 위해 만든 데이터 세트를 선택합니다.
데이터 소스 세부정보 섹션의 CSS ID에 CSS 도메인 ID를 입력합니다.
전송할 보고서를 선택하세요. 자세한 내용은 지원되는 보고서 [https://cloud.google.com/bigquery/docs/css-center-transfer?hl=ko#supported_reports]를 참조하세요.
(선택사항) 알림 옵션 섹션에서 다음을 수행합니다.


전환을 클릭해서 이메일 알림을 사용 설정합니다. 이 옵션을 사용 설정하면 전송 실행이 실패할 때 전송 관리자에게 이메일 알림이 발송됩니다.
Pub/Sub 주제 선택에서 주제 [https://cloud.google.com/pubsub/docs/overview?hl=ko#types] 이름을 선택하거나 주제 만들기를 클릭합니다.
이 옵션은 데이터 전송에 대한 Pub/Sub 실행 알림 [https://cloud.google.com/bigquery/docs/transfer-run-notifications?hl=ko]을 구성합니다.




 

저장을 클릭합니다.

--- 탭: bq [https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers?hl=ko#bq] ---
bq mk 명령어를 입력하고 전송 생성 플래그 --transfer_config를 지정합니다. 다음 플래그도 필요합니다.


--data_source
--target_dataset
--display_name
--params


또한 --project_id 플래그를 입력하여 특정 프로젝트를 지정할 수도 있습니다. --project_id를 지정하지 않으면 기본 프로젝트가 사용됩니다.

bq mk \
--transfer_config \
--project_id=project_id \
--target_dataset=dataset \
--display_name=name \
--params='parameters' \
--data_source=data_source

각 항목의 의미는 다음과 같습니다.


project_id는 프로젝트 ID입니다.
dataset는 데이터 전송 구성의 대상 데이터 세트입니다.
name은 데이터 전송 구성의 표시 이름입니다. 전송 이름은 나중에 수정해야 할 경우를 대비해 전송을 식별할 수 있는 값이면 됩니다.
parameters에는 JSON 형식으로 생성된 데이터 전송 구성의 매개변수가 있습니다. 예를 들면 --params='{"param":"param_value"}'입니다.

css_id: CSS 도메인 ID입니다.
export_products: 제품 및 제품 문제 데이터를 전송할지 여부입니다. 이 매개변수는 export_products 매개변수를 지정하지 않은 경우에도 기본적으로 포함됩니다. 이 매개변수를 명시적으로 포함하고 true로 설정하는 것이 좋습니다.

data_source는 데이터 소스(css_center)입니다.

주의: 명령줄 도구를 사용하여 알림을 구성할 수 없습니다.
예를 들어 다음 명령어는 CSS 도메인 ID 1234 및 대상 데이터 세트 mydataset를 사용하여 My Transfer라는 CSS Center 데이터 전송을 만듭니다. 기본 프로젝트에 데이터 전송이 생성됩니다.
bq mk \
--transfer_config \
--target_dataset=mydataset \
--display_name='My Transfer' \
--params='{"css_id":"1234","export_products":"true","export_regional_inventories":"true","export_local_inventories":"true","export_price_benchmarks":"true","export_best_sellers":"true"}' \
--data_source=css_center

명령어를 처음 실행할 때 다음과 같은 메시지를 받게 됩니다.

[URL omitted] Please copy and paste the above URL into your web browser and
follow the instructions to retrieve an authentication code.

메시지 안내를 따라 명령줄에 인증 코드를 붙여넣습니다.

--- 탭: API [https://cloud.google.com/bigquery/docs/css-center-transfer-schedule-transfers?hl=ko#api] ---
projects.locations.transferConfigs.create [https://cloud.google.com/bigquery-transfer/docs/reference/datatransfer/rest/v1/projects.locations.transferConfigs/create?hl=ko] 메서드를 사용하고 TransferConfig [https://cloud.google.com/bigquery-transfer/docs/reference/datatransfer/rest/v1/projects.locations.transferConfigs?hl=ko#TransferConfig] 리소스의 인스턴스를 지정합니다.
의견 보내기