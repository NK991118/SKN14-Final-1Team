Source URL: https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
Analytics Hub 사용자 역할 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#analytics_hub_user_roles]
Analytics Hub 관리자 역할 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#ah-admin-role]
Analytics Hub 게시자 및 목록 관리자 역할 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#ah-publisher-role]
Analytics Hub 구독자 및 뷰어 역할 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#ah-subscriber-role]
Analytics Hub 구독 소유자 역할 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#ah-subscription-owner-role]
Analytics Hub 역할 부여 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#grant_analytics_hub_roles]
프로젝트에 역할 부여 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#grant-role-project]
데이터 교환에 역할 부여 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#grant-role-data-exchange]
Analytics Hub 역할 구성
bookmark_border
이 문서에서는 Analytics Hub 사용자 역할과 사용자에게 이 역할을 부여하는 방법을 설명합니다. 자세한 내용은 Analytics Hub 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#analytics-hub-roles]을 참조하세요.
참고: 외부 ID 공급업체 [https://cloud.google.com/iam/docs/workforce-identity-federation?hl=ko]에서 사용자의 액세스 권한을 관리할 때는 user:kiran@example.com, group:support@example.com, domain:example.com과 같은 Google 계정 주 구성원 식별자의 인스턴스를 적절한 직원 ID 제휴 주 구성원 식별자 [https://cloud.google.com/iam/docs/principal-identifiers?hl=ko]로 바꿉니다.
Analytics Hub 사용자 역할
다음 섹션에서는 사전 정의된 Analytics Hub 역할을 설명합니다. 데이터 교환 및 목록에서 다양한 작업을 수행하도록 사용자에게 이 역할을 할당할 수 있습니다.
Analytics Hub 관리자 역할
Sharing(이전 명칭: Analytics Hub)는 데이터 교환을 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-exchanges?hl=ko]할 수 있도록 프로젝트나 데이터 교환에 부여할 수 있는 Analytics Hub 관리자 역할(roles/analyticshub.admin)을 제공합니다. 이 역할을 통해 사용자는 다음 작업을 수행할 수 있습니다.
데이터 교환을 생성, 업데이트, 삭제합니다.
목록을 생성, 업데이트, 삭제, 공유
Analytics Hub 관리자, 목록 관리자, 게시자, 구독자, 뷰어를 관리합니다.
이 역할을 가진 사용자는 관리자라고 합니다.
Analytics Hub 게시자 및 목록 관리자 역할
Sharing은 목록을 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-listings?hl=ko]할 수 있도록 프로젝트, 데이터 교환 또는 목록에 부여할 수 있는 다음과 같은 사전 정의된 역할을 제공합니다.
사용자가 다음 작업을 수행할 수 있게 해주는 Analytics Hub 게시자 역할(roles/analyticshub.publisher)
목록 생성, 업데이트, 삭제
목록에 IAM 정책 설정 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#grant-role-listing]
이 역할을 가진 사용자를 게시자라고 합니다.
사용자가 다음 작업을 수행할 수 있게 해주는 Analytics Hub 목록 관리자 역할(roles/analyticshub.listingAdmin)
목록 업데이트 및 삭제
목록에 IAM 정책 설정 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#grant-role-listing]
Analytics Hub 구독자 및 뷰어 역할
Sharing은 목록을 보고 구독 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko]할 수 있도록 프로젝트, 데이터 교환 또는 목록에 부여할 수 있는 다음과 같은 사전 정의된 역할을 제공합니다.
사용자가 목록을 보고 구독할 수 있게 해주는 Analytics Hub 구독자 역할(roles/analyticshub.subscriber)
이 역할을 가진 사용자는 구독자라고 합니다.
사용자가 목록 및 데이터 교환의 권한을 볼 수 있게 해주는 Analytics Hub 뷰어 역할(roles/analyticshub.viewer)
이 역할을 가진 사용자를 뷰어라고 합니다.
Analytics Hub 구독 소유자 역할
Sharing은 구독을 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-subscriptions?hl=ko]할 수 있도록 프로젝트 수준에서 부여할 수 있는 다음과 같은 사전 정의된 역할을 제공합니다.
사용자가 구독을 관리하도록 허용하는 Analytics Hub 구독 소유자 역할(roles/analyticshub.subscriptionOwner)
Analytics Hub 역할 부여
필요에 따라 리소스 계층 구조의 다음 수준에서 Analytics Hub 역할을 부여할 수 있습니다.
프로젝트. 사용자에게 프로젝트에 대한 역할을 부여하면 프로젝트에 포함된 모든 데이터 교환 및 목록에 적용됩니다.
데이터 교환. 데이터 교환 역할을 부여받은 사용자는 데이터 교환에 포함된 모든 목록에 적용됩니다.
목록. 사용자에게 목록에 대한 역할을 부여하면 특정 목록에만 적용됩니다.
프로젝트에 역할 부여
프로젝트에 IAM 정책을 설정하려면 해당 프로젝트에 대한 roles/resourcemanager.projectIamAdmin 역할이 있어야 합니다. 프로젝트에 대해 사전 정의된 Analytics Hub 사용자 역할을 부여하려면 다음 단계를 따르세요.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#%EC%BD%98%EC%86%94] ---
프로젝트의 IAM으로 이동합니다.

IAM으로 이동 [https://console.cloud.google.com/console/iam-admin/iam?hl=ko] 
person_add 액세스 권한 부여를 클릭합니다.
새 주 구성원 필드에서 액세스 권한을 부여할 ID의 이메일 주소를 입력합니다. 예를 들면 다음과 같습니다.


Google 계정 이메일: test-user@gmail.com
Google 그룹: admins@googlegroups.com
서비스 계정: server@example.gserviceaccount.com
Google Workspace 도메인: example.com

역할 선택 목록에서 마우스 포인터를 Analytics Hub 위에 올려놓고 다음 역할 중 하나를 선택합니다.


Analytics Hub 관리자
Analytics Hub 목록 관리자
Analytics Hub 게시자
Analytics Hub 구독자
Analytics Hub 구독 소유자
Analytics Hub 뷰어

선택사항: Google Cloud 리소스에 대한 사용자의 액세스 권한을 추가로 제어하려면 조건부 역할 결합을 추가 [https://cloud.google.com/iam/docs/managing-conditional-role-bindings?hl=ko#add]합니다.
변경사항을 저장합니다.


이전 단계의 설명대로 같은 IAM 패널을 통해 프로젝트 관리자를 삭제하고 업데이트할 수 있습니다.

--- 탭: gcloud [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#gcloud] ---
프로젝트 수준에서 역할을 부여하려면 다음 gcloud projects add-iam-policy-binding 명령어 [https://cloud.google.com/sdk/gcloud/reference/projects/add-iam-policy-binding?hl=ko]를 사용합니다.

gcloud projects add-iam-policy-binding PROJECT_ID \
    --member='PRINCIPAL' \
    --role='roles/analyticshub.admin'


다음을 바꿉니다.


PROJECT_ID: 프로젝트 ID입니다(예: my-project-1).
PRINCIPAL: 역할을 부여할 유효한 ID

예를 들면 다음과 같습니다.


Google 계정 이메일: user:user@gmail.com
Google 그룹: group:admins@googlegroups.com
서비스 계정: serviceAccount:server@example.gserviceaccount.com
Google Workspace 도메인: domain:example.com

--- 탭: API [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#api] ---
리소스의 getIamPolicy 메서드로 기존 정책을 읽습니다. 프로젝트의 경우 projects.getIamPolicy 메서드 [https://cloud.google.com/resource-manager/reference/rest/v1/projects/getIamPolicy?hl=ko]를 사용합니다.

POST https://cloudresourcemanager.googleapis.com/v1/projects/PROJECT_ID:getIamPolicy


PROJECT_ID를 프로젝트 ID(예: my-project-1)로 바꿉니다.
주 구성원 및 관련 역할을 추가하려면 텍스트 편집기로 정책을 수정합니다. 구성원을 추가하려면 다음 형식을 사용하세요.


user:test-user@gmail.com
group:admins@example.com
serviceAccount:test123@example.domain.com
domain:example.domain.com


예를 들어 group:admins@example.com에 roles/analyticshub.admin 역할을 부여하려면 다음 binding을 정책에 추가합니다.

{
 "members": [
   "group:admins@example.com"
 ],
 "role":"roles/analyticshub.admin"
}

setIamPolicy 메서드를 사용하여 업데이트된 정책을 작성합니다.

예를 들어 프로젝트 수준에서 정책을 설정하려면 project.setIamPolicy 메서드 [https://cloud.google.com/resource-manager/reference/rest/v1/projects/setIamPolicy?hl=ko]를 사용합니다. 요청 본문에 이전 단계에서 업데이트한 IAM 정책을 제공합니다.

POST https://cloudresourcemanager.googleapis.com/v1/projects/PROJECT_ID:setIamPolicy


PROJECT_ID를 프로젝트 ID로 바꿉니다.
데이터 교환에 역할 부여
데이터 교환에 역할을 부여하려면 다음 단계를 따르세요.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 Sharing(Analytics Hub) 페이지로 이동합니다.

Sharing(Analytics Hub)으로 이동 [https://console.cloud.google.com/bigquery/analytics-hub?hl=ko] 
권한을 설정할 데이터 교환 이름을 클릭합니다.
세부정보 탭으로 이동합니다.
person 권한 설정을 클릭합니다.
주 구성원을 추가하려면 person_add 주 구성원 추가를 클릭합니다.
새 주 구성원 필드에 액세스 권한을 부여할 이메일 ID를 추가합니다. allUsers를 사용하여 리소스를 공개하고 인터넷의 모든 사용자가 액세스할 수 있도록 하거나 allAuthenticatedUsers를 사용하여 로그인한 Google 사용자만 액세스할 수 있도록 할 수도 있습니다.
역할 선택 메뉴에서 Analytics Hub를 선택한 후 다음 Identity and Access Management(IAM) 역할 중 하나를 선택합니다.


Analytics Hub 관리자
Analytics Hub 목록 관리자
Analytics Hub 게시자
Analytics Hub 구독자
Analytics Hub 구독 소유자
Analytics Hub 뷰어

저장을 클릭합니다.

--- 탭: API [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#api] ---
projects.locations.dataExchanges.getIamPolicy 메서드 [https://cloud.google.com/bigquery/docs/reference/analytics-hub/rest/v1/projects.locations.dataExchanges/getIamPolicy?hl=ko]를 사용하여 목록 getIamPolicy 메서드로 기존 정책을 읽습니다.

POST https://analyticshub.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/dataExchanges/DATAEXCHANGE_ID:getIamPolicy


다음을 바꿉니다.


PROJECT_ID: 프로젝트 ID입니다(예: my-project-1).
LOCATION: 데이터 교환 위치 소문자를 사용합니다.
DATAEXCHANGE_ID: 데이터 교환 ID


BigQuery Sharing(이전 명칭: Analytics Hub)은 현재 정책을 반환합니다.
구성원과 연결된 Identity and Access Management(IAM) 역할을 추가하거나 삭제하려면 텍스트 편집기를 사용하여 정책을 수정합니다. 구성원을 추가하려면 다음 형식을 사용하세요.


user:test-user@gmail.com
group:admins@example.com
serviceAccount:test123@example.domain.com
domain:example.domain.com


예를 들어 group:subscribers@example.com에 roles/analyticshub.subscriber 역할을 부여하려면 다음 binding을 정책에 추가합니다.

{
 "members": [
   "group:subscribers@example.com"
 ],
 "role":"roles/analyticshub.subscriber"
}

projects.locations.dataExchanges.setIamPolicy 메서드 [https://cloud.google.com/bigquery/docs/reference/analytics-hub/rest/v1/projects.locations.dataExchanges/setIamPolicy?hl=ko]를 사용하여 업데이트된 정책을 작성합니다.
요청 본문에 이전 단계에서 업데이트한 IAM 정책을 제공합니다.

POST https://analyticshub.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/dataExchanges/DATAEXCHANGE_ID:setIamPolicy


요청 본문에 목록 세부정보를 제공합니다. 요청이 성공하면 응답 본문에 목록 세부정보가 포함됩니다.
데이터 교환과 같은 리소스 수준에서 권한을 부여할 때는 리소스 이름의 위치 부분에 소문자를 사용해야 합니다. 대문자나 대소문자가 혼합된 값을 사용하면 Permission Denied 오류가 발생할 수 있습니다.
projects/myproject/locations/us/dataExchanges/123을 사용합니다.
projects/myproject/locations/US/dataExchanges/123 사용 자제
projects/myproject/locations/Eu/dataExchanges/123 사용 자제
이전 단계에 설명된 대로 동일한 IAM 패널을 통해 데이터 교환의 역할을 삭제하고 업데이트할 수 있습니다.
목록에 역할 부여
목록에 역할을 부여하려면 다음 단계를 따르세요.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 Sharing(Analytics Hub) 페이지로 이동합니다.

Sharing(Analytics Hub)으로 이동 [https://console.cloud.google.com/bigquery/analytics-hub?hl=ko] 
목록이 포함된 데이터 교환 이름을 클릭합니다.
사용자를 추가할 목록을 클릭합니다.
person 권한 설정을 클릭합니다.
주 구성원을 추가하려면 person_add 주 구성원 추가를 클릭합니다.
새 주 구성원 필드에 액세스 권한을 부여할 ID의 이메일 ID를 추가합니다.
역할 선택 메뉴에서 Analytics Hub를 선택한 후 다음 Identity and Access Management(IAM) 역할 중 하나를 선택합니다.


Analytics Hub 관리자
Analytics Hub 목록 관리자
Analytics Hub 게시자
Analytics Hub 구독자
Analytics Hub 구독 소유자
Analytics Hub 뷰어

저장을 클릭합니다.

--- 탭: API [https://cloud.google.com/bigquery/docs/analytics-hub-grant-roles?hl=ko#api] ---
projects.locations.dataExchanges.listings.getIamPolicy 메서드 [https://cloud.google.com/bigquery/docs/reference/analytics-hub/rest/v1/projects.locations.dataExchanges.listings/getIamPolicy?hl=ko]를 사용하여 목록 getIamPolicy 메서드로 기존 정책을 읽습니다.

POST https://analyticshub.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/dataExchanges/DATAEXCHANGE_ID/listings/LISTING_ID:getIamPolicy


다음을 바꿉니다.


PROJECT_ID: 프로젝트 ID(예: my-project-1).
LOCATION: 목록이 포함된 데이터 교환 위치 소문자를 사용합니다.
DATAEXCHANGE_ID: 데이터 교환 ID
LISTING_ID: 목록 ID


Sharing에서 현재 정책을 반환합니다.
구성원과 연결된 Identity and Access Management(IAM) 역할을 추가하거나 삭제하려면 텍스트 편집기를 사용하여 정책을 수정합니다. 구성원을 추가하려면 다음 형식을 사용하세요.


user:test-user@gmail.com
group:admins@example.com
serviceAccount:test123@example.domain.com
domain:example.domain.com


예를 들어 group:publishers@example.com에 roles/analyticshub.publisher 역할을 부여하려면 다음 binding을 정책에 추가합니다.

{
 "members": [
   "group:publishers@example.com"
 ],
 "role":"roles/analyticshub.publisher"
}

projects.locations.dataExchanges.listings.setIamPolicy 메서드 [https://cloud.google.com/bigquery/docs/reference/analytics-hub/rest/v1/projects.locations.dataExchanges.listings/setIamPolicy?hl=ko]를 사용하여 업데이트된 정책을 작성합니다.
요청 본문에 이전 단계에서 업데이트한 IAM 정책을 제공합니다.

POST https://analyticshub.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/dataExchanges/DATAEXCHANGE_ID/listings/LISTING-ID:setIamPolicy


요청 본문에 목록 세부정보를 제공합니다. 요청이 성공하면 응답 본문에 목록 세부정보가 포함됩니다.
목록에서와 같은 리소스 수준에서 권한을 부여할 때는 리소스 이름의 위치 부분에 소문자를 사용해야 합니다. 대문자나 대소문자가 혼합된 값을 사용하면 Permission Denied 오류가 발생할 수 있습니다.
projects/myproject/locations/us/dataExchanges/123/listings/456을 사용합니다.
projects/myproject/locations/US/dataExchanges/123/listings/456 사용 자제
projects/myproject/locations/Eu/dataExchanges/123/listings/456 사용 자제
이전 단계의 설명대로 같은 IAM 패널을 통해 목록의 역할을 삭제하고 업데이트할 수 있습니다.
다음 단계
IAM [https://cloud.google.com/iam?hl=ko]에 대해 읽어 보기
BigQuery IAM 역할 [https://cloud.google.com/bigquery/docs/access-control?hl=ko] 알아보기
Analytics Hub IAM 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#analytics-hub-roles] 목록 알아보기
Sharing [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko] 알아보기
데이터 교환 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-exchanges?hl=ko] 방법 알아보기
목록 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-listings?hl=ko] 방법 알아보기
목록을 보고 구독 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko]하는 방법 알아보기
감사 로깅 공유 [https://cloud.google.com/bigquery/docs/analytics-hub-audit-logging?hl=ko] 알아보기
도움이 되었나요?
의견 보내기