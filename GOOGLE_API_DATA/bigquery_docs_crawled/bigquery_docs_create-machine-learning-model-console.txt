Source URL: https://cloud.google.com/bigquery/docs/create-machine-learning-model-console

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
필요한 역할 [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#required_roles]
시작하기 전에 [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#before_you_begin]
모델별 기본 요건 [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#model-specific_prerequisites]
데이터 세트 만들기 [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#create_a_dataset]
내부 또는 외부 학습 모델 만들기 [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#create_an_internally_or_externally_trained_model]
Google Cloud 콘솔을 사용하여 BigQuery ML에서 머신러닝 모델 만들기
bookmark_border
프리뷰
이 기능에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 기능은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
참고: 이 기능에 대한 의견을 제공하거나 지원을 요청하려면 bqml-feedback@google.com [mailto:bqml-feedback@google.com]으로 이메일을 보내세요.
이 문서에서는 Google Cloud 콘솔을 사용하여 BigQuery ML 모델을 만드는 방법을 설명합니다.
필요한 역할
모델을 만들고 추론을 실행하려면 다음 역할이 부여되어야 합니다.
BigQuery 데이터 편집자(roles/bigquery.dataEditor)
BigQuery 사용자(roles/bigquery.user)
시작하기 전에
In the Google Cloud console, on the project selector page, select or create a Google Cloud project.
Note: If you don't plan to keep the resources that you create in this procedure, create a project instead of selecting an existing project. After you finish these steps, you can delete the project, removing all resources associated with the project.
Go to project selector [https://console.cloud.google.com/projectselector2/home/dashboard?hl=ko]
Verify that billing is enabled for your Google Cloud project [https://cloud.google.com/billing/docs/how-to/verify-billing-enabled?hl=ko#confirm_billing_is_enabled_on_a_project].
Enable the BigQuery and BigQuery Connection APIs.
Enable the APIs [https://console.cloud.google.com/flows/enableapi?apiid=bigquery.googleapis.com%2Cbigqueryconnection.googleapis.com&hl=ko]
모델별 기본 요건
모델을 만들기 전에 만들려는 모델 유형의 기본 요건을 충족했는지 확인하세요.
쿼리를 사용하여 모델의 학습 데이터를 선택하려면 해당 쿼리가 저장된 쿼리 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko]로 제공되어야 합니다.
행렬 분해 모델에는 예약이 필요합니다. 자세한 내용은 가격 책정 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-matrix-factorization?hl=ko#pricing]을 참조하세요.
다음 원격 모델에는 클라우드 리소스 연결 [https://cloud.google.com/bigquery/docs/create-cloud-resource-connection?hl=ko]이 필요합니다.
Vertex AI 및 파트너 모델을 통한 원격 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model?hl=ko]
개방형 모델을 통한 원격 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-open?hl=ko]
Cloud AI 서비스를 통한 원격 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-services?hl=ko]
Vertex AI의 커스텀 모델을 통한 원격 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-https?hl=ko]
원격 모델 유형에 따라 연결의 서비스 계정에도 특정 역할이 부여되어야 합니다.
모델을 가져오려면 해당 모델이 Cloud Storage 버킷에 업로드되어 있어야 합니다.
데이터 세트 만들기
리소스를 포함할 BigQuery 데이터 세트를 만듭니다.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.

BigQuery 페이지로 이동 [https://console.cloud.google.com/bigquery?hl=ko] 
탐색기 창에서 프로젝트 이름을 클릭합니다.
more_vert 작업 보기 > 데이터 세트 만들기를 클릭합니다.
데이터 세트 만들기 페이지에서 다음을 수행합니다.


데이터 세트 ID에 데이터 세트 이름을 입력합니다.
위치 유형에서 데이터 세트의 위치를 선택합니다.
데이터 세트 만들기를 클릭합니다.

--- 탭: bq [https://cloud.google.com/bigquery/docs/create-machine-learning-model-console?hl=ko#bq] ---
새 데이터 세트를 만들려면 --location 플래그와 함께 bq mk [https://cloud.google.com/bigquery/docs/reference/bq-cli-reference?hl=ko#mk-dataset] 명령어를 실행합니다.

bq --location=LOCATION mk -d DATASET_ID

다음을 바꿉니다.


LOCATION: 데이터 세트의 위치 [https://cloud.google.com/bigquery/docs/locations?hl=ko].
DATASET_ID: 사용자가 만들려는 데이터 세트 ID

데이터 세트가 생성되었는지 확인합니다.

bq ls
내부 또는 외부 학습 모델 만들기
이 절차를 사용하여 다음 유형의 모델을 만드세요.
시계열 모델:
ARIMA_PLUS [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-time-series?hl=ko]
ARIMA_PLUS_XREG [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-multivariate-time-series?hl=ko]
기여 분석: 기여 분석 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-contribution-analysis?hl=ko]
분류:
로지스틱 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-glm?hl=ko]
부스티드 트리 분류 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
랜덤 포레스트 분류 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
심층신경망(DNN) 분류 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
와이드 앤 딥 분류 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
AutoML 분류 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
회귀:
선형 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-glm?hl=ko]
부스티드 트리 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
랜덤 포레스트 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
심층신경망(DNN) 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
와이드 앤 딥 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
AutoML 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]
클러스터링: k-평균 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-kmeans?hl=ko]
추천: 행렬 분해 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-matrix-factorization?hl=ko]
차원 축소:
주 구성원 구성요소 분석(PCA) [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-pca?hl=ko]
Autoencoder [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-autoencoder?hl=ko]
이러한 모델은 유형에 따라 옵션 세트가 다릅니다. BigQuery ML 자동 조정은 대부분의 경우에 잘 작동하지만 절차의 일부로 모델을 수동으로 조정할 수도 있습니다. 모델 옵션에 대해 자세히 알아보려면 해당 모델 유형의 문서를 참조하세요.
모델을 만들려면 다음 단계를 따르세요.
BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 창에서 앞서 만든 데이터 세트를 클릭합니다.
데이터 세트 옆에 있는 more_vert 작업 보기를 클릭한 다음 BQML 모델 만들기를 클릭합니다.
새 모델 만들기 창이 열립니다.
모델 이름에 모델 이름을 입력합니다.
모델의 CREATE MODEL 문이 포함된 저장된 쿼리를 만들려면 쿼리 저장을 선택합니다.
쿼리 이름에 저장된 쿼리의 이름을 입력합니다.
리전에서 저장된 쿼리의 리전을 선택합니다.
계속을 클릭합니다.
생성 방법 섹션에서 BigQuery에서 모델 학습을 선택합니다.
모델링 목표 섹션에서 모델의 모델링 목표를 선택합니다.
계속을 클릭합니다.
모델 옵션 페이지에서 모델 유형을 선택합니다. 선택할 수 있는 모델 유형은 선택한 모델링 목표에 따라 다릅니다.
학습 데이터 섹션에서 다음 중 하나를 수행합니다.
테이블/뷰를 선택하여 테이블 또는 뷰에서 학습 데이터를 가져온 다음 프로젝트, 데이터 세트, 뷰 또는 테이블 이름을 선택합니다.
저장된 쿼리에서 학습 데이터를 가져오려면 쿼리를 선택한 다음 저장된 쿼리를 선택합니다.
선택한 입력 라벨 열에서 모델의 입력으로 사용할 테이블, 뷰 또는 쿼리의 열을 선택합니다.
필수 옵션 섹션이 있는 경우 요청된 열 정보를 지정합니다.
분류 및 회귀 모델의 경우 INPUT_LABEL_COLS에서 라벨 데이터가 포함된 열을 선택합니다.
행렬 분해 모델의 경우 다음을 선택합니다.
RATING_COL에서 평가 데이터가 포함된 열을 선택합니다.
USER_COL에서 사용자 데이터가 포함된 열을 선택합니다.
ITEM_COL에서 항목 데이터가 포함된 열을 선택합니다.
시계열 예측 모델의 경우 다음을 선택합니다.
TIME_SERIES_TIMESTAMP_COL의 경우 모델을 학습할 때 사용할 시간 포인트가 포함된 열을 선택합니다.
TIME_SERIES_DATA_COL에서 예측할 데이터가 포함된 열을 선택합니다.
선택사항: 선택사항 섹션에서 추가 모델 조정 인수의 값을 지정합니다. 사용 가능한 인수는 생성하는 모델 유형에 따라 다릅니다.
모델 만들기를 클릭합니다.
모델 생성이 완료되면 모델로 이동을 클릭하여 모델 세부정보를 확인합니다.
사전 학습 모델을 통해 원격 모델 만들기
이 절차를 사용하여 다음 유형의 원격 모델을 만드세요.
Vertex AI 또는 파트너 모델을 통한 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model?hl=ko]
개방형 모델을 통한 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-open?hl=ko]
모델을 만들려면 다음 단계를 따르세요.
BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 창에서 앞서 만든 데이터 세트를 클릭합니다.
데이터 세트 옆에 있는 more_vert 작업 보기를 클릭한 다음 BQML 모델 만들기를 클릭합니다.
새 모델 만들기 창이 열립니다.
모델 이름에 모델 이름을 입력합니다.
모델의 CREATE MODEL 문이 포함된 저장된 쿼리를 만들려면 쿼리 저장을 선택합니다.
쿼리 이름에 저장된 쿼리의 이름을 입력합니다.
리전에서 저장된 쿼리의 리전을 선택합니다.
계속을 클릭합니다.
생성 방법 섹션에서 Vertex AI LLM 서비스 및 Cloud AI 서비스에 연결을 선택합니다.
모델 옵션 페이지에서 사용 사례에 따라 모델 유형으로 Google 및 파트너 모델 또는 개방형 모델을 선택합니다.
원격 연결 섹션에서 다음 중 하나를 수행합니다.
기본 연결 [https://cloud.google.com/bigquery/docs/default-connections?hl=ko]이 구성되어 있거나 BigQuery 관리자 역할과 프로젝트 IAM 관리자 역할이 모두 있는 경우 기본 연결을 선택합니다.
기본 연결이 구성되어 있지 않거나 적절한 역할이 없는 경우 클라우드 리소스 연결을 선택합니다.
프로젝트에서 사용할 연결이 포함된 프로젝트를 선택합니다.
위치에서 연결에 사용되는 위치를 선택합니다.
연결에서 원격 모델에 사용할 연결을 선택하거나 새 연결 만들기를 선택하여 새 연결을 만듭니다.
중요: 새 연결을 만드는 경우 계속하기 전에 연결의 서비스 계정에 적절한 역할을 부여해야 합니다. 부여할 역할에 대한 자세한 내용은 만들고 있는 원격 모델 유형의 참고 문서를 참고하세요.
필수 옵션 섹션에서 다음 중 하나를 수행합니다.
Google 모델 및 파트너 모델을 통한 원격 모델의 경우 사용할 엔드포인트를 지정합니다. 이는 모델의 이름입니다(예: gemini-2.0-flash). 지원되는 모델에 대한 자세한 내용은 ENDPOINT [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model?hl=ko#endpoint]를 참조하세요.
개방형 모델을 통한 원격 모델의 경우 사용할 엔드포인트에 복사하여 붙여넣습니다. 이는 Vertex AI에 배포된 모델의 공유 공개 엔드포인트입니다(https://location-aiplatform.googleapis.com/v1/projects/project/locations/location/endpoints/endpoint_id 형식). 자세한 내용은 ENDPOINT [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-open?hl=ko#endpoint]를 참조하세요.
모델 만들기를 클릭합니다.
모델 생성이 완료되면 모델로 이동을 클릭하여 모델 세부정보를 확인합니다.
커스텀 모델을 통해 원격 모델 만들기
이 절차를 사용하여 Vertex AI에 배포된 커스텀 모델 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-https?hl=ko]을 통해 원격 모델을 만드세요.
모델을 만들려면 다음 단계를 따르세요.
BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 창에서 앞서 만든 데이터 세트를 클릭합니다.
데이터 세트 옆에 있는 more_vert 작업 보기를 클릭한 다음 BQML 모델 만들기를 클릭합니다.
새 모델 만들기 창이 열립니다.
모델 이름에 모델 이름을 입력합니다.
모델의 CREATE MODEL 문이 포함된 저장된 쿼리를 만들려면 쿼리 저장을 선택합니다.
쿼리 이름에 저장된 쿼리의 이름을 입력합니다.
리전에서 저장된 쿼리의 리전을 선택합니다.
계속을 클릭합니다.
생성 방법 섹션에서 사용자 관리형 Vertex AI 엔드포인트에 연결을 선택합니다.
모델 옵션 페이지의 원격 연결 섹션에서 다음 중 하나를 수행합니다.
기본 연결 [https://cloud.google.com/bigquery/docs/default-connections?hl=ko]이 구성되어 있거나 BigQuery 관리자 역할과 프로젝트 IAM 관리자 역할이 모두 있는 경우 기본 연결을 선택합니다.
기본 연결이 구성되어 있지 않거나 적절한 역할이 없는 경우 클라우드 리소스 연결을 선택합니다.
프로젝트에서 사용할 연결이 포함된 프로젝트를 선택합니다.
위치에서 연결에 사용되는 위치를 선택합니다.
연결에서 원격 모델에 사용할 연결을 선택하거나 새 연결 만들기를 선택하여 새 연결을 만듭니다.
중요: 새 연결을 만드는 경우 계속하기 전에 연결의 서비스 계정에 적절한 역할을 부여해야 합니다. 부여할 역할에 대한 자세한 내용은 만들고 있는 원격 모델 유형의 참고 문서를 참고하세요.
필수 옵션 섹션에서 사용할 엔드포인트를 지정합니다. 이는 Vertex AI에 배포된 모델의 공유 공개 엔드포인트입니다(https://location-aiplatform.googleapis.com/v1/projects/project/locations/location/endpoints/endpoint_id 형식). 자세한 내용은 ENDPOINT [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-https?hl=ko#endpoint]를 참조하세요.
모델 만들기를 클릭합니다.
모델 생성이 완료되면 모델로 이동을 클릭하여 모델 세부정보를 확인합니다.
Cloud AI 서비스를 통해 원격 모델 만들기
이 절차를 사용하여 Cloud AI 서비스 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-services?hl=ko]를 통해 원격 모델을 만드세요.
모델을 만들려면 다음 단계를 따르세요.
BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 창에서 앞서 만든 데이터 세트를 클릭합니다.
데이터 세트 옆에 있는 more_vert 작업 보기를 클릭한 다음 BQML 모델 만들기를 클릭합니다.
새 모델 만들기 창이 열립니다.
모델 이름에 모델 이름을 입력합니다.
모델의 CREATE MODEL 문이 포함된 저장된 쿼리를 만들려면 쿼리 저장을 선택합니다.
쿼리 이름에 저장된 쿼리의 이름을 입력합니다.
리전에서 저장된 쿼리의 리전을 선택합니다.
계속을 클릭합니다.
생성 방법 섹션에서 Vertex AI LLM 서비스 및 Cloud AI 서비스에 연결을 선택합니다.
모델 옵션 페이지에서 Cloud AI 서비스를 선택합니다.
원격 연결 섹션에서 다음 중 하나를 수행합니다.
기본 연결 [https://cloud.google.com/bigquery/docs/default-connections?hl=ko]이 구성되어 있거나 BigQuery 관리자 역할과 프로젝트 IAM 관리자 역할이 모두 있는 경우 기본 연결을 선택합니다.
기본 연결이 구성되어 있지 않거나 적절한 역할이 없는 경우 클라우드 리소스 연결을 선택합니다.
프로젝트에서 사용할 연결이 포함된 프로젝트를 선택합니다.
위치에서 연결에 사용되는 위치를 선택합니다.
연결에서 원격 모델에 사용할 연결을 선택하거나 새 연결 만들기를 선택하여 새 연결을 만듭니다.
중요: 새 연결을 만드는 경우 계속하기 전에 연결의 서비스 계정에 적절한 역할을 부여해야 합니다. 부여할 역할에 대한 자세한 내용은 만들고 있는 원격 모델 유형의 참고 문서를 참고하세요.
필수 옵션 섹션에서 사용할 Cloud AI 서비스 유형을 선택합니다.
선택사항 섹션에서 CLOUD_AI_DOCUMENT_V1 서비스를 사용하는 경우 문서 프로세서 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-service?hl=ko#document_processor] 정보를 지정합니다. CLOUD_AI_SPEECH_TO_TEXT_V2 서비스를 사용하는 경우 선택적으로 음성 인식기 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model-service?hl=ko#speech_recognizer] 정보를 지정할 수 있습니다.
모델 만들기를 클릭합니다.
모델 생성이 완료되면 모델로 이동을 클릭하여 모델 세부정보를 확인합니다.
가져온 모델 만들기
이 절차를 사용하여 다음 유형의 모델을 가져와 BigQuery ML 모델을 만드세요.
ONNX [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-onnx?hl=ko]
TensorFlow [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-tensorflow?hl=ko]
TensorFlow Lite [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-tflite?hl=ko]
XGBoost [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-xgboost?hl=ko]
모델을 만들려면 다음 단계를 따르세요.
BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 창에서 앞서 만든 데이터 세트를 클릭합니다.
데이터 세트 옆에 있는 more_vert 작업 보기를 클릭한 다음 BQML 모델 만들기를 클릭합니다.
새 모델 만들기 창이 열립니다.
모델 이름에 모델 이름을 입력합니다.
모델의 CREATE MODEL 문이 포함된 저장된 쿼리를 만들려면 쿼리 저장을 선택합니다.
쿼리 이름에 저장된 쿼리의 이름을 입력합니다.
리전에서 저장된 쿼리의 리전을 선택합니다.
계속을 클릭합니다.
생성 방법 섹션에서 모델 가져오기를 선택합니다.
모델 옵션 페이지에서 가져올 모델 유형을 선택합니다.
GCS 경로에서 모델이 포함된 Cloud Storage 버킷의 URI를 찾아보거나 붙여넣습니다.
모델 만들기를 클릭합니다.
모델 생성이 완료되면 모델로 이동을 클릭하여 모델 세부정보를 확인합니다.
도움이 되었나요?
의견 보내기