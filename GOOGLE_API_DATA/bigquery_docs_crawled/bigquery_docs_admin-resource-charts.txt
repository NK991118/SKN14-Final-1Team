Source URL: https://cloud.google.com/bigquery/docs/admin-resource-charts

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
시작하기 전에 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#before_you_begin]
필요한 역할 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#required_roles]
조직 전반의 운영 상태 모니터링 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#monitor-operational-health]
운영 상태 차트 보기 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-operational-health-charts]
뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#views]
차트 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#charts]
단일 프로젝트의 운영 상태 모니터링 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#monitor-operational-health-single-project]
BigQuery 리소스 사용률 보기 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-resource-utilization]
상태, 리소스 사용률, 작업 모니터링
bookmark_border
BigQuery 관리자는 운영 상태 및 리소스 사용률 차트를 사용하여 시간 경과에 따른 조직의 상태, 슬롯 사용량, 작업 성능을 모니터링할 수 있습니다. BigQuery는 다음 작업을 지원하는 구성 가능한 차트를 제공합니다.
BigQuery의 운영 상태 모니터링 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#monitor-operational-health]. BigQuery 실시간 운영 상태 모니터링은 여러 위치에서 조직 전반의 BigQuery 사용량을 관찰할 수 있는 중앙 집중식 모니터링 시스템입니다.
BigQuery 리소스 사용률 보기 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-resource-utilization]. 이전 데이터를 사용하여 근본 원인 분석을 실행하고, 용량을 계획하고, 성능 변화를 진단합니다.
시작하기 전에
운영 상태를 보려면 관리 프로젝트 [https://cloud.google.com/bigquery/docs/resource-hierarchy?hl=ko#considerations]로 액세스할 수 있는 예약 [https://cloud.google.com/bigquery/docs/admin-intro?hl=ko#manage_reservations]을 사용해야 합니다. 리소스 사용률 차트를 보는 데는 필요하지 않습니다.
필요한 역할
운영 상태 및 리소스 사용률 차트의 모든 데이터를 보는 데 필요한 권한을 얻으려면 관리자에게 조직에 다음 IAM 역할을 부여해 달라고 요청하세요.
BigQuery 리소스 뷰어 [https://cloud.google.com/iam/docs/roles-permissions/bigquery?hl=ko#bigquery.resourceViewer](roles/bigquery.resourceViewer)
BigQuery 메타데이터 뷰어 [https://cloud.google.com/iam/docs/roles-permissions/bigquery?hl=ko#bigquery.metadataViewer](roles/bigquery.metadataViewer)
역할 부여에 대한 자세한 내용은 프로젝트, 폴더, 조직에 대한 액세스 관리 [https://cloud.google.com/iam/docs/granting-changing-revoking-access?hl=ko]를 참조하세요.
이러한 사전 정의된 역할에는 운영 상태 및 리소스 사용률 차트의 모든 데이터를 보는 데 필요한 권한이 포함되어 있습니다. 필요한 정확한 권한을 보려면 필수 권한 섹션을 펼치세요.
필수 권한
커스텀 역할 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko]이나 다른 사전 정의된 역할 [https://cloud.google.com/iam/docs/roles-overview?hl=ko#predefined]을 사용하여 이 권한을 부여받을 수도 있습니다.
참고: 운영 상태 및 리소스 사용률 차트의 모든 데이터는 Google Cloud 조직을 정의한 경우에만 볼 수 있습니다.
조직 전반의 운영 상태 모니터링
운영 상태 대시보드에는 예약이 있는 모든 위치에서 조직 및 예약에 대한 주요 측정항목이 표시됩니다. 이 대시보드를 사용하여 다음 측정항목을 모니터링할 수 있습니다.
슬롯 사용량
셔플 사용량
작업 동시 실행
오류
작업 기간
처리한 바이트
총 저장용량
참고: 운영 상태 대시보드는 주문형 워크로드의 측정항목을 모니터링하지 않습니다. 리소스 사용률 차트와 같은 다른 차트는 주문형 워크로드와 용량 기반 워크로드를 모두 표시합니다.
운영 상태 차트 보기
조직의 운영 상태에 관한 정보를 보려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 BigQuery Monitoring 페이지로 이동합니다.
Monitoring으로 이동 [https://console.cloud.google.com/bigquery/admin/monitoring?hl=ko]
슬롯을 구매하고 예약을 만드는 데 사용한 관리 프로젝트를 선택합니다.
Monitoring 페이지에서 운영 상태 탭으로 이동하여 모든 위치 및 예약에 대한 조직의 주요 측정항목 요약을 확인합니다.
선택사항: 5분마다 최신 데이터에서 쿼리가 실행되는 실시간 측정항목을 보려면 실시간 데이터 전환 버튼을 클릭합니다. 기본적으로 이 설정은 사용 중지되어 있으며 데이터의 최대 비활성 시간은 약 1시간입니다.
측정항목을 필터링하려면 다음 필드를 구성합니다.
위치 선택 목록에서 모니터링할 리전을 선택합니다.
예약 선택 목록에서 예약을 선택합니다.
프로젝트 선택 목록에서 프로젝트를 선택합니다.
기간 목록에서 기간을 선택합니다.
(선택사항) 리소스 사용률 차트 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-admin-resource-charts] 또는 작업 탐색기 [https://cloud.google.com/bigquery/docs/admin-jobs-explorer?hl=ko]를 사용하여 운영 상태에 관한 세부정보를 보려면 더 둘러보기를 클릭합니다.
BigQuery는 다음 INFORMATION_SCHEMA 뷰 [https://cloud.google.com/bigquery/docs/information-schema-intro?hl=ko]를 쿼리하여 측정항목을 수집합니다.
INFORMATION_SCHEMA.JOBS [https://cloud.google.com/bigquery/docs/information-schema-jobs?hl=ko]
INFORMATION_SCHEMA.JOBS_TIMELINE [https://cloud.google.com/bigquery/docs/information-schema-jobs-timeline?hl=ko]
INFORMATION_SCHEMA.RESERVATIONS [https://cloud.google.com/bigquery/docs/information-schema-reservations?hl=ko]
INFORMATION_SCHEMA.TABLE_STORAGE [https://cloud.google.com/bigquery/docs/information-schema-table-storage?hl=ko]
뷰
운영 상태 탭에는 다음 요약 및 세부정보 뷰가 표시됩니다.
요약 뷰
요약 뷰에는 지난 30분 간의 예약 및 리전을 비롯한 조직의 하위 시스템 상태가 표시됩니다.
요약 뷰를 보려면 다음을 수행합니다.
운영 상태 탭의 위치 선택 목록에서 모든 위치를 선택합니다.
세부정보 뷰
세부정보 뷰에는 위치 또는 예약 수준에서 여러 측정항목의 세부 타임라인 차트가 표시됩니다.
세부정보 뷰를 보려면 다음 안내를 따르세요.
운영 상태 탭의 위치 선택 목록에서 리전 또는 버전을 선택합니다.
다음과 같은 선택적 필터를 사용하여 세부정보 뷰에 표시되는 데이터를 세분화할 수 있습니다.
예약 선택 목록에서 예약 이름을 선택합니다.
프로젝트 선택 목록에서 프로젝트를 선택합니다.
차트
BigQuery는 운영 상태 측정항목을 자세히 살펴볼 수 있는 다음 테이블 및 차트 옵션을 제공합니다.
요약 테이블
요약 테이블에는 다음 측정항목이 표시됩니다.
슬롯 사용량. 평균 슬롯 사용률입니다. 총 슬롯 용량은 기준 용량 및 자동 확장된 최대 용량과 같습니다.
셔플 사용량. 모든 평균 예약 셔플 사용량 비율의 최댓값입니다.
동시 실행. 동시에 실행되는 최대 작업 수입니다.
처리된 바이트. 완료된 작업에서 처리한 총 바이트입니다.
작업 기간. 완료된 작업의 평균 실행 시간으로, 작업이 생성된 시간부터 작업이 종료된 시간까지 계산됩니다.
총 스토리지. 마지막 업데이트 시점의 총 활성 논리 바이트입니다.
뷰에 표시되는 요약 테이블에는 위치 요약과 예약 요약 두 가지가 있습니다. 각 테이블 행은 하나의 위치 또는 하나의 예약 사용량을 나타냅니다.
테이블에는 마지막 업데이트 전 30분 동안의 측정항목이 표시됩니다. 실시간 데이터를 사용 설정하면 쿼리된 데이터가 5분마다 새로고침됩니다. 실시간 데이터가 사용 중지된 경우 최대 데이터 비활성은 약 1시간입니다.
측정항목이 사전 정의된 기준점보다 크고 반복된 작업에 대한 성능 통계가 증가한 경우 테이블 셀에 색상이 지정됩니다.
마지막 업데이트 전 30분 동안의 측정항목 값이 지난주 같은 날의 사용량 P99 값보다 큰 경우 테이블 셀이 진한 파란색 배경으로 표시됩니다.
30분 동안의 측정항목 값이 지난주 같은 날의 사용량 P95~P99 값 사이인 경우 테이블 셀이 연한 파란색 배경으로 표시됩니다.
모든 기준점은 사전 정의되어 있으며 맞춤설정할 수 없습니다. 정보 정보를 클릭하여 기준점을 확인할 수 있습니다.
참고: 총 저장용량 열은 색상 주석을 지원하지 않습니다.
데이터 필터링
다음 값을 기준으로 차트의 데이터를 필터링할 수 있습니다.
위치. 지난 30일 이내에 조직의 활동이 있었던 리전에서 사용할 수 있습니다. 요약 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#summary-view]에는 모든 활성 리전의 사용량을 요약한 테이블이 표시됩니다.
예약. 이 필드는 세부정보 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#detailed-view]에서만 사용할 수 있습니다. 관리 프로젝트에서 소유한 모든 예약을 사용할 수 있습니다. 예약은 하나만 선택할 수 있습니다.
프로젝트. 이 필드는 세부정보 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#detailed-view]에서만 사용할 수 있습니다. 조직에 트래픽이 있는 모든 프로젝트를 사용할 수 있습니다. 프로젝트는 하나만 선택할 수 있습니다.
기간. 이 필드는 세부정보 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#detailed-view]에서만 사용할 수 있습니다. 이 값은 세부정보 뷰의 측정항목 타임라인 차트 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#metric-timeline-charts]와 오류 도트 차트 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#error-donut-chart]에 영향을 미칩니다. 측정항목 타임라인 차트의 데이터 규모는 선택한 기간에 따라 자동으로 조정됩니다.
상위 활성 쿼리 차트
이 차트에는 활성 리소스가 있는 상위 10개 작업이 내림차순으로 정렬되어 표시됩니다. 드롭다운 메뉴에서 슬롯 사용량 또는 작업 기간을 기준으로 정렬 옵션을 선택할 수 있습니다. 작업 ID 및 관련 리소스 사용량 수가 막대 그래프에 표시됩니다. 작업 탐색기 [https://cloud.google.com/bigquery/docs/admin-jobs-explorer?hl=ko]에서 세부정보를 보려면 더 둘러보기 또는 활성 상위 쿼리 차트에서 작업 ID를 선택합니다. 실행 세부정보에 대해 자세히 알아보고 BigQuery 작업의 성능 문제를 진단하려면 쿼리 성능 통계 가져오기 [https://cloud.google.com/bigquery/docs/query-insights?hl=ko]를 참조하세요.
오류 도넛 차트
이 차트는 선택한 기간 동안 가장 많은 오류가 발생한 원인의 비율을 보여줍니다. 요약 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#summary-view]에서 기본값은 지난 30분입니다. 세부정보 뷰에서 기간 선택기는 범위를 제어합니다. 유형, 소유자 프로젝트 또는 예약별로 오류를 그룹화할 수 있습니다. 실패한 작업 수가 도넛 차트에 표시됩니다.
측정항목 타임라인 차트
차트에는 최대 30일 동안 지원되는 측정항목의 개요가 표시됩니다. 기본 기간은 1시간입니다. 선택한 기간이 변경되면 차트의 각 데이터 포인트의 세부사항이 자동으로 조정됩니다.
이 차트에는 리전 또는 예약에 대한 집계된 값이 표시됩니다. 여러 리전 또는 여러 예약의 데이터를 표시하는 기능은 지원되지 않습니다.
측정항목 타임라인 차트는 다음 측정항목을 지원합니다.
슬롯 사용량. 선택한 기간의 평균 슬롯 사용량입니다. 모든 작업과 실패한 작업의 전체 슬롯 사용량을 분리해서 표시합니다.
작업 동시 실행. 선택한 기간 동안 동시에 실행된 최대 작업 수입니다. 실행 중인 작업 수와 대기 중인 작업 수를 별도로 표시하며 누적 막대 그래프로 표시됩니다.
스캔한 바이트. 선택한 기간에 완료된 작업에서 처리한 총 바이트입니다.
셔플. 선택한 기간의 모든 예약 평균 셔플 사용량 비율의 최댓값입니다.
작업 기간. 선택한 기간에 완료된 작업의 평균 런타임으로, 작업 생성 시간부터 작업 종료 시간까지 계산됩니다.
유형별 오류. 오류 도넛 차트 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#error-donut-chart]는 선택한 기간 동안 여러 오류 원인의 비율을 보여줍니다.
이 차트에는 측정항목 동향 외에도 지난주 같은 날의 사용량에 대한 P95 및 P99 측정항목 값의 참조선이 표시됩니다. 작업 동시 실행 차트에는 대기 중이거나 실행 중인 작업의 합계에 대한 기준점이 표시됩니다. 이러한 참조 값은 요약 테이블 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#summary-view]에서 색상 코딩 기준점으로 사용됩니다.
차트에 대해 자세히 알아보려면 더 둘러보기를 클릭합니다. 리소스 사용률 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-resource-utilization] 탭으로 리디렉션됩니다.
통계 테이블
이 테이블에는 선택한 기간 내에 작업 실행 중에 수집된 할당량 오류, 액세스 거부 오류, 성능 통계가 집계됩니다. 통계는 예약 수준에서 집계됩니다. 각 행에는 통계 유형, 위치, 예약, 통계 세부정보, 샘플 작업 ID에 관한 정보가 제공됩니다. 작업 ID를 클릭하여 작업 탐색기 [https://cloud.google.com/bigquery/docs/admin-jobs-explorer?hl=ko]에서 작업 세부정보를 더 확인합니다. 요약 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#summary-view]에서 기본 관찰 기간은 지난 30분입니다. 세부정보 뷰에서 기간 선택기는 관측 데이터가 표시되는 특정 기간을 제어합니다.
단일 프로젝트의 운영 상태 모니터링
프로젝트 운영 상태 대시보드는 전체 조직에 액세스할 수 없거나 프로젝트에 예약이 없는 경우 기본적으로 표시되는 뷰입니다. 이 뷰는 조직 수준의 운영 상태 대시보드와 마찬가지로 프로젝트 분석가가 프로젝트의 시스템 상태를 모니터링하는 데 도움이 되지만 차트와 필터에는 프로젝트 수준 데이터만 표시됩니다.
BigQuery 리소스 사용률 보기
프리뷰
이 기능에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 기능은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
참고: BigQuery 리소스 사용률 차트의 프리뷰 버전에 대한 지원을 받거나 의견을 제공하려면 bq-resource-chart-v2+feedback@google.com [mailto:bq-resource-chart-v2+feedback@google.com]으로 문의하세요.Google Cloud 콘솔에서 이전 정식 버전(GA)의 리소스 사용률 차트로 다시 전환하려면 BigQuery Monitoring [https://console.cloud.google.com/bigquery/admin/monitoring?hl=ko] 페이지로 이동하여 리소스 사용률 > 이전 UI로 전환을 클릭한 후 메시지를 따르세요. 기존 UI로 전환하는 옵션은 결국 지원 중단될 예정입니다.
BigQuery 리소스 차트를 사용하면 과거 리소스 사용량을 추적하여 향후 요구사항을 계획하고 성능 문제를 해결할 수 있습니다.
차트는 다음 INFORMATION_SCHEMA 뷰를 쿼리하여 측정항목을 수집합니다.
INFORMATION_SCHEMA.JOBS [https://cloud.google.com/bigquery/docs/information-schema-jobs?hl=ko]
INFORMATION_SCHEMA.JOBS_TIMELINE [https://cloud.google.com/bigquery/docs/information-schema-jobs-timeline?hl=ko]
INFORMATION_SCHEMA.RESERVATION_CHANGES [https://cloud.google.com/bigquery/docs/information-schema-reservation-changes?hl=ko]
데이터는 실시간으로 업데이트되며 최대 30일까지 다시 돌아갑니다.
리소스 사용률을 볼 때 다음을 구성할 수 있습니다.
이벤트 타임라인 차트는 최대 30일 동안의 데이터 개요를 보여줍니다. 기본값은 6시간입니다.
기본 차트에는 조직 또는 관리 프로젝트에서 선택한 측정항목(예: 슬롯 사용량 또는 처리된 바이트)이 시간 경과에 따라 표시됩니다. 차트의 범례는 표시된 데이터에 관한 자세한 정보를 제공합니다.
차트 구성 창을 사용하면 측정항목의 사전 정의된 뷰를 선택하거나 뷰의 측정항목을 맞춤설정할 수 있습니다.
리소스 사용률 차트에는 다음 요소가 있습니다.
리소스 사용률 탭에서 차트 상단의 상태 칩 위로 포인터를 가져가면 측정항목에 관한 자세한 정보가 표시됩니다.
상태 칩에는 다음 정보도 표시됩니다.
측정항목이 아직 로드 중이면 로드 중 아이콘이 표시됩니다.
측정항목이 오래된 데이터를 사용하는 경우 시계 아이콘이 표시됩니다.
지원되지 않는 페이지 수준 필터로 인해 측정항목을 로드할 수 없는 경우 측정항목에 X가 표시됩니다.
측정항목을 로드할 수 없으면 상태 칩이 강조 표시됩니다.
리소스 사용률 차트 보기 및 구성
리소스 사용률 차트를 보고 구성하려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 BigQuery Monitoring 페이지로 이동합니다.
Monitoring으로 이동 [https://console.cloud.google.com/bigquery/admin/monitoring?hl=ko]
프로젝트를 선택합니다. 예약 리소스 사용을 모니터링하는 관리자는 슬롯을 구매하고 예약을 만드는 데 사용한 관리 프로젝트를 선택합니다. 작업 리소스 사용량을 모니터링하는 데이터 분석가라면 해당 프로젝트를 선택합니다.
Monitoring 페이지에서 리소스 사용률 탭으로 이동하여 위치별 리소스 사용량 요약을 확인합니다.
이 뷰의 측정항목에 대한 기간(예: 1일)을 선택합니다. 최신 데이터에서 쿼리가 실행되는 실시간 측정항목을 보려면 실시간 데이터 전환 버튼을 클릭합니다. 이 설정은 성능을 개선하기 위해 기본적으로 사용 중지되어 있으며 데이터의 최대 비활성은 약 1시간입니다.
차트 구성 창에서 다음 필드를 구성합니다.
측정항목 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#metric-view] 필드에서 뷰 중 하나를 선택합니다.
측정항목 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#chart-options] 필드에서 볼 측정항목을 선택합니다. 측정항목을 추가하거나 수정할 수 있습니다.
그룹화 기준 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#group-by] 필드에서 데이터를 그룹화하는 방법을 선택합니다.
필터 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#filter-search] 필드에서 데이터를 필터링하는 방법을 선택합니다.
차트 구성에 적용한 변경사항을 저장하려면 적용을 클릭합니다.
측정항목 뷰
BigQuery는 리소스 사용률 측정항목의 사전 구성된 뷰를 제공합니다. 다음 섹션에서는 이러한 뷰에서 구성할 수 있는 측정항목을 설명합니다.
예약 슬롯 사용량
이 뷰에는 관리 프로젝트의 예약에 대한 슬롯 사용량 분석에 관한 측정항목이 표시됩니다. 각 측정항목에는 다음 기본 설정이 있으며, 측정항목 이름을 클릭하여 차트 구성 창에서 수정할 수 있습니다.
기본 사용량 데이터는 예약 리소스에서 가져옵니다.
기본 범위는 프로젝트입니다.
기본 집계는 선택한 기간의 평균 사용량입니다.
측정항목 이름 설명
예약 - 슬롯 사용량 선택한 기간의 총 슬롯 사용량을 모니터링합니다.
예약 - 유휴 슬롯 사용량 선택한 기간에 예약의 용량을 초과하는 슬롯 사용량을 모니터링합니다. 이 측정항목을 사용하면 다른 예약 및 약정에서 빌린 유휴 슬롯이나 사용량 데이터의 반올림 오차를 모니터링할 수 있습니다. 후자의 경우 유휴 슬롯 공유가 사용 중지되어 있어도 이 측정항목이 0이 아닌 값이 될 수 있습니다.
유휴 슬롯 사용량은 근사치이며 슬롯 사용량, 약정 슬롯, 자동 확장 슬롯을 기준으로 계산됩니다. 슬롯 사용량 값이 약정 용량 및 자동 확장 슬롯을 초과하면 차트에서 나머지를 유휴 슬롯으로 그룹화합니다.
예약 - 사용된 기준 슬롯 예약 기준에서 사용된 슬롯을 모니터링합니다.
예약 - 사용된 자동 확장 슬롯 예약 자동 확장 슬롯에서 사용된 슬롯을 모니터링합니다.
버전 사용률 개요
이 뷰에는 관리 프로젝트의 버전 리소스에 관한 슬롯 사용량 및 용량 측정항목이 표시됩니다. 각 측정항목에는 다음 기본 설정이 있으며, 측정항목 이름을 클릭하여 차트 구성 창에서 수정할 수 있습니다.
기본 사용량 데이터는 예약 리소스에서 가져오고 용량 데이터는 버전 리소스에서 가져옵니다.
기본 범위는 프로젝트입니다.
측정항목 이름 설명
예약 - 슬롯 사용량 선택한 기간의 슬롯 사용량을 모니터링합니다. 기본 집계는 선택한 기간의 p99 슬롯 사용량입니다.
예약 - 유휴 슬롯 사용량 선택한 기간에 예약의 용량을 초과하는 슬롯 사용량을 모니터링합니다. 이 측정항목을 사용하면 다른 예약 및 약정에서 빌린 유휴 슬롯이나 사용량 데이터의 반올림 오차를 모니터링할 수 있습니다. 후자의 경우 유휴 슬롯 공유가 사용 중지되어 있어도 이 측정항목의 값이 0이 아닐 수 있습니다.
유휴 슬롯 사용량은 근사치이며 슬롯 사용량, 약정 슬롯, 자동 확장 슬롯을 기준으로 계산됩니다. 슬롯 사용량 값이 약정 용량 및 자동 확장 슬롯을 초과하면 차트에서 나머지를 유휴 슬롯으로 그룹화합니다.
기본 집계는 선택한 기간의 p99 리소스 사용량입니다.
버전 - 기준 용량 이 관리 프로젝트의 예약 기준 크기를 모니터링합니다.
버전 - 최대 용량 선택한 기간에 사용할 수 있는 최대 슬롯 수를 모니터링합니다. 측정항목은 약정 용량, 기준 용량, 자동 확장된 용량의 합계입니다. 기본 집계는 선택한 기간의 최대 리소스 사용량입니다.
버전 - 할당된 용량 선택한 기간 동안 버전 리소스에 할당된 실제 슬롯 수를 모니터링합니다. 기본 집계는 선택한 기간의 최대 리소스 사용량입니다.
현재 프로젝트 개요
이 뷰에는 쿼리를 실행하는 프로젝트의 작업 리소스에 관한 측정항목이 표시됩니다. 각 측정항목에는 다음 기본 설정이 있으며, 측정항목 이름을 클릭하여 차트 구성 창에서 수정할 수 있습니다.
기본 리소스는 작업 리소스입니다.
기본 범위는 프로젝트입니다.
측정항목 이름 설명
작업 - 프로젝트 - 슬롯 사용량 선택한 기간의 슬롯 사용량을 모니터링합니다. 기본 집계는 선택한 기간의 최대 리소스 사용량입니다.
작업 - 프로젝트 - 처리된 바이트 선택한 기간에 완료된 작업에서 처리한 총 바이트를 모니터링합니다. 기본 집계는 선택한 기간에 처리된 바이트의 합계입니다.
작업 - 프로젝트 - 작업 동시 실행 선택한 기간 동안 동시에 실행되는 작업 수를 모니터링합니다. 기본 집계는 선택한 기간의 최대 리소스 사용량입니다.
작업 - 프로젝트 - 작업 기간 선택한 기간에 완료된 작업의 런타임을 모니터링합니다. 런타임은 작업 생성부터 작업 완료까지의 시간을 측정합니다. 기본 집계는 선택한 기간의 평균 런타임입니다.
소유한 예약 개요
이 뷰에는 관리 프로젝트의 예약 리소스가 있는 작업 활동에 관한 측정항목이 표시됩니다. 각 측정항목에는 다음 기본 설정이 있으며, 측정항목 이름을 클릭하여 차트 구성 창에서 수정할 수 있습니다.
기본 리소스는 예약 리소스입니다.
기본 범위는 프로젝트입니다.
측정항목 이름 설명
예약 - 슬롯 사용량 선택한 기간의 슬롯 사용량을 모니터링합니다. 기본 집계는 선택한 기간의 최대 리소스 사용량입니다.
예약 - 처리된 바이트 선택한 기간에 완료된 작업에서 처리한 총 바이트를 모니터링합니다. 기본 집계는 선택한 기간에 처리된 바이트의 합계입니다.
예약 - 작업 동시 실행 선택한 기간 동안 동시에 실행되는 작업 수를 모니터링합니다. 기본 집계는 선택한 기간의 최대 리소스 사용량입니다.
예약 - 작업 기간 선택한 기간에 완료된 작업의 런타임을 모니터링합니다. 런타임은 작업 생성부터 작업 완료까지의 시간을 측정합니다. 여기에는 대기열 및 재시도가 포함됩니다. 기본 집계는 선택한 기간의 평균 런타임입니다.
예약 - 셔플 사용량 선택한 기간의 셔플 사용량 비율을 모니터링합니다. 기본 집계는 선택한 기간의 평균 사용량입니다.
참고: BigQuery에서 작업을 실행하기 위해 추가 슬롯을 할당할 수 있으며, 이로 인해 슬롯 사용량 값이 총 최대 용량 값을 초과하고 유휴 슬롯을 무시하는 예약에서 빌린 슬롯 사용량 값이 0이 아닌 값이 될 수 있습니다. 이러한 경우 최대 용량을 초과하는 사용량에 대한 추가 요금이 청구되지 않습니다.
커스텀 뷰
커스텀 측정항목 뷰를 만들려면 처음부터 측정항목을 추가하거나 사전 정의된 측정항목 뷰(예: 예약 개요 측정항목 뷰) 중 하나로 시작하여 측정항목을 맞춤설정하면 됩니다.
측정항목
차트를 구성할 때 모니터링하는 리소스 사용률 측정항목을 추가, 수정 또는 삭제할 수 있습니다.
리소스 사용률 차트 측정항목을 구성하려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 BigQuery 리소스 사용률 차트를 확인 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-admin-resource-charts]합니다.
차트 구성 창에서 측정항목 필드를 구성합니다.
항목 추가> 측정항목 선택을 클릭합니다.
측정항목 선택 대화상자에서 다음을 선택합니다.
모니터링할 리소스 유형입니다(작업, 예약 또는 버전).
모니터링할 범위입니다. 예를 들어 현재 프로젝트에서 작업 측정항목을 모니터링하려면 프로젝트 범위를 선택합니다.
모니터링할 측정항목을 선택합니다. 예를 들어 작업 슬롯 사용량을 모니터링하려면 슬롯 사용량을 선택합니다.
적용을 클릭합니다.
새 항목 대화상자에서 집계를 선택합니다. 예를 들어 선택한 기간에 예약의 용량을 초과하는 최대 슬롯 사용량을 모니터링하려면 최대를 선택합니다.
완료를 클릭하여 측정항목을 저장합니다.
선택사항: 기존 측정항목을 변경하려면 측정항목 이름을 클릭하고 설정을 수정하거나 삭제합니다.
측정항목에 지원되는 리소스 유형 및 범위
리소스 사용률 측정항목은 리소스 유형과 범위로 분류됩니다.
리소스 유형
다음 리소스 유형을 모니터링할 수 있습니다.
리소스 설명
작업 지정된 범위와 기간의 BigQuery 작업 세부정보에 관한 측정항목입니다.
예약 지정된 범위와 기간의 BigQuery 예약 사용량에 관한 측정항목입니다. 이러한 측정항목은 예약별로 작업 세부정보를 집계합니다. 예약 수준에서 일부 데이터 액세스 권한만 있는 경우 작업 수준 세부정보에 액세스하지 않고 집계된 예약 사용량 측정항목을 사용할 수 있습니다.
버전 지정된 범위와 기간의 BigQuery 버전 용량에 관한 측정항목입니다.
범위 유형
측정항목의 리소스를 선택한 후 범위를 선택합니다.
예약 및 버전 리소스는 기본적으로 프로젝트 수준 범위로 설정됩니다.
작업 리소스는 프로젝트, 폴더 또는 조직 수준 범위로 설정할 수 있습니다. 범위가 클수록 추가 권한이 필요합니다.
그룹화 기준
리소스 사용률 차트에서 데이터를 그룹화하려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 BigQuery 리소스 사용률 차트를 확인 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-admin-resource-charts]합니다.
차트 구성 창에서 다음 옵션 중 하나를 선택하여 그룹화 기준 필드를 구성합니다.
없음: 이 옵션은 조직 전체에서 시간 경과에 따라 선택한 측정항목을 개략적으로 보여줍니다.
프로젝트: 이 옵션은 선택한 측정항목을 프로젝트별로 그룹화합니다. 사용 가능한 프로젝트가 50개를 초과하는 경우 슬롯 사용량이 가장 높은 상위 50개 프로젝트만 표시됩니다.
기타 모든 그룹화 옵션: 이러한 옵션은 프로젝트 뷰와 유사하며 데이터가 각 측정기준별로 그룹화됩니다. 선택한 모든 측정항목에 대해 그룹화 옵션이 지원되지 않으면 이 옵션을 선택할 수 없습니다.
필터
리소스 사용률 차트를 구성할 때 Enterprise 버전 리소스의 리소스 사용량 표시 또는 리소스 ID별 표시와 같은 필터를 데이터에 적용할 수 있습니다.
차트 데이터를 필터링하려면 필터 창에서 필터를 적용하세요. 선택한 측정항목에 지원되는 경우에만 필터를 선택할 수 있습니다. 필요한 권한을 보려면 필터 메뉴를 클릭합니다.
프로젝트 수준 리소스 사용률 데이터 보기
조직 수준 데이터를 볼 때와 동일한 구성 단계 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#view-admin-resource-charts]를 사용하여 프로젝트 수준 리소스 사용률을 분석할 수 있습니다. 차트에는 프로젝트 수준 데이터와 구성 옵션만 표시됩니다(조직 수준 옵션은 비활성화됨). 이 프로젝트 수준 범위에는 상황에 따른 프로젝트 내의 결제 모드에 관계없이 전체 리소스 사용률이 표시됩니다.
리소스 사용률 차트 제한사항
페이지 중앙의 차트와 테이블에는 선택한 기간 및 세부사항과 관련된 측정항목이 표시됩니다.
단위가 동일한 측정항목은 동일한 스케일을 공유합니다. 차트는 최대 두 개의 서로 다른 스케일을 지원합니다.
기존 UI로 전환

슬롯 경합 문제 해결
모든 작업을 실행할 슬롯이 충분하지 않으면 슬롯 경합이 발생하여 성능 문제가 발생할 수 있습니다. 슬롯 경합 문제를 해결하려면 다음 단계와 권장사항을 참조하세요.
이 권장사항을 시도했지만 작업 성능 문제가 계속되면 지원을 요청 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하세요.
작업 동시 실행 급증
세부정보 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#detailed-view]를 사용하여 동시 슬롯 사용량 급증이 있는 작업 실행의 갑작스러운 급증을 확인합니다. 이는 예약 한도로 제한된 슬롯을 두고 경쟁하는 작업이 너무 많다는 것을 나타낼 수 있습니다.
권장사항: 리소스 집약적인 쿼리 또는 예약의 슬롯 용량을 최적화하는 것이 좋습니다. 쿼리 성능 최적화에 관한 자세한 내용은 쿼리 계산 최적화 [https://cloud.google.com/bigquery/docs/best-practices-performance-compute?hl=ko]를 참조하세요.
슬롯 사용량이 높음
세부정보 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#detailed-view]를 사용하여 작업 기간이 늘어났는지 확인합니다. 특히 예약의 최대 용량을 초과하는 작업이 있는 경우에 유용합니다. 슬롯 사용량이 지속적으로 높으면 슬롯 경합이 계속되고 있음을 나타낼 수 있습니다.
권장사항: 작업 탐색기의 [https://cloud.google.com/bigquery/docs/admin-jobs-explorer?hl=ko] 슬롯 경합 필터를 사용하여 쿼리를 확인하고, 가장 많은 슬롯을 소비하는 쿼리를 식별하고 최적화합니다.
긴 작업 기간
작업이 완료되는 데 시간이 오래 걸리는 경우 세부정보 뷰 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#detailed-view]를 확인합니다. 작업 동시 실행 및 슬롯 사용량이 급증하면 슬롯 경합이 발생할 수 있습니다.
권장사항: 중요하지 않은 작업을 일시중지하거나 전체 작업 제출률을 줄여 중요한 작업을 격리합니다.
슬롯 경합 메시지
통계 테이블 [https://cloud.google.com/bigquery/docs/admin-resource-charts?hl=ko#insights-table]에는 슬롯 경합 문제를 나타내는 There were NUMBER jobs detected with slot_contention in the reservation.과 같은 메시지가 표시될 수 있습니다. 작업 탐색기 [https://cloud.google.com/bigquery/docs/admin-jobs-explorer?hl=ko]에서 이러한 메시지에 표시된 특정 작업에 관한 세부정보를 검토하세요.
권장사항: 식별된 쿼리를 최적화하거나 예약의 슬롯 할당을 조정합니다.
다음 단계
예약 [https://cloud.google.com/bigquery/docs/reservations-intro?hl=ko]에 대해 알아보기
슬롯 구매 [https://cloud.google.com/bigquery/docs/reservations-commitments?hl=ko]에 대해 알아보기
슬롯 용량 요구사항 추정 [https://cloud.google.com/bigquery/docs/slot-estimator?hl=ko] 방법 알아보기
슬롯 추천 및 통계 보기 [https://cloud.google.com/bigquery/docs/slot-recommender?hl=ko] 방법 알아보기
도움이 되었나요?
의견 보내기