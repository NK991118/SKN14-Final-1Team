Source URL: https://cloud.google.com/bigquery/docs/sessions-create

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
의견 보내기
이 페이지의 내용
세션 만들기
다음 단계
세션 만들기
bookmark_border
이 문서에서는 BigQuery에서 세션을 만드는 방법을 설명합니다. 이 문서는 BigQuery 세션 [https://cloud.google.com/bigquery/docs/sessions-intro?hl=ko]에 익숙한 사용자를 대상으로 합니다.
세션 만들기
SQL 활동 그룹을 캡처하려면 BigQuery 세션을 만듭니다. 세션을 만든 후 세션이 종료 [https://cloud.google.com/bigquery/docs/sessions-terminating?hl=ko]될 때까지 세션에서 대화형 쿼리를 실행할 수 있습니다. 세션의 모든 쿼리는 세션이 생성된 위치에서 실행(처리)됩니다.
이 단계를 완료하기 전에 세션을 만드는 데 필요한 권한 [https://cloud.google.com/bigquery/docs/sessions-intro?hl=ko#roles_and_permissions]이 있는지 확인합니다.
콘솔
bq
API
정의된 작업 리소스 [https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs?hl=ko]를 사용하여 jobs.insert 메서드 또는 jobs.query 메서드를 호출합니다.
jobs.insert
jobs.query
다음 매개변수를 사용하여 jobs.insert [https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert?hl=ko] 메서드를 호출합니다.
{
  "jobReference": {
    "projectId": "PROJECT_ID",
    "jobId": "JOB_ID",
    ["location": "SESSION_LOCATION"]
  },
  "configuration": {
    "query": {
      "query": "SQL_STATEMENT",
       "createSession": {
         "value": true
       }
    }
  }
}
각 항목의 의미는 다음과 같습니다.
PROJECT_ID: 세션을 만들 프로젝트
JOB_ID: 세션을 만들 작업
SESSION_LOCATION: 세션을 실제 위치 [https://cloud.google.com/bigquery/docs/locations?hl=ko]에 바인딩. 세션의 모든 쿼리를 이 위치로 제한합니다. (선택사항)
SQL_STATEMENT: 세션의 첫 번째 SQL 문
세션 테스트
다음 요청 본문을 입력합니다. myProject 및 job_123을 프로젝트 ID와 작업 ID로 바꿉니다.
{
  "jobReference": {
    "projectId": "myProject",
    "jobId": "job_123"
  },
  "configuration": {
    "query": {
      "query": "SELECT 1;",
      "createSession": {
          "value": true
      }
    }
  }
}
응답 본문이 다음과 유사한지 확인합니다.
{
  "jobReference": {
    "projectId": "myProject",
    "jobId": "job_123"
  },
  "statistics": {
    "sessionInfo": {
      "sessionId": "CgwKCmZhbGl1LXRlc3QQARokMDAzYjI0OWQtZ"
    }
  }
}
다음 단계
세션에서 쿼리 작성 [https://cloud.google.com/bigquery/docs/sessions-write-queries?hl=ko]
세션에서 쿼리 실행 [https://cloud.google.com/bigquery/docs/sessions-run-queries?hl=ko]
의견 보내기