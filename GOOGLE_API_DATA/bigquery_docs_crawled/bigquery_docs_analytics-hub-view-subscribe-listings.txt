Source URL: https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
필요한 역할 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#required_roles]
목록 살펴보기 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#discover-listings]
목록 구독 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#subscribe-listings]
연결된 데이터 세트 보기 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#view-linked-datasets]
연결된 데이터 세트 쿼리 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#query-linked-datasets]
목록 보기 및 구독
bookmark_border
Analytics Hub 구독자는 액세스 권한이 있는 목록을 보고 구독할 수 있습니다. 목록을 구독하면 프로젝트에 연결된 데이터 세트가 생성됩니다.
필요한 역할
목록을 사용하는 데 필요한 권한을 얻으려면 관리자에게 구독자 프로젝트에 대한 다음 Identity and Access Management(IAM) 역할을 부여해 달라고 요청하세요.
목록 탐색 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#discover-listings]: Analytics Hub 뷰어 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#analyticshub.viewer](roles/analyticshub.viewer)
목록 구독 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#subscribe-listings]: BigQuery 사용자 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.user](roles/bigquery.user)
목록을 구독하려면 목록 게시자에게 목록, 교환 또는 프로젝트에 대한 Analytics Hub 구독자 역할(roles/analyticshub.subscriber) 중 사용 사례에 가장 적합한 범위를 부여해 달라고 요청하세요.
연결된 데이터 세트 보기 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#view-linked-datasets]: BigQuery 데이터 뷰어 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.dataViewer](roles/bigquery.dataViewer)
연결된 데이터 세트 쿼리 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#query-linked-datasets]: BigQuery 데이터 뷰어 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.dataViewer](roles/bigquery.dataViewer)
연결된 데이터 세트 업데이트 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#update-linked-datasets]: BigQuery 데이터 소유자 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.dataOwner](roles/bigquery.dataOwner)
테이블 메타데이터 보기 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#view-table-metadata]: BigQuery 데이터 뷰어 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.dataViewer](roles/bigquery.dataViewer)
연결된 데이터 세트 삭제 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#delete-linked-datasets]: BigQuery 관리자 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.admin](roles/bigquery.admin)
역할 부여에 대한 자세한 내용은 액세스 관리 [https://cloud.google.com/iam/docs/granting-changing-revoking-access?hl=ko]를 참조하세요.
이러한 사전 정의된 역할에는 이 문서의 작업을 수행하는 데 필요한 권한이 포함되어 있습니다. 데이터 세트를 만들고 쿼리하는 데 필요한 정확한 권한을 보려면 필수 권한 섹션을 펼칩니다.
필수 권한
커스텀 역할 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko]이나 다른 사전 정의된 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko]을 사용하여 이 권한을 부여받을 수도 있습니다.
목록 살펴보기
공개 및 비공개 목록을 탐색하려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 Sharing(Analytics Hub) 페이지로 이동합니다.
Sharing(Analytics Hub)으로 이동 [https://console.cloud.google.com/bigquery/analytics-hub?hl=ko]
목록 검색을 클릭합니다. 액세스할 수 있는 목록이 포함된 대화상자가 나타납니다.
이름 또는 설명으로 목록을 필터링하려면 목록 검색 필드에 목록의 이름 또는 설명을 입력합니다.
필터 섹션에서 다음 필드를 기준으로 목록을 필터링할 수 있습니다.
목록: 비공개 목록, 공개 목록, 조직 내 목록 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#listings]을 표시할지 여부를 선택합니다.
카테고리: 하나 이상의 카테고리를 선택합니다.
위치: 위치를 선택합니다. 자세한 내용은 지원되는 리전 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#supported-regions]을 참조하세요.
제공업체: 데이터 제공업체를 선택합니다. 일부 데이터 제공업체는 상용 데이터 세트에 대한 액세스를 요청해야 합니다. 액세스 권한을 요청한 후 데이터 제공업체는 데이터 세트를 공유하기 위해 연락합니다.
필터링된 목록을 찾아봅니다.
목록 구독
목록 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#listings]을 구독하면 프로젝트에 연결된 데이터 세트 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#linked_datasets]가 생성되어 목록의 데이터에 대한 읽기 전용 액세스 권한이 부여됩니다.
주의: VPC 서비스 제어 경계 내에 있는 프로젝트에 데이터를 포함하지 않는 것이 좋습니다. 포함하는 경우 적절한 인그레스 및 이그레스 규칙 [https://cloud.google.com/bigquery/docs/analytics-hub-vpc-sc-rules?hl=ko#subscribe_to_a_listing]을 추가해야 합니다.
목록을 구독하려면 다음 단계를 따르세요.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#%EC%BD%98%EC%86%94] ---
액세스 권한이 있는 목록을 보려면 목록 탐색 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#discover-listings] 단계를 따르세요.
목록을 찾아보고 구독하려는 목록을 클릭합니다. 목록의 세부정보가 포함된 대화상자가 나타납니다. 이 대화상자에서 제공업체가 구독자 이메일 로깅을 사용 설정했는지도 확인할 수 있습니다.
상용 데이터 세트를 참조하는 목록과 같이 목록을 구독할 수 있는 액세스 권한이 없으면 액세스 요청 또는 Marketplace를 통해 구매를 클릭합니다. 구독할 수 있는 데이터 세트를 클릭한 경우 구독을 클릭하여 연결된 데이터 세트 만들기 대화상자를 엽니다.
프로젝트에서 Analytics Hub API를 사용 설정하지 않은 경우 API를 사용 설정할 수 있는 링크와 함께 오류 메시지가 표시됩니다. Analytics Hub API 사용 설정을 클릭합니다.
연결된 데이터 세트 만들기 대화상자에서 다음 세부정보를 지정합니다.


프로젝트: 데이터 세트를 추가할 프로젝트의 이름을 지정합니다.
연결된 데이터 세트 이름: 연결된 데이터 세트의 이름을 지정합니다.

변경사항을 저장하려면 저장을 클릭합니다. 연결된 데이터 세트가 프로젝트에 나열됩니다.

--- 탭: API [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#api] ---
projects.locations.dataExchanges.listings.subscribe 메서드 [https://cloud.google.com/bigquery/docs/reference/analytics-hub/rest/v1/projects.locations.dataExchanges.listings/subscribe?hl=ko]를 사용합니다.

POST https://analyticshub.googleapis.com/v1/projects/PROJECT_ID/location/LOCATION/dataExchanges/DATAEXCHANGE_ID/listings/LISTING_ID:subscribe


다음을 바꿉니다.


PROJECT_ID: 구독하려는 목록의 프로젝트 ID입니다.
LOCATION: 구독하려는 목록의 위치입니다.
DATAEXCHANGE_ID: 구독하려는 목록의 데이터 교환 ID입니다.
LISTING_ID: 구독하려는 목록 ID입니다.


요청 본문에서 연결된 데이터 세트 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#linked_datasets]를 만들 데이터 세트를 지정합니다.
요청이 성공하면 응답 본문에 구독 객체 [https://cloud.google.com/bigquery/docs/reference/analytics-hub/rest/v1/projects.locations.dataExchanges.listings/subscribe?hl=ko#response-body]가 포함됩니다.
데이터 교환 또는 목록에 구독자 이메일 로깅(미리보기 [https://cloud.google.com/products?hl=ko#product-launch-stages])을 사용 설정한 경우 구독 응답에 log_linked_dataset_query_user_email: true가 포함됩니다.
연결된 데이터 세트 보기
연결된 데이터 세트는Google Cloud 콘솔에 다른 데이터 세트와 함께 표시됩니다.
프로젝트에서 연결된 데이터 세트를 보려면 다음 단계를 따르세요.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.

BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko] 
탐색기 패널에서  연결된 데이터 세트가 포함된 프로젝트 이름을 클릭합니다.


또는 Data Catalog(지원 중단됨) [https://cloud.google.com/data-catalog/docs/how-to/search?hl=ko#how_to_search_for_data_assets]나 Dataplex Universal Catalog [https://cloud.google.com/dataplex/docs/search-assets?hl=ko]를 사용하여 연결된 데이터 세트를 검색하고 볼 수도 있습니다. 공유에 연결된 모든 데이터 세트를 일치시키려면 type=dataset.linked 조건자를 사용합니다. 자세한 내용은 Data Catalog 검색 구문 [https://cloud.google.com/data-catalog/docs/how-to/search-reference?hl=ko] 또는 Dataplex Universal Catalog 검색 구문 [https://cloud.google.com/dataplex/docs/search-syntax?hl=ko]을 참조하세요.

--- 탭: Cloud Shell [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#cloud-shell] ---
다음 명령어를 실행합니다.

PROJECT=<your project ID> \
for dataset in $(bq ls --project_id $PROJECT | tail +3); do [ "$(bq show -d --project_id $PROJECT $dataset | egrep LINKED)" ] && echo $dataset; done
참고: 게시자가 구독을 삭제 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-listings?hl=ko#remove_a_subscription]하면 연결된 데이터 세트 세부정보 페이지에 데이터 세트가 연결 해제된 것으로 표시됩니다. 연결 해제된 데이터 세트는 쿼리할 수 없으므로 연결되지 않은 데이터 세트 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#delete-linked-datasets]를 삭제할 수 있습니다.
연결된 데이터 세트 쿼리
다른 BigQuery 테이블을 쿼리 [https://cloud.google.com/bigquery/docs/managing-table-data?hl=ko#querying_table_data]할 때와 같은 방식으로 연결된 데이터 세트의 테이블과 뷰를 쿼리할 수 있습니다.
연결된 데이터 세트 업데이트
연결된 데이터 세트의 리소스는 읽기 전용입니다. 연결된 데이터 세트에 있는 리소스의 데이터 또는 메타데이터를 수정하거나 개별 리소스에 대한 권한을 지정할 수 없습니다.
연결된 데이터 세트의 설명과 라벨만 업데이트할 수 있습니다. 연결된 데이터 세트의 변경사항은 소스 또는 공유 데이터 세트에 영향을 주지 않습니다.
연결된 데이터 세트의 설명과 라벨을 업데이트하려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 패널에서 프로젝트 이름을 클릭한 다음 연결된 데이터 세트를 클릭합니다.
more_vert 작업 옵션을 펼치고 열기를 클릭합니다.
세부정보 패널에서 mode_edit 세부정보 수정을 클릭한 후 다음 세부정보를 지정합니다.
라벨을 추가하려면 데이터 세트에 라벨 추가 [https://cloud.google.com/bigquery/docs/adding-labels?hl=ko#adding_a_label_to_a_dataset]를 참조하세요.
콜레이션 [https://cloud.google.com/bigquery/docs/reference/standard-sql/collation-concepts?hl=ko]을 사용 설정하려면 고급 옵션 섹션을 펼치고 다음 단계를 수행합니다.
기본 콜레이션 사용 설정을 선택합니다.
기본 콜레이션 목록에서 옵션을 선택합니다.
저장을 클릭합니다.
테이블 메타데이터 보기
기본 테이블 메타데이터를 보려면 INFORMATION_SCHEMA.TABLES [https://cloud.google.com/bigquery/docs/information-schema-tables?hl=ko] 뷰를 쿼리합니다.
SELECT * FROM `
LINKED-DATASET.INFORMATION_SCHEMA.TABLES`
LINKED-DATASET를 연결된 데이터 세트의 이름으로 바꿉니다.
참고: 리전 기반 INFORMATION_SCHEMA 쿼리 [https://cloud.google.com/bigquery/docs/information-schema-intro?hl=ko#region_qualifier]는 연결된 테이블의 메타데이터를 반환하지 않습니다. 연결된 데이터 세트의 데이터 세트 한정자를 지원하지 않는 INFORMATION_SCHEMA 뷰에 대한 자세한 내용은 제한사항 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#limitations]을 참조하세요.
연결된 데이터 세트 구독 취소 또는 삭제
데이터 세트를 구독 취소하려면 연결된 데이터 세트를 삭제해야 합니다. 연결된 데이터 세트를 삭제해도 소스 데이터 세트는 삭제되지 않습니다.
연결된 데이터 세트를 삭제한 후에는 검색할 수 없습니다. 하지만 다시 목록을 구독 [https://cloud.google.com/bigquery/docs/analytics-hub-view-subscribe-listings?hl=ko#subscribe-listings]하고 데이터 세트와 Google Cloud Marketplace 통합 목록에서 생성된 연결된 데이터 세트를 프로젝트에 추가하여 삭제된 연결된 데이터 세트를 다시 만들 수 있습니다.
Analytics Hub 게시자가 구독을 제거하면 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-listings?hl=ko#remove_a_subscription] 연결된 데이터 세트 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#listings]가 공유 데이터 세트 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko#shared_datasets]에서 연결 해제됩니다. 연결 해제된 데이터 세트는 쿼리할 수 없으므로 연결 해제된 데이터 세트를 삭제할 수 있습니다.
연결된 데이터 세트를 삭제하려면 다음 단계를 따르세요.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색기 패널에서 프로젝트 이름을 클릭한 다음 연결된 데이터 세트를 클릭합니다.
more_vert 작업 옵션을 펼치고 삭제를 클릭합니다.
연결된 데이터 세트를 삭제하시겠습니까? 대화상자에서 delete를 입력하여 삭제를 확인합니다.
삭제를 클릭합니다.
다음 단계
공유 [https://cloud.google.com/bigquery/docs/analytics-hub-introduction?hl=ko]에 대해 알아보기
목록 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-listings?hl=ko] 알아보기
데이터 교환 관리 [https://cloud.google.com/bigquery/docs/analytics-hub-manage-exchanges?hl=ko] 알아보기
감사 로깅 공유 [https://cloud.google.com/bigquery/docs/analytics-hub-audit-logging?hl=ko] 알아보기
도움이 되었나요?
의견 보내기