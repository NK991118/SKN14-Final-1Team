Source URL: https://cloud.google.com/bigquery/docs/visualize-looker-studio

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
의견 보내기
이 페이지의 내용
쿼리 결과 탐색 [https://cloud.google.com/bigquery/docs/visualize-looker-studio?hl=ko#explore_query_results]
테이블 스키마 탐색 [https://cloud.google.com/bigquery/docs/visualize-looker-studio?hl=ko#explore_table_schema]
보고서 공유 [https://cloud.google.com/bigquery/docs/visualize-looker-studio?hl=ko#share_reports]
BigQuery 작업 세부정보 보기 [https://cloud.google.com/bigquery/docs/visualize-looker-studio?hl=ko#job-details]
Looker Studio INFORMATION_SCHEMA 세부정보 보기 [https://cloud.google.com/bigquery/docs/visualize-looker-studio?hl=ko#ls-schema]
다음 단계 [https://cloud.google.com/bigquery/docs/visualize-looker-studio?hl=ko#whats_next]
Looker Studio로 데이터 분석
bookmark_border
BigQuery를 사용하면 데이터 시각화, 대시보드, 보고서를 빌드하고 사용할 수 있는 셀프서비스 비즈니스 인텔리전스 플랫폼인 Looker Studio로 데이터를 살펴볼 수 있습니다. Looker Studio를 사용하면 BigQuery 데이터에 연결하고, 시각화를 만들고, 유용한 정보를 다른 사람과 공유할 수 있습니다.
Looker Studio는 Identity and Access Management를 통한 권한 관리, 공동작업을 위한 팀 워크스페이스, 모바일 앱, 기술 지원을 비롯한 향상된 엔터프라이즈 기능이 포함된 프리미엄 버전인 Looker Studio Pro를 제공합니다.
BigQuery BI Engine을 사용하면 컴퓨팅 비용을 절감하면서 보고서 성능을 개선할 수 있습니다. BI Engine에 대해 알아보려면 BI Engine 소개 [https://cloud.google.com/bigquery/docs/bi-engine-intro?hl=ko]를 참고하세요.
이 예시에서는 Looker Studio를 사용하여 BigQuery austin_bikeshare [https://console.cloud.google.com/bigquery?cloudshell=false&%3Bd=austin_bikeshare&%3Bp=bigquery-public-data&%3Bt=bikeshare_trips&%3Bpage=table&%3Bws=%211m10%211m4%214m3%211sbigquery-public-data%212sfaa%213sus_airports%211m4%214m3%211sbigquery-public-data%212saustin_bikeshare%213sbikeshare_trips&hl=ko] 데이터 세트의 데이터를 시각화합니다. 공개 데이터 세트에 대한 자세한 내용은 BigQuery 공개 데이터 세트 [https://cloud.google.com/bigquery/public-data?hl=ko]를 참조하세요.
쿼리 결과 탐색
Looker Studio에서 임의의 SQL 쿼리를 생성하고 데이터를 시각화할 수 있습니다. Looker Studio를 사용하기 전 BigQuery에서 데이터를 수정하려는 경우 또는 테이블에서 필드의 하위 집합만 필요한 경우에 유용합니다. 대시보드는 쿼리 결과를 기반으로 하는 임시 테이블을 기반으로 합니다. 임시 테이블은 최대 24시간 동안 저장됩니다.
참고: Looker Studio 차트에서 최대 5,000개까지 데이터 행을 시각화할 수 있습니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
결제 프로젝트 [https://cloud.google.com/billing/docs/concepts?hl=ko#billing_account]를 선택합니다.
탐색기 창에서 검색할 유형 필드에 bikeshare_trips를 입력합니다.
bigquery-public-data > austin_bikeshare > bikeshare_trips로 이동합니다.
more_vert 작업 보기를 클릭한 후 쿼리를 클릭합니다.
쿼리 편집기에서 쿼리를 작성합니다. 예를 들면 다음과 같습니다.
SELECT
  *
FROM
  `bigquery-public-data.austin_bikeshare.bikeshare_trips`
LIMIT
  1000;
play_circle 실행을 클릭합니다.
쿼리 결과 섹션에서 데이터 탐색을 클릭한 후 Looker Studio로 탐색을 클릭합니다.
Looker Studio 시작 페이지에서 Looker Studio 및 Google 서비스 약관에 동의하면 시작하기를 클릭합니다.
Looker Studio 액세스 승인 페이지에서 서비스 약관에 동의하면 승인을 클릭하여 연결을 승인하고 마케팅 환경설정을 선택합니다. 다른 사용자에게 데이터 보기 권한을 부여하지 않는 한 사용자만 자신의 보고서 데이터를 볼 수 있습니다.
보고서 편집기에 쿼리 결과가 Looker Studio 차트로 표시됩니다.
다음 이미지에서는 Looker Studio 보고서의 몇 가지 기능을 보여줍니다.
범례:
Looker Studio 로고와 보고서 이름입니다.
Looker Studio 페이지로 이동하려면 로고를 클릭합니다.
보고서 이름을 수정하려면 이름을 클릭합니다.
Looker Studio 툴바 차트 추가 도구가 강조표시됩니다.
보고서 제목. 텍스트를 수정하려면 텍스트 상자를 클릭합니다.
테이블(선택됨). 차트 헤더의 옵션을 사용하여 선택한 차트와 상호작용할 수 있습니다.
막대 그래프(선택되지 않음).
차트 속성 창. 설정 및 스타일 탭에서 선택한 차트의 데이터 속성과 모양을 구성할 수 있습니다.
데이터 창. 이 창에서 보고서에 사용할 필드 및 데이터 소스에 액세스할 수 있습니다.
차트에 데이터를 추가하려면 데이터 창에서 차트로 필드를 드래그합니다.
차트를 만들려면 데이터 창에서 캔버스로 필드를 드래그합니다.
저장 및 공유. 이 보고서를 보고, 수정하고, 나중에 다른 사용자와 공유할 수 있도록 저장합니다. 보고서를 저장하기 전에 데이터 소스에 사용되는 데이터 소스 설정 및 사용자 인증 정보를 검토합니다.
데이터 소스 사용자 인증 정보 소유자는 리소스를 클릭하여 작업 통계, 결과 테이블, BI Engine 세부정보를 볼 수 있습니다.
차트와 상호작용
Looker Studio 차트는 대화형입니다. 이제 데이터가 Looker Studio에 표시되었으므로 여기에서 몇 가지 작업을 시도할 수 있습니다.
테이블을 스크롤하고 살펴봅니다.
막대 차트에서 포인터를 막대 위에 두어 데이터 세부정보를 표시합니다.
막대 차트에서 막대를 선택하여 해당 차원으로 테이블을 교차 필터링합니다.
차트 추가하기
Looker Studio에서는 여러 가지 서로 다른 시각화 유형이 지원됩니다. 보고서에 차트를 추가하려면 다음 단계를 수행합니다.
툴바에서 add_chart 차트 추가를 클릭합니다.
추가할 차트를 선택합니다.
캔버스를 클릭하여 차트를 보고서에 추가합니다.
차트 속성 창을 사용하여 차트를 구성합니다.
보고서에 차트 추가에 대한 자세한 내용은 보고서에 차트 추가 [https://support.google.com/looker-studio/answer/6293184?hl=ko]를 참조하세요.
테이블 스키마 탐색
테이블 스키마를 내보내서 Looker Studio에서 데이터의 메타데이터를 확인할 수 있습니다. 이 방식은 Looker Studio에서 사용하기 전 BigQuery에서 데이터를 수정하지 않으려는 경우에 유용합니다.
참고: BigQuery 쿼리는 최대 20MB 데이터를 반환할 수 있습니다. 매우 큰 테이블 스키마를 탐색하는 경우 Looker Studio에서 결과가 잘릴 수 있습니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
결제 프로젝트 [https://cloud.google.com/billing/docs/concepts?hl=ko#billing_account]를 선택합니다.
탐색기 창에서 검색할 유형 필드에 bigquery-public-data를 입력합니다.
bigquery-public-data > austin_bikeshare > bikeshare_trips로 이동합니다.
툴바에서 file_upload 내보내기를 클릭합니다. 내보내기가 표시되지 않으면 more_vert 추가 작업을 선택한 후 내보내기를 클릭합니다.
Looker Studio로 탐색을 클릭합니다.
보고서 공유
Looker Studio를 사용하도록 이메일 초대를 전송하여 보고서를 다른 사용자와 공유할 수 있습니다. 특정 사용자 또는 Google 그룹스를 초대할 수 있습니다. 또한 보다 포괄적으로 공유하려면 누구나 Looker Studio 보고서에 액세스할 수 있도록 링크를 만들 수 있습니다.
참고: BigQuery 내보내기 기능으로 생성되는 보고서를 공유하려면 먼저 저장 및 공유를 클릭해야 합니다.
다른 사용자와 보고서를 공유하려면 다음 단계를 수행합니다.
Looker Studio 페이지 헤더에서 person_add공유를 클릭합니다.
다른 사용자와 공유 대화상자에서 받는 사람의 이메일 주소를 입력합니다. 이메일 주소 또는 Google 그룹 주소를 여러 개 입력할 수 있습니다.
받는 사람이 보고서를 보거나 수정할 수 있는지 여부를 지정할 수 있습니다.
보내기를 클릭합니다.
보고서 공유에 대해 자세히 알아보기 [https://support.google.com/looker-studio/answer/7459147?hl=ko]
데이터 소스가 프로젝트와 연결되어 있기 때문에 프로젝트를 삭제하면 Looker Studio에서 데이터를 쿼리하지 못합니다. Google Cloud 프로젝트를 삭제하지 않으려면 Looker Studio 보고서 및 데이터 소스를 삭제하면 됩니다.
BigQuery 작업 세부정보 보기
데이터 소스 사용자 인증 정보가 현재 사용자로 설정되면 사용자는 데이터 소스 사용자 인증 정보 소유자라고 합니다. 데이터 소스 사용자 인증 정보 소유자가 볼 때 대부분의 대시보드 요소에는 BigQuery 아이콘이 표시됩니다. BigQuery에서 작업 세부정보로 이동하려면 BigQuery 아이콘을 클릭합니다.
Looker Studio INFORMATION_SCHEMA 세부정보 보기
INFORMATION_SCHEMA.JOBS 보기 [https://cloud.google.com/bigquery/docs/information-schema-jobs?hl=ko]를 확인하여 BigQuery에서 사용하는 Looker Studio 보고서와 데이터 소스를 추적할 수 있습니다. 모든 Looker Studio 작업에는 looker_studio_report_id 및 looker_studio_datasource_id 라벨이 있습니다. 이러한 ID는 보고서 또는 데이터 소스 페이지를 열 때 Looker Studio URL 끝에 표시됩니다. 예를 들어 URL이 https://lookerstudio.google.com/navigation/reporting/XXXX-YYY-ZZ인 보고서의 보고서 ID는 'XXXX-YYY-ZZ'입니다.
다음 예시에서는 보고서와 데이터 소스를 보는 방법을 보여줍니다.
Looker Studio BigQuery의 작업 보고서 및 데이터 소스 URL 보기
각 Looker Studio BigQuery 작업의 보고서 및 데이터 소스 URL을 보려면 다음 쿼리를 실행합니다.
-- Standard labels used by Looker Studio.
DECLARE requestor_key STRING DEFAULT 'requestor';
DECLARE requestor_value STRING DEFAULT 'looker_studio';

CREATE TEMP FUNCTION GetLabel(labels ANY TYPE, label_key STRING)
AS (
  (SELECT l.value FROM UNNEST(labels) l WHERE l.key = label_key)
);

CREATE TEMP FUNCTION GetDatasourceUrl(labels ANY TYPE)
AS (
  CONCAT("https://lookerstudio.google.com/datasources/", GetLabel(labels, 'looker_studio_datasource_id'))
);

CREATE TEMP FUNCTION GetReportUrl(labels ANY TYPE)
AS (
  CONCAT("https://lookerstudio.google.com/reporting/", GetLabel(labels, 'looker_studio_report_id'))
);

SELECT
  job_id,
  GetDatasourceUrl(labels) AS datasource_url,
  GetReportUrl(labels) AS report_url,
FROM
  `region-us`.INFORMATION_SCHEMA.JOBS jobs
WHERE
  creation_time > TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 7 DAY)
  AND GetLabel(labels, requestor_key) = requestor_value
LIMIT
  100;
보고서 및 데이터 소스를 사용하여 생성된 작업 보기
생성된 작업을 보려면 다음 쿼리를 실행합니다.
-- Specify report and data source id, which can be found in the end of Looker Studio URLs.
DECLARE user_report_id STRING DEFAULT '*report id here*';
DECLARE user_datasource_id STRING DEFAULT '*datasource id here*';

-- Looker Studio labels for BigQuery jobs.
DECLARE requestor_key STRING DEFAULT 'requestor';
DECLARE requestor_value STRING DEFAULT 'looker_studio';
DECLARE datasource_key STRING DEFAULT 'looker_studio_datasource_id';
DECLARE report_key STRING DEFAULT 'looker_studio_report_id';

CREATE TEMP FUNCTION GetLabel(labels ANY TYPE, label_key STRING)
AS (
  (SELECT l.value FROM UNNEST(labels) l WHERE l.key = label_key)
);

SELECT
  creation_time,
  job_id,
FROM
  `region-us`.INFORMATION_SCHEMA.JOBS jobs
WHERE
  creation_time > TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 7 DAY)
  AND GetLabel(labels, requestor_key) = requestor_value
  AND GetLabel(labels, datasource_key) = user_datasource_id
  AND GetLabel(labels, report_key) = user_report_id
ORDER BY 1
LIMIT 100;
다음 단계
BI Engine 용량 예약에 대해 자세히 알아보려면 BI Engine 용량 예약 [https://cloud.google.com/bigquery/docs/bi-engine-reserve-capacity?hl=ko]을 참조하세요.
BigQuery 쿼리 작성에 대해 자세히 알아보려면 BigQuery 분석 개요 [https://cloud.google.com/bigquery/docs/query-overview?hl=ko]를 참조하세요. 이 문서에서는 쿼리 실행 또는 사용자 정의 함수(UDF) 만들기 방법과 같은 태스크에 대해 설명합니다.
BigQuery 구문을 탐색하려면 BigQuery의 SQL 소개 [https://cloud.google.com/bigquery/docs/reference/standard-sql?hl=ko]를 참조하세요. BigQuery에서 SQL 쿼리에 선호되는 언어는 표준 SQL입니다. BigQuery의 이전 SQL과 비슷한 구문은 legacy SQL 함수 및 연산자 [https://cloud.google.com/bigquery/query-reference?hl=ko]에 설명되어 있습니다.
의견 보내기