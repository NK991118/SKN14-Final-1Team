Source URL: https://cloud.google.com/bigquery/docs/oracle-transfer

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
제한사항 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#limitations]
시작하기 전에 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#before_you_begin]
Oracle 기본 요건 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#oracle-prereqs]
BigQuery 기본 요건 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#bq-prerequisites]
필요한 BigQuery 역할 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#bq-roles]
BigQuery에 Oracle 데이터 로드 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#oracle-transfer-setup]
데이터 유형 매핑 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#data_type_mapping]
전송 설정 문제 해결 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#troubleshoot_transfer_setup]
BigQuery에 Oracle 데이터 로드
bookmark_border
프리뷰
이 기능에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 기능은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
참고: 이 기능에 대한 지원을 받거나 의견을 제출하려면 dts-preview-support@google.com [mailto:dts-preview-support@google.com]으로 문의하세요.
Oracle용 BigQuery Data Transfer Service 커넥터를 사용하여 Oracle에서 BigQuery로 데이터를 로드할 수 있습니다. BigQuery Data Transfer Service를 사용하면 Oracle의 최신 데이터를 BigQuery에 추가하는 반복 전송 작업을 예약할 수 있습니다.
제한사항
Oracle 전송에는 다음과 같은 제한사항이 적용됩니다.
Oracle 데이터베이스에 대한 최대 동시 연결 수가 제한되어 있으므로 단일 Oracle 데이터베이스에 대한 동시 전송 실행 수는 해당 최대 수로 제한됩니다.
Oracle 데이터베이스 연결에 공개 IP를 사용할 수 없는 경우 다음 요구사항에 따라 네트워크 연결을 설정 [https://cloud.google.com/vpc/docs/create-manage-network-attachments?hl=ko]해야 합니다.
네트워크 연결이 있는 서브넷에서 데이터 소스에 액세스할 수 있어야 합니다.
네트워크 연결은 240.0.0.0/24 범위 내의 서브넷에 있지 않아야 합니다.
연결에 대한 활성 연결이 있으면 네트워크 연결을 삭제할 수 없습니다. 네트워크 연결을 삭제하려면 Cloud Customer Care에 문의 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하세요.
us 멀티 리전의 경우 네트워크 연결은 us-central1 리전에 있어야 합니다. eu 멀티 리전의 경우 네트워크 연결은 europe-west4 리전에 있어야 합니다.
Google Cloud 콘솔은 NORMAL Oracle 사용자 역할을 사용하여 Oracle을 BigQuery Data Transfer Service에 연결할 수 있도록 지원합니다. BigQuery CLI를 사용하여 SYSDBA 및 SYSOPER Oracle 사용자 역할로 연결해야 합니다.
반복 Oracle 전송 사이의 최소 간격은 15분입니다. 반복 전송의 기본 간격은 24시간입니다.
구성된 네트워크 연결과 가상 머신(VM) 인스턴스가 서로 다른 리전에 있는 경우 Oracle에서 데이터를 전송할 때 리전 간 데이터 이동이 발생할 수 있습니다.
시작하기 전에
다음 섹션에서는 Oracle 전송을 만들기 전에 수행해야 하는 단계를 설명합니다.
Oracle 기본 요건
Oracle 데이터베이스에서 사용자 인증 정보를 만듭니다 [https://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_8003.htm].
세션 생성을 허용하도록 사용자에게 Create Session 시스템 권한을 부여 [https://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_9013.htm]합니다.
사용자 계정에 테이블스페이스를 할당 [https://docs.oracle.com/cd/B19306_01/network.102/b14266/admusers.htm#i1006219]합니다.
Oracle 전송을 만들 때 다음 Oracle 데이터베이스 정보도 있어야 합니다.
매개변수 이름 설명
database 데이터베이스 이름입니다.
host
데이터베이스의 호스트 이름 또는 IP 주소입니다.
port
데이터베이스의 포트 번호입니다.
username
데이터베이스에 액세스할 사용자 이름입니다.
password
데이터베이스에 액세스할 비밀번호입니다.
connectionType
연결 유형입니다. 이 값은 SERVICE, SID 또는 TNS입니다.
encryptionMode
암호화 모드입니다. Oracle 데이터베이스에 연결할 때 전체 SSL 유효성 검사를 사용 설정하려면 FULL, SSL 유효성 검사를 사용 중지하려면 DISABLE을 선택합니다.
oracleObjects
전송할 Oracle 객체 목록입니다.
BigQuery 기본 요건
BigQuery Data Transfer Service 사용 설정 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko]에 필요한 모든 작업을 완료했는지 확인합니다.
데이터를 저장할 BigQuery 데이터세트를 만듭니다 [https://cloud.google.com/bigquery/docs/datasets?hl=ko].
Pub/Sub의 전송 실행 알림을 설정하려면 pubsub.topics.setIamPolicy Identity and Access Management(IAM) 권한이 있는지 확인합니다. 이메일 알림만 설정한다면 Pub/Sub 권한이 필요하지 않습니다. 자세한 내용은 BigQuery Data Transfer Service 실행 알림 [https://cloud.google.com/bigquery/docs/transfer-run-notifications?hl=ko]을 참조하세요.
필요한 BigQuery 역할
전송을 만드는 데 필요한 권한을 얻으려면 관리자에게 BigQuery 관리자 [https://cloud.google.com/iam/docs/roles-permissions/bigquery?hl=ko#bigquery.admin](roles/bigquery.admin) IAM 역할을 부여해 달라고 요청하세요. 역할 부여에 대한 자세한 내용은 프로젝트, 폴더, 조직에 대한 액세스 관리 [https://cloud.google.com/iam/docs/granting-changing-revoking-access?hl=ko]를 참조하세요.
이 사전 정의된 역할에는 전송을 만드는 데 필요한 권한이 포함되어 있습니다. 필요한 정확한 권한을 보려면 필수 권한 섹션을 펼치세요.
필수 권한
커스텀 역할 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko]이나 다른 사전 정의된 역할 [https://cloud.google.com/iam/docs/roles-overview?hl=ko#predefined]을 사용하여 이 권한을 부여받을 수도 있습니다.
BigQuery에 Oracle 데이터 로드
BigQuery에 Oracle 데이터를 추가하려면 다음 옵션 중 하나를 사용하여 Oracle 데이터 전송을 설정하면 됩니다.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 데이터 전송 페이지로 이동합니다.

데이터 전송으로 이동 [https://console.cloud.google.com/bigquery/transfers?hl=ko] 
add 전송 만들기를 클릭합니다.
소스 유형 섹션의 소스에서 Oracle을 선택합니다.
데이터 소스 세부정보 섹션에서 다음을 수행합니다.


네트워크 연결의 경우 기존 네트워크 연결을 선택하거나 네트워크 연결 만들기를 클릭합니다.
호스트의 경우 데이터베이스의 호스트 이름 또는 IP를 입력합니다.
포트에 Oracle 데이터베이스가 수신 연결에 사용하는 포트 번호(예: 1521)를 입력합니다.
데이터베이스 이름에 Oracle 데이터베이스 이름을 입력합니다.
연결 유형에는 연결 URL 유형(SERVICE, SID 또는 TNS)을 입력합니다.
사용자 이름에 Oracle 데이터베이스 연결을 시작하는 사용자의 사용자 이름을 입력합니다.
비밀번호에 Oracle 데이터베이스 연결을 시작하는 사용자의 비밀번호를 입력합니다.
암호화 모드의 경우 드롭다운 메뉴에서 전체를 선택하여 Oracle 데이터베이스에 연결할 때 전체 SSL 유효성 검사를 사용 설정하거나 사용 안함을 선택하여 SSL 유효성 검사를 사용 중지합니다.
전송할 Oracle 객체에서 찾아보기를 클릭하여 BigQuery 대상 데이터 세트로 전송할 테이블을 선택합니다. 데이터 전송에 포함할 객체를 이 필드에 직접 입력할 수도 있습니다.


 


대상 설정 섹션의 데이터 세트에서 데이터를 저장하기 위해 만든 데이터 세트를 선택합니다.
전송 구성 이름 섹션의 표시 이름에 데이터 전송 이름을 입력합니다.
일정 옵션 섹션에서 다음을 수행합니다.


반복 빈도 목록에서 이 데이터 전송 실행 빈도를 지정하는 옵션을 선택합니다. 커스텀 반복 빈도를 지정하려면 커스텀을 선택합니다. 주문형을 선택한 경우 수동으로 전송을 트리거 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#manually_trigger_a_transfer]하면 이 전송이 실행됩니다.
해당하는 경우 지금 시작 또는 설정 시간에 시작을 선택하고 시작 날짜와 실행 시간을 입력합니다.

선택사항: 알림 옵션 섹션에서 다음을 수행합니다.


이메일 알림을 사용 설정하려면 이메일 알림 전환 버튼을 클릭합니다. 이 옵션을 사용 설정하면 전송 실행이 실패할 때 전송 관리자에게 이메일 알림이 발송됩니다.
이 전송에 Pub/Sub 전송 실행 알림 [https://cloud.google.com/bigquery/docs/transfer-run-notifications?hl=ko]을 사용 설정하려면 Pub/Sub 알림 전환 버튼을 클릭합니다. 주제 [https://cloud.google.com/pubsub/docs/overview?hl=ko#types] 이름을 선택하거나 주제 만들기를 클릭하여 주제를 만들 수 있습니다.

저장을 클릭합니다.

--- 탭: bq [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#bq] ---
bq mk 명령어 [https://cloud.google.com/bigquery/docs/reference/bq-cli-reference?hl=ko#bq_mk]를 입력하고 전송 생성 플래그 --transfer_config를 지정합니다.

bq mk
    --transfer_config
    --project_id=PROJECT_ID
    --data_source=DATA_SOURCE
    --display_name=DISPLAY_NAME
    --target_dataset=DATASET
    --params='PARAMETERS'

각 항목의 의미는 다음과 같습니다.


PROJECT_ID(선택사항): Google Cloud 프로젝트 ID.
특정 프로젝트를 지정하는 --project_id가 입력되지 않으면 기본 프로젝트가 사용됩니다.
DATA_SOURCE: 데이터 소스 — oracle입니다.
DISPLAY_NAME: 전송 구성의 표시 이름입니다. 데이터 전송 이름은 나중에 수정해야 할 경우를 대비해 간편하게 전송을 식별할 수 있는 값이면 됩니다.
DATASET. 전송 구성의 대상 데이터 세트입니다.
PARAMETERS: JSON 형식으로 생성된 전송 구성의 매개변수. 예를 들면 --params='{"param":"param_value"}'입니다. 다음은 Oracle 데이터 전송을 위한 파라미터입니다.


connector.networkAttachment(선택사항): Oracle 데이터베이스에 연결할 네트워크 연결의 이름입니다.
connector.authentication.Username: Oracle 계정의 사용자 이름입니다.
connector.authentication.Password: Oracle 계정의 비밀번호입니다.
connector.database: Oracle 데이터베이스의 이름입니다.
connector.endpoint.host: 데이터베이스의 호스트 이름 또는 IP입니다.
connector.endpoint.port: Oracle 데이터베이스가 수신 연결에 사용하는 포트 번호(예: 1520)입니다.
connector.connectionType: 연결 URL 유형(SERVICE, SID 또는 TNS)입니다.
assets: DATABASE_NAME/SCHEMA_NAME/TABLE_NAME 형식을 사용하여 BigQuery로 전송할 Oracle 객체의 경로입니다.



예를 들어 다음 명령어는 필요한 모든 매개 변수를 사용하여 기본 프로젝트에서 Oracle 데이터 전송을 생성합니다.

bq mk
    --transfer_config
    --target_dataset=mydataset
    --data_source=oracle
    --display_name='My Transfer'
    --params='{"assets":["DB1/USER1/DEPARTMENT","DB1/USER1/EMPLOYEES"],
        "connector.authentication.username": "User1",
        "connector.authentication.password":"ABC12345",
        "connector.database":"DB1",
        "connector.endpoint.host":"192.168.0.1",
        "connector.endpoint.port":1520,
        "connector.connectionType":"SERVICE",
        "connector.networkAttachment":
        "projects/dev-project1/regions/us-central1/networkattachments/na1"}'

--- 탭: API [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#api] ---
projects.locations.transferConfigs.create [https://cloud.google.com/bigquery-transfer/docs/reference/datatransfer/rest/v1/projects.locations.transferConfigs/create?hl=ko] 메서드를 사용하고 TransferConfig [https://cloud.google.com/bigquery-transfer/docs/reference/datatransfer/rest/v1/projects.locations.transferConfigs?hl=ko#TransferConfig] 리소스의 인스턴스를 지정합니다.
데이터 유형 매핑
다음 표는 Oracle 데이터 유형을 해당하는 BigQuery 데이터 유형에 매핑합니다.
Oracle 데이터 유형 BigQuery 데이터 유형
BFILE BYTES
BINARY_DOUBLE FLOAT
BINARY_FLOAT FLOAT
BLOB BYTES
CHAR STRING
CLOB STRING
DATE DATETIME
FLOAT FLOAT
INTERVAL DAY TO SECOND STRING
INTERVAL YEAR TO MONTH STRING
LONG STRING
LONG RAW BYTES
NCHAR STRING
NCLOB STRING
NUMBER (without precision and scale) STRING
NUMBER (with precision and scale lower than the BigQuery Numeric range) NUMERIC
NUMBER (with precision and scale lower than the BigQuery BigNumeric range) BIGNUMERIC
NUMBER (with precision and scale greater than the BigQuery BigNumeric range) STRING
NVARCHAR2 STRING
RAW BYTES
ROWID STRING
TIMESTAMP DATETIME
TIMESTAMP WITH LOCAL TIME ZONE DATETIME
TIMESTAMP WITH TIME ZONE TIMESTAMP
UROWID STRING
VARCHAR STRING
VARCHAR2 STRING
전송 설정 문제 해결
데이터 전송을 설정하는 데 문제가 있으면 Oracle 전송 문제 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko#oracle-issues]를 참조하세요.
가격 책정
이 기능이 미리보기 [https://cloud.google.com/products?hl=ko#product-launch-stages] 상태인 동안에는 Oracle 데이터를 BigQuery로 전송하는 데 비용이 들지 않습니다.
다음 단계
BigQuery Data Transfer Service 개요는 BigQuery Data Transfer Service 소개 [https://cloud.google.com/bigquery/docs/dts-introduction?hl=ko] 참조하기
전송 구성 정보 가져오기, 전송 구성 나열, 전송 실행 기록 보기를 포함한 전송 사용에 대한 정보는 전송 작업 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko] 참조하기
교차 클라우드 작업으로 데이터를 로드 [https://cloud.google.com/bigquery/docs/load-data-using-cross-cloud-transfer?hl=ko]하는 방법을 알아보기
도움이 되었나요?
의견 보내기