Source URL: https://cloud.google.com/bigquery/docs/restore-deleted-datasets

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
Switch to English
BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
제한사항 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#limitations]
시작하기 전에 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#before-you-begin]
필요한 역할 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#required_roles]
데이터 세트 복원 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#restore_a_dataset]
다음 단계 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#whats_next]
삭제된 데이터 세트 복원
bookmark_border
프리뷰
이 기능에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 기능은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
참고: 이 미리보기 출시와 관련된 의견을 제공하거나 궁금한 점이 있으면 bq-dataset-undelete-feedback@google.com [mailto:bq-dataset-undelete-feedback@google.com]으로 문의하세요.
이 문서에서는 BigQuery에서 삭제된 데이터 세트를 복원 (또는 삭제 취소)하는 방법을 설명합니다.
데이터 세트를 복원하여 삭제되었을 때의 상태로 복구할 수 있습니다. 시간 이동 기간 [https://cloud.google.com/bigquery/docs/time-travel?hl=ko#time_travel] 내에 있는 데이터 세트만 복원할 수 있습니다. 이 복구에는 데이터 세트에 포함된 모든 객체, 데이터 세트 속성, 보안 설정이 포함됩니다. 복구되지 않는 리소스는 제한사항 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#limitations]을 참고하세요.
주의: 지정된 데이터 세트 ID의 가장 최근 데이터 세트만 복원할 수 있습니다. 데이터 세트를 삭제한 후 동일한 ID로 새 데이터 세트를 만들면 원래 데이터 세트를 삭제 취소할 수 없습니다. 하지만 삭제된 데이터 세트에서 특정 테이블을 복구 [https://cloud.google.com/bigquery/docs/managing-datasets?hl=ko#restore-delete-tables]할 수는 있습니다.
삭제된 테이블 또는 스냅샷 복원에 대한 자세한 내용은 다음 리소스를 참고하세요.
삭제된 테이블 복원하기 [https://cloud.google.com/bigquery/docs/restore-deleted-tables?hl=ko]
테이블 스냅샷 복원 [https://cloud.google.com/bigquery/docs/table-snapshots-restore?hl=ko]
제한사항
다음은 데이터 세트 복원과 관련된 제한사항 목록입니다.
복원된 데이터 세트에서 더 이상 존재하지 않는 보안 주 구성원을 참조할 수 있습니다.
이 작업을 실행하면 연결된 데이터 세트의 삭제된 데이터 세트에 대한 참조가 복원되지 않습니다. 구독자는 링크를 수동으로 복원하려면 다시 구독해야 합니다.
이 작업을 실행하면 비즈니스 태그가 복원되지 않습니다.
구체화된 뷰를 수동으로 새로고침 [https://cloud.google.com/bigquery/docs/materialized-views-manage?hl=ko#manual-refresh]하고 승인된 뷰 [https://cloud.google.com/bigquery/docs/authorized-views?hl=ko#authorize_a_view], 승인된 데이터 세트 [https://cloud.google.com/bigquery/docs/authorized-datasets?hl=ko#authorize_a_dataset], 승인된 루틴 [https://cloud.google.com/bigquery/docs/authorized-routines?hl=ko#authorize_routines]을 재승인해야 합니다.
논리 뷰는 직접 복원할 수 없습니다. 자세한 내용은 뷰 복원 [https://cloud.google.com/bigquery/docs/managing-views?hl=ko#restore_a_view]을 참고하세요.
BigQuery CDC 지원 테이블 [https://cloud.google.com/bigquery/docs/change-data-capture?hl=ko]은 삭제 취소된 데이터 세트의 일부로 복원될 때 백그라운드 적용 작업을 재개하지 않습니다.
승인된 리소스 (뷰, 데이터 세트, 루틴)를 삭제할 때 승인에서 삭제하는 데 최대 24시간이 소요됩니다. 따라서 삭제 후 24시간 이내에 승인된 리소스가 있는 데이터 세트를 복원하는 경우 재승인이 필요하지 않을 수 있습니다. 리소스 복원 후에는 항상 승인을 확인하는 것이 좋습니다.
시작하기 전에
삭제된 데이터 세트를 복원하는 데 필요한 Identity and Access Management (IAM) 권한이 있는지 확인합니다.
필요한 역할
삭제된 데이터 세트를 복원하는 데 필요한 권한을 얻으려면 관리자에게 프로젝트에 대한 BigQuery 사용자 [https://cloud.google.com/iam/docs/roles-permissions/bigquery?hl=ko#bigquery.user] (roles/bigquery.user) IAM 역할을 부여해 달라고 요청하세요. 역할 부여에 대한 자세한 내용은 프로젝트, 폴더, 조직에 대한 액세스 관리 [https://cloud.google.com/iam/docs/granting-changing-revoking-access?hl=ko]를 참조하세요.
이 사전 정의된 역할에는 삭제된 데이터 세트를 복원하는 데 필요한 권한이 포함되어 있습니다. 필요한 정확한 권한을 보려면 필수 권한 섹션을 펼치세요.
필수 권한
커스텀 역할 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko]이나 다른 사전 정의된 역할 [https://cloud.google.com/iam/docs/roles-overview?hl=ko#predefined]을 사용하여 이 권한을 부여받을 수도 있습니다.
데이터 세트 복원
데이터 세트를 복원하려면 다음 옵션 중 하나를 선택합니다.
--- 탭: SQL [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#sql] ---
UNDROP SCHEMA 데이터 정의 언어(DDL) 문 [https://cloud.google.com/bigquery/docs/reference/standard-sql/data-definition-language?hl=ko#undrop_schema_statement]을 사용합니다.


 Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.

BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko] 
쿼리 편집기에서 다음 문을 입력합니다.

UNDROP SCHEMA DATASET_ID;

DATASET_ID을 삭제 취소하려는 데이터 세트로 바꿉니다.
삭제 취소할 데이터 세트의 위치를 지정 [https://cloud.google.com/bigquery/docs/locations?hl=ko#specify_locations]합니다.
play_circle 실행을 클릭합니다.


쿼리를 실행하는 방법에 대한 자세한 내용은 대화형 쿼리 실행 [https://cloud.google.com/bigquery/docs/running-queries?hl=ko#queries]을 참조하세요.

--- 탭: API [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#api] ---
datasets.undelete 메서드 [https://cloud.google.com/bigquery/docs/reference/rest/v2/datasets/undelete?hl=ko]를 호출합니다.
참고: 프로젝트에 서로 다른 두 리전에서 이름이 같은 삭제된 데이터 세트 두 개가 있는 경우 BigQuery API를 사용하여 데이터 세트를 삭제 취소하면 위치를 지정하지 않는 한 무작위로 선택된 하나만 삭제 취소됩니다.
데이터 세트를 복원할 때 다음 오류가 발생할 수 있습니다.
ALREADY_EXISTS: 복원하려고 한 리전에 동일한 이름의 데이터 세트가 이미 있습니다. 삭제 취소를 사용하여 데이터 세트를 덮어쓰거나 병합할 수는 없습니다.
NOT_FOUND: 복구하려는 데이터 세트의 시간 이동 기간이 지났거나, 데이터 세트가 존재하지 않았거나, 데이터 세트의 올바른 위치를 지정 [https://cloud.google.com/bigquery/docs/locations?hl=ko#specify_locations]하지 않았습니다.
ACCESS_DENIED: 이 데이터 세트를 삭제 취소하는 데 필요한 권한 [https://cloud.google.com/bigquery/docs/restore-deleted-datasets?hl=ko#before-you-begin]이 없습니다.
다음 단계
특정 시점의 데이터를 쿼리하는 방법에 대한 자세한 내용은 이전 데이터 액세스 [https://cloud.google.com/bigquery/docs/access-historical-data?hl=ko]를 참고하세요.
데이터 보관에 대한 자세한 내용은 시간 이동 및 장애 안전을 통해 데이터 보관 [https://cloud.google.com/bigquery/docs/time-travel?hl=ko]을 참고하세요.
데이터 세트를 삭제하는 방법에 대한 자세한 내용은 데이터 세트 관리 [https://cloud.google.com/bigquery/docs/managing-datasets?hl=ko]를 참고하세요.
도움이 되었나요?
의견 보내기