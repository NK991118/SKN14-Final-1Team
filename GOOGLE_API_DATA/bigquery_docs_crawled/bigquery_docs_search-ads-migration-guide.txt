Source URL: https://cloud.google.com/bigquery/docs/search-ads-migration-guide

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
Search Ads 360의 새로운 소식 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#whats-new]
계정 구조 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#account_structure]
ID 공간 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#id_space]
리소스 기반 보고 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#resource-based_reporting]
전송 구성 마이그레이션 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#migrate_transfer_configurations]
매핑 정보 검토 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#review_mapping_information]
보고서 매핑 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#report_mapping]
필드 매핑 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#field_mapping]
Search Ads 360 마이그레이션 가이드
bookmark_border
Search Ads 360 커넥터(구 Doubleclick Search)는 새로운 Search Ads 360 Reporting API [https://developers.google.com/search-ads/reporting/overview?hl=ko]를 사용합니다. 이전 Search Ads 360 Reporting API [https://developers.google.com/search-ads/v2/how-tos/reporting?hl=ko]는 더 이상 지원되지 않으므로 새 Search Ads 360 Reporting API와 호환되도록 BigQuery Data Transfer Service 워크플로를 마이그레이션해야 합니다. 이 문서에서는 이전 Search Ads 360과 비교하여 새 Search Ads 360의 변경사항을 보여주고 기존 리소스를 새 Search Ads 360으로 마이그레이션하기 위한 매핑 정보를 제공합니다.
Search Ads 360의 새로운 소식
새로운 Search Ads 360 Reporting API는 기존 BigQuery Data Transfer Service 워크플로에 영향을 줄 수 있는 몇 가지 변경사항을 제공합니다.
계정 구조
새 Search Ads 360 Reporting API는 계정을 관리자 계정, 하위 관리자 계정, 고객 계정의 계층 구조로 구성합니다. 자세한 내용은 계정 계층 구조 차이점 [https://support.google.com/sa360/answer/13633455?hl=ko] 및 관리자 계정 정보 [https://support.google.com/sa360/answer/9158072?hl=ko]를 참조하세요.
ID 공간
새 Search Ads 360의 항목은 이전 버전의 Search Ads 360과 다른 ID 공간 [https://developers.google.com/search-ads/v2/how-tos/reporting/id-mapping?hl=ko] 매핑을 사용합니다. 이전 ID와 새 ID 간 매핑에 관한 자세한 내용은 ID 매핑 [https://cloud.google.com/bigquery/docs/search-ads-migration-guide?hl=ko#id_mapping]을 참조하세요.
리소스 기반 보고
리소스 기반 데이터 모델을 사용하는 이전 Search Ads 360 API와 달리, 새 Search Ads 360 API 데이터 모델은 리소스 기반 데이터 모델을 사용합니다. 새 Search Ads 360 API 커넥터는 Search Ads 360에서 리소스 [https://developers.google.com/search-ads/reporting/concepts/api-structure?hl=ko#resources]를 쿼리하여 BigQuery 테이블을 만듭니다. 새 Search Ads 360 API의 리소스 구조에 관한 자세한 내용은 Search Ads 360 Reporting API 구조 [https://developers.google.com/search-ads/reporting/concepts/api-structure?hl=ko]를 참조하세요.
전송 구성 마이그레이션
기존 Search Ads 360 전송 구성을 새 Search Ads 360 Reporting API로 자동으로 변환하는 방법은 없습니다. 새 Search Ads 360 Reporting API를 데이터 소스로 사용하여 새 Search Ads 360 데이터 전송을 만들어야 [https://cloud.google.com/bigquery/docs/search-ads-transfer?hl=ko#setup-data-transfer] 합니다.
매핑 정보 검토
기존 Search Ads 360 리소스를 새 Search Ads 360 Reporting API에 매핑하려면 다음 매핑 정보를 검토하세요.
보고서 매핑
새 Search Ads 360 보고서는 리소스를 기반으로 하며 이전 Search Ads 360의 보고서와 구조가 다릅니다. 이전 보고서와 새 보고서의 전체 매핑은 Search Ads 360 Reporting API의 보고서 매핑 [https://developers.google.com/search-ads/reporting/migrate/mappings/report-mappings?hl=ko]을 참wh하세요.
다음 표는 BigQuery Data Transfer Service에서 지원하는 테이블과 테이블을 생성하기 위해 쿼리되는 리소스가 나와 있습니다.
기존 검색 광고 보고서 새 검색 광고 리소스 새 BigQuery 테이블 이름
adGroup [https://developers.google.com/search-ads/v2/report-types/adGroup?hl=ko] ad_group [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/ad_group?hl=ko] p_sa_AdGroupStats_customer_id
p_sa_AdGroup_customer_id
p_sa_AdGroupDeviceStats_customer_id
p_sa_AdGroupConversionActionAndDeviceStats_customer_id
ad [https://developers.google.com/search-ads/v2/report-types/ad?hl=ko] ad_group_ad [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/ad_group_ad?hl=ko] p_sa_AdConversionActionAndDeviceStats_customer_id
p_sa_AdDeviceStats_customer_id
p_sa_Ad_customer_id
해당 사항 없음 ad_group_asset [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/ad_group_asset?hl=ko] p_sa_AdGroupAssetStats_customer_id
p_sa_AdGroupConversionActionAndAssetStats_customer_id
해당 사항 없음 ad_group_asset_set [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/ad_group_asset_set?hl=ko] p_sa_AdGroupAssetSet_customer_id
adGroupTarget [https://developers.google.com/search-ads/v2/report-types/adGroupTarget?hl=ko] ad_group_audience_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/ad_group_audience_view?hl=ko] p_sa_AdGroupAudienceDeviceStats_customer_id
p_sa_AdGroupAudienceConversionActionAndDeviceStats_customer_id
adGroupTarget [https://developers.google.com/search-ads/v2/report-types/adGroupTarget?hl=ko] ad_group_criterion [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/ad_group_criterion?hl=ko] p_sa_NegativeAdGroupCriterion_customer_id
p_sa_NegativeAdGroupKeyword_customer_id
p_sa_AdGroupCriterion_customer_id
adGroupTarget [https://developers.google.com/search-ads/v2/report-types/adGroupTarget?hl=ko] age_range_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/age_range_view?hl=ko] p_sa_AgeRangeDeviceStats_customer_id
p_sa_AgeRangeConversionActionAndDeviceStats_customer_id
해당 사항 없음 asset [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/asset?hl=ko] p_sa_Asset_customer_id
bidStrategy [https://developers.google.com/search-ads/v2/report-types/bidStrategy?hl=ko] bidding_strategy [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/bidding_strategy?hl=ko] p_sa_BidStrategy_customer_id
p_sa_BidStrategyStats_customer_id
campaign [https://developers.google.com/search-ads/v2/report-types/campaign?hl=ko] campaign [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/campaign?hl=ko] p_sa_CampaignConversionActionAndDeviceStats_customer_id
p_sa_Campaign_customer_id
p_sa_CampaignDeviceStats_customer_id
p_sa_CampaignStats_customer_id
해당 사항 없음 campaign_asset [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/campaign_asset?hl=ko] p_sa_CampaignAssetStats_customer_id
p_sa_CampaignConversionActionAndAssetStats_customer_id
해당 사항 없음 campaign_asset_set [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/campaign_asset_set?hl=ko] p_sa_CampaignAssetSet_customer_id
campaignTarget [https://developers.google.com/search-ads/v2/report-types/campaignTarget?hl=ko] campaign_audience_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/campaign_audience_view?hl=ko] p_sa_CampaignAudienceConversionActionAndDeviceStats_customer_id
p_sa_CampaignAudienceDeviceStats_customer_id
campaignTarget [https://developers.google.com/search-ads/v2/report-types/campaignTarget?hl=ko] campaign_criterion [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/campaign_criterion?hl=ko] p_sa_CampaignCriterion_customer_id
p_sa_NegativeCampaignKeyword_customer_id
p_sa_NegativeCampaignCriterion_customer_id
productLeadAndCrossSell [https://developers.google.com/search-ads/v2/report-types/productLeadAndCrossSell?hl=ko] cart_data_sales_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/cart_data_sales_view?hl=ko] p_sa_CartDataSalesStats_customer_id
conversion [https://developers.google.com/search-ads/v2/report-types/conversion?hl=ko] conversion [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/conversion?hl=ko] p_sa_Conversion_customer_id
floodlightActivity [https://developers.google.com/search-ads/v2/report-types/floodlightActivity?hl=ko] conversion_action [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/conversion_action?hl=ko] p_sa_ConversionAction_customer_id
account [https://developers.google.com/search-ads/v2/report-types/account?hl=ko] customer [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/customer?hl=ko] p_sa_Account_customer_id
p_sa_AccountDeviceStats_customer_id
p_sa_AccountConversionActionAndDeviceStats_customer_id
p_sa_AccountStats_customer_id
해당 사항 없음 customer_asset [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/customer_asset?hl=ko] p_sa_CustomerAssetStats_customer_id
p_sa_CustomerConversionActionAndAssetStats_customer_id
해당 사항 없음 customer_asset_set [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/customer_asset_set?hl=ko] p_sa_CustomerAssetSet_customer_id
adGroupTarget [https://developers.google.com/search-ads/v2/report-types/adGroupTarget?hl=ko] gender_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/gender_view?hl=ko] p_sa_GenderDeviceStats_customer_id
p_sa_GenderConversionActionAndDeviceStats_customer_id
keyword [https://developers.google.com/search-ads/v2/report-types/keyword?hl=ko] keyword_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/keyword_view?hl=ko] p_sa_Keyword_customer_id
p_sa_KeywordDeviceStats_customer_id
p_sa_KeywordStats_customer_id
p_sa_KeywordConversionActionAndDeviceStats_customer_id
adGroupTarget [https://developers.google.com/search-ads/v2/report-types/adGroupTarget?hl=ko] location_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/location_view?hl=ko] p_sa_LocationDeviceStats_customer_id
p_sa_LocationConversionActionAndDeviceStats_customer_id
productAdvertised [https://developers.google.com/search-ads/v2/report-types/productAdvertised?hl=ko] shopping_performance_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/shopping_performance_view?hl=ko] p_sa_ProductAdvertised_customer_id
p_sa_ProductAdvertisedConversionActionAndDeviceStats_customer_id
p_sa_ProductAdvertisedDeviceStats_customer_id
productGroup [https://developers.google.com/search-ads/v2/report-types/productGroup?hl=ko] product_group_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/product_group_view?hl=ko] p_sa_ProductGroupStats_customer_id
p_sa_ProductGroup_customer_id
visit [https://developers.google.com/search-ads/v2/report-types/visit?hl=ko] visit [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/visit?hl=ko] p_sa_Visit_customer_id
adGroupTarget [https://developers.google.com/search-ads/v2/report-types/adGroupTarget?hl=ko] webpage_view [https://developers.google.com/search-ads/reporting/api/reference/fields/v0/webpage_view?hl=ko] p_sa_WebpageDeviceStats_customer_id
p_sa_WebpageConversionActionAndDeviceStats_customer_id
필드 매핑
BigQuery Data Transfer Service는 Search Ads 360 보고서 변환 [https://cloud.google.com/bigquery/docs/search-ads-transformation?hl=ko]에 나열된 Search Ads 360 보고서 필드의 하위 집합을 지원합니다. BigQuery는 열 이름에 .를 지원하지 않으므로 전송된 모든 보고서는 .을 _로 바꿉니다. 예를 들어 Search Ads 360 리소스의 ad_group_ad.ad.text_ad.description1 필드는 BigQuery에 ad_group_ad_ad_text_ad_description1로 전송됩니다.
ID 매핑
고객, 캠페인, 광고 그룹 등 새 Search Ads 360의 항목은 이전 Search Ads 360과 ID 공간 [https://developers.google.com/search-ads/v2/how-tos/reporting/id-mapping?hl=ko]이 다릅니다. 새 Search Ads 360의 ID 매핑 테이블에 관한 자세한 내용은 ID 매핑 테이블 [https://cloud.google.com/bigquery/docs/search-ads-transfer?hl=ko#id-mapping]을 참조하세요.
마이그레이션된 쿼리의 예
다음 예시는 새 Search Ads 360 Reporting API에 매핑되기 전후의 BigQuery 쿼리 모습을 보여줍니다.
이전 Search Ads 360 Reporting API를 사용하여 지난 30일 동안의 검색 광고 캠페인 실적을 분석하는 다음 예시 쿼리를 살펴보세요.
SELECT
  c.accountId,
  c.campaign,
  C.status,
  SUM(cs.impr) AS Impressions,
  SUM(cs.clicks) AS Clicks,
  (SUM(cs.cost) / 1000000) AS Cost
FROM
  `previous_dataset.Campaign_advertiser_id` c
LEFT JOIN
  `previous_dataset.CampaignStats_advertiser_id` cs
ON
  (c.campaignId = cs.campaignId
  AND cs._DATA_DATE BETWEEN
  DATE_ADD(CURRENT_DATE(), INTERVAL -31 DAY) AND DATE_ADD(CURRENT_DATE(), INTERVAL -1 DAY))
WHERE
  c._DATA_DATE = c._LATEST_DATE
GROUP BY
  1, 2, 3
ORDER BY
  Impressions DESC
새 Search Ads 360 Reporting API와 호환되도록 매핑하면 동일한 쿼리가 다음과 같이 변환됩니다.
SELECT
  c.customer_id,
  c.campaign_name,
  C.campaign_status,
  SUM(cs.metrics_impressions) AS Impressions,
  SUM(cs.metrics_clicks) AS Clicks,
  (SUM(cs.metrics_cost_micros) / 1000000) AS Cost
FROM
  `new_dataset.sa_Campaign_customer_id` c
LEFT JOIN
  `new_dataset.sa_CampaignStats_customer_id` cs
ON
  (c.campaign_id = cs.campaign_id
  AND cs._DATA_DATE BETWEEN
  DATE_ADD(CURRENT_DATE(), INTERVAL -31 DAY) AND DATE_ADD(CURRENT_DATE(), INTERVAL -1 DAY))
WHERE
  c._DATA_DATE = c._LATEST_DATE
GROUP BY
  1, 2, 3
ORDER BY
  Impressions DESC
새 Search Ads 360과 호환되는 더 많은 쿼리 예시는 쿼리 예시 [https://cloud.google.com/bigquery/docs/search-ads-transfer?hl=ko#example_queries]를 참고하세요.
다음 단계
Search Ads 360에서 반복되는 로드 작업을 예약하고 관리하는 방법은 Search Ads 360 전송 [https://cloud.google.com/bigquery/docs/search-ads-transfer?hl=ko] 참조하기
Search Ads 360 보고서를 변환하는 방법은 Search Ads 360 보고서 변환 [https://cloud.google.com/bigquery/docs/search-ads-transformation?hl=ko] 참조하기
도움이 되었나요?
의견 보내기