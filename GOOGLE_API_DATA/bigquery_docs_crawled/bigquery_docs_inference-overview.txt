Source URL: https://cloud.google.com/bigquery/docs/inference-overview

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
일괄 예측 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#prediction]
BigQuery ML에서 학습된 모델을 사용한 추론 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#bqml-models]
가져온 모델을 사용한 추론 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#inference_using_imported_models]
원격 모델을 사용한 추론 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#inference_using_remote_models]
Vertex AI에서 BigQuery 모델을 사용한 일괄 추론 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#batch_bqml_vertex]
온라인 예측 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#online_prediction]
다음 단계 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#whats_next]
모델 추론 개요
bookmark_border
이 문서에서는 BigQuery ML에서 지원하는 일괄 추론 유형을 설명하며, 포함되는 유형은 아래와 같습니다.
일괄 예측 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#prediction]
온라인 예측 [https://cloud.google.com/bigquery/docs/inference-overview?hl=ko#online_prediction]
머신러닝 추론은 단일 숫자 점수와 같은 출력을 계산하기 위해 머신러닝 모델에서 데이터 포인트를 실행하는 프로세스입니다. 이러한 프로세스를 가리켜 '머신러닝 모델을 운용'하거나 '머신러닝 모델을 프로덕션에 배치'한다고도 말합니다.
일괄 예측
다음 섹션에서는 BigQuery ML에서 예측을 수행하는 데 사용 가능한 방법을 설명합니다.
BigQuery ML에서 학습된 모델을 사용한 추론
BigQuery ML의 예측(Prediction)은 지도 학습 모델뿐만 아니라 비지도 학습 모델에도 사용됩니다.
BigQuery ML은 다음 모델과 함께 ML.PREDICT 함수 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-predict?hl=ko]를 통해 Prediction 기능을 지원합니다.
모델 카테고리 모델 유형 ML.PREDICT [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-predict?hl=ko]의 역할
지도 학습 선형 및 로지스틱 회귀 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-glm?hl=ko]

부스티드 트리 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-boosted-tree?hl=ko]

랜덤 포레스트 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-random-forest?hl=ko]

심층신경망 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-dnn-models?hl=ko]

와이드 앤 딥 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-wnd-models?hl=ko]

AutoML Tables [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-automl?hl=ko] 회귀 태스크의 숫자 값 또는 분류 태스크의 범주형 값으로 된 라벨을 예측합니다.
비지도 학습 k-평균 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-kmeans?hl=ko] 클러스터를 항목에 할당합니다.
PCA [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-pca?hl=ko] 항목을 고유 벡터가 차지하는 공간으로 변환하여 항목에 차원 축소를 적용합니다.
Autoencoder [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-autoencoder?hl=ko] 항목을 임베딩 공간으로 변환합니다.
가져온 모델을 사용한 추론
이 접근 방식에서는 BigQuery 외부에서 모델을 만들어 학습시키고 CREATE MODEL 문 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create?hl=ko]을 사용해 가져온 후 ML.PREDICT 함수 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-predict?hl=ko]를 사용해 이에 대한 추론을 실행합니다. 모든 추론 처리는 BigQuery의 데이터를 사용하여 BigQuery에서 수행됩니다. 가져온 모델은 지도 학습 또는 비지도 학습을 수행할 수 있습니다.
BigQuery ML은 다음 유형의 가져온 모델을 지원합니다.
PyTorch, scikit-learn, 기타 널리 사용되는 ML 프레임워크에서 학습된 모델에 대한 개방형 신경망 교환(ONNX) [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-onnx?hl=ko]
TensorFlow [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-tensorflow?hl=ko]
TensorFlow Lite [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-tflite?hl=ko]
XGBoost [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-xgboost?hl=ko]
이 접근방식을 사용하여 다양한 ML 프레임워크로 개발된 커스텀 모델을 활용하는 동시에 BigQuery ML의 추론 속도와 데이터의 공동 배치를 활용할 수 있습니다.
자세한 내용은 다음 튜토리얼 중 하나를 참조하세요.
가져온 TensorFlow 모델로 Prediction 수행 [https://cloud.google.com/bigquery/docs/making-predictions-with-imported-tensorflow-models?hl=ko]
ONNX 형식의 scikit-learn 모델로 Prediction 수행 [https://cloud.google.com/bigquery/docs/making-predictions-with-sklearn-models-in-onnx-format?hl=ko]
ONNX 형식의 PyTorch 모델로 Prediction 수행 [https://cloud.google.com/bigquery/docs/making-predictions-with-pytorch-models-in-onnx-format?hl=ko]
원격 모델을 사용한 추론
이 접근 방식에서는 CREATE MODEL 문 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create-remote-model?hl=ko]을 사용해 Vertex AI Inference [https://cloud.google.com/vertex-ai/docs/predictions/get-predictions?hl=ko]에서 호스팅되는 모델에 대한 추론을 만든 후 ML.PREDICT 함수 [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-predict?hl=ko]를 사용해 이에 대한 추론을 실행합니다. 모든 추론 처리는 BigQuery의 데이터를 사용하여 Vertex AI에서 수행됩니다. 원격 모델은 지도 학습 또는 비지도 학습을 수행할 수 있습니다.
이 접근 방식을 사용하면 Vertex AI에서 제공하는 GPU 하드웨어 지원이 필요한 대규모 모델에 대해 추론을 실행할 수 있습니다. 대부분의 모델이 Vertex AI에서 호스팅되는 경우 데이터를 Vertex AI로 가져오고 예측 결과를 다시 BigQuery로 가져오는 데이터 파이프라인을 수동으로 빌드하지 않고도 SQL을 사용하여 이러한 모델에 대한 추론을 실행할 수도 있습니다.
단계별 안내는 Vertex AI에서 원격 모델로 Prediction 수행 [https://cloud.google.com/bigquery/docs/bigquery-ml-remote-model-tutorial?hl=ko]을 참조하세요.
Vertex AI에서 BigQuery 모델을 사용한 일괄 추론
BigQuery ML에는 Vertex AI를 사용할 필요 없이 일괄 예측을 지원하는 기본 기능이 있습니다. BigQuery 테이블을 입력으로 사용하여 Vertex AI에서 일괄 예측을 실행하기 위해 BigQuery ML 모델을 Model Registry에 등록할 수도 있습니다. 하지만 Vertex AI API를 사용하고 InstanceConfig.instanceType [https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.batchPredictionJobs?hl=ko#instanceconfig]을 object로 설정해야만 이 작업을 할 수 있습니다.
온라인 예측
BigQuery ML의 기본 제공 추론 기능은 일괄 예측과 같은 대규모 사용 사례에 최적화되어 있습니다. BigQuery ML은 소량 입력 데이터를 처리할 때 추론 결과를 제공하기까지 지연 시간이 짧지만, Vertex AI [https://cloud.google.com/bigquery/docs/managing-models-vertex?hl=ko]와 원활하게 통합하면 온라인 예측을 더 빠르게 수행할 수 있습니다.
Vertex AI 환경 내에서 BigQuery ML 모델을 관리 [https://cloud.google.com/bigquery/docs/managing-models-vertex?hl=ko]할 수 있습니다. 이렇게 하면 Vertex AI 엔드포인트로 모델을 배포하기 전에 BigQuery ML에서 모델을 내보낼 필요가 없습니다. Vertex AI 내에서 모델을 관리하면 모든 Vertex AI MLOps 기능과 Vertex AI Feature Store [https://cloud.google.com/vertex-ai/docs/featurestore/latest/overview?hl=ko]와 같은 기능에 액세스할 수 있습니다.
또한 다른 모델 호스팅 플랫폼에서 사용할 수 있도록 Cloud Storage로 BigQuery ML 모델을 내보낼 [https://cloud.google.com/bigquery/docs/exporting-models?hl=ko] 수 있는 유연성이 생깁니다.
다음 단계
Vertex AI 모델을 사용하여 텍스트 및 임베딩을 생성하는 방법에 대한 자세한 내용은 생성형 AI 개요 [https://cloud.google.com/bigquery/docs/generative-ai-overview?hl=ko]를 참조하세요.
Cloud AI API를 사용하여 AI 태스크를 수행하는 방법에 대한 자세한 내용은 AI 애플리케이션 개요 [https://cloud.google.com/bigquery/docs/ai-application-overview?hl=ko]를 참조하세요.
각 추론 유형에 대해 지원되는 모델 유형 및 SQL 함수에 대한 자세한 내용은 각 모델의 엔드 투 엔드 사용자 경험 [https://cloud.google.com/bigquery/docs/e2e-journey?hl=ko]을 참조하세요.
도움이 되었나요?
의견 보내기