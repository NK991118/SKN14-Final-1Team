Source URL: https://cloud.google.com/bigquery/docs/export-file

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
쿼리 결과를 로컬 파일에 다운로드 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#download_query_results_to_a_local_file]
쿼리 결과를 Google Drive에 저장 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#saving-query-results-to-drive]
쿼리 결과를 Google Sheets에 저장 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#save-query-results-to-google-sheets]
파일 내보내기 문제 해결 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#troubleshoot_file_exports]
다음 단계 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#whats_next]
쿼리 결과를 파일로 내보내기
bookmark_border
이 문서에서는 쿼리 결과를 CSV 또는 JSON과 같은 파일로 저장하는 방법을 설명합니다.
쿼리 결과를 로컬 파일에 다운로드
bq 명령줄 도구나 API를 사용하여 쿼리 결과를 로컬 파일에 다운로드할 수 없습니다.
쿼리 결과를 CSV 또는 줄바꿈으로 구분된 JSON 파일로 다운로드하려면Google Cloud 콘솔을 사용합니다.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 BigQuery 페이지를 엽니다.

BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko] 
새 쿼리 작성을 클릭합니다.
쿼리 편집기 텍스트 영역에 유효한 GoogleSQL 쿼리를 입력합니다.
(선택사항) 처리 위치를 변경하려면 더보기를 클릭하고 쿼리 설정을 선택합니다. 데이터 위치에서 해당 데이터의 위치 [https://cloud.google.com/bigquery/docs/locations?hl=ko]를 선택합니다.
실행을 클릭합니다.
결과가 반환되면 결과 저장을 클릭하고 결과를 저장할 형식 또는 위치를 선택합니다.

브라우저의 기본 다운로드 위치로 파일이 다운로드됩니다.
쿼리 결과를 Google Drive에 저장
베타
이 기능에는 서비스별 약관 [https://cloud.google.com/terms/service-terms?hl=ko#1]의 일반 서비스 약관 섹션에 있는 'GA 이전 제공 서비스 약관'이 적용됩니다. GA 이전 기능은 '있는 그대로' 제공되며 지원이 제한될 수 있습니다. 자세한 내용은 출시 단계 설명 [https://cloud.google.com/products?hl=ko#product-launch-stages]을 참조하세요.
쿼리 결과를 Google Drive에 저장하는 것은 bq 명령줄 도구나 API에서 지원하지 않습니다.
BigQuery 결과를 Google Drive에 저장하려고 하면 오류가 발생할 수 있습니다. 이 오류는 Drive SDK API가 Google Workspace에 액세스할 수 없기 때문에 발생합니다. 이 문제를 해결하려면 Drive SDK API로 Google Drive에 액세스 [https://support.google.com/a/answer/6105699?hl=ko]할 수 있도록 사용자 계정을 설정해야 합니다.
쿼리 결과를 Google Drive에 저장하려면 Google Cloud 콘솔을 사용합니다.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 BigQuery 페이지를 엽니다.

BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko] 
쿼리 편집기 텍스트 영역에 유효한 GoogleSQL 쿼리를 입력합니다.
실행을 클릭합니다.
결과가 반환되면 결과 저장을 클릭합니다.


 

CSV(Google 드라이브) 또는 JSON(Google 드라이브)을 선택합니다. 결과를 Google 드라이브에 저장할 때는 위치를 선택할 수 없습니다. 결과는 항상 루트 '내 드라이브' 위치에 저장됩니다.
결과를 Google 드라이브에 저장하는 데 몇 분 정도 걸릴 수 있습니다. 결과가 저장되면 파일 이름 bq-results-[TIMESTAMP]-[RANDOM_CHARACTERS].[CSV or JSON]이 포함된 대화상자 메시지가 수신됩니다.


 

대화상자 메시지에서 열기를 클릭하여 파일을 열거나 Google Drive로 이동한 후 내 드라이브를 클릭합니다.
쿼리 결과를 Google Sheets에 저장
결과를 Google Sheets에 저장하는 기능은 bq 명령줄 도구나 API에서 지원되지 않습니다.
Google Sheets에서 BigQuery 결과를 열려고 하면 오류가 발생할 수 있습니다. 이 오류는 Drive SDK API가 Google Workspace에 액세스할 수 없기 때문에 발생합니다. 이 문제를 해결하려면 Drive SDK API로 Google Sheets에 액세스 [https://support.google.com/a/answer/6105699?hl=ko]할 수 있도록 사용자 계정을 사용 설정해야 합니다.
쿼리 결과를 Google Sheets에 저장하려면 Google Cloud 콘솔을 사용합니다.
--- 탭: 콘솔 [https://cloud.google.com/bigquery/docs/export-file?hl=ko#%EC%BD%98%EC%86%94] ---
Google Cloud 콘솔에서 BigQuery 페이지를 엽니다.

BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko] 
새 쿼리 작성을 클릭합니다.
쿼리 편집기 텍스트 영역에 유효한 GoogleSQL 쿼리를 입력합니다.
(선택사항) 처리 위치를 변경하려면 더보기를 클릭하고 쿼리 설정을 선택합니다. 데이터 위치에서 해당 데이터의 위치 [https://cloud.google.com/bigquery/docs/locations?hl=ko]를 선택합니다.
실행을 클릭합니다.
결과가 반환되면 결과 저장을 클릭하고 Google 스프레드시트를 선택합니다.
필요한 경우 메시지를 따라 사용자 계정에 로그인하고 허용을 클릭하여 Google Drive MY Drive 폴더에 데이터를 쓸 수 있는 권한을 BigQuery에 부여합니다.

프롬프트에 따라 진행하면 BigQuery 클라이언트 도구가 사용자 계정에 연결되었음을 확인하는 이메일이 전송됩니다. 이메일에는 개발자가 부여한 권한과 권한 삭제 단계에 대한 정보가 있습니다.
결과가 저장되면 Google Cloud 콘솔의 쿼리 결과 아래에 Saved to Sheets as
"results-20190225-103531. Open과 비슷한 메시지가 표시됩니다. 메시지에 있는 링크를 클릭하여 Google Sheets에서 결과를 보거나 My Drive 폴더로 이동하여 수동으로 파일을 엽니다.

쿼리 결과를 Google Sheets에 저장하면 파일 이름이 results-[DATE]로 시작됩니다. 여기에서 [DATE]는 YYYYMMDD 형식의 오늘 날짜입니다.

참고: 결과를 Google Sheets에 저장하는 기능은 bq 명령줄 도구나 API에서 지원되지 않습니다. 자세한 내용은 연결된 시트 사용 [https://cloud.google.com/bigquery/docs/connected-sheets?hl=ko]을 참조하세요.
파일 내보내기 문제 해결
BigQuery에서 Google Sheets로 데이터를 내보낼 때 시트의 일부 셀이 비어 있을 수 있습니다. 이 문제는 셀에 쓰는 데이터가 Google Sheets 한도인 50,000자를 초과할 때 발생합니다. 이 문제를 해결하려면 GoogleSQL 쿼리에서 문자열 함수 [https://cloud.google.com/bigquery/docs/reference/standard-sql/string_functions?hl=ko#split]를 사용하여 long 데이터가 있는 열을 2개 이상의 열로 분할한 후 결과를 시트에 다시 저장하세요.
다음 단계
프로그래매틱 방식으로 테이블을 JSON 파일로 내보내는 [https://cloud.google.com/bigquery/docs/samples/bigquery-extract-table-json?hl=ko] 방법 알아보기
내보내기 작업의 할당량 [https://cloud.google.com/bigquery/quotas?hl=ko#export_jobs] 알아보기
BigQuery 스토리지 가격 책정 [https://cloud.google.com/bigquery/pricing?hl=ko#storage] 알아보기
도움이 되었나요?
의견 보내기