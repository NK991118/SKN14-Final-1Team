Source URL: https://cloud.google.com/bigquery/docs/saved-queries-introduction

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
저장된 쿼리 보안 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#saved_query_security]
지원되는 리전 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#supported_regions]
할당량 및 한도 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#quotas_and_limits]
제한사항 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#limitations]
기존 저장된 쿼리 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#classic_saved_queries]
기존 저장된 쿼리 지원 중단 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#classic-saved-queries-deprecation]
다음 단계 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#whats_next]
저장된 쿼리 소개
bookmark_border
이 문서에서는 BigQuery의 저장된 쿼리를 소개합니다. 저장된 쿼리를 사용하여 SQL 스크립트를 만들고 관리할 수 있습니다. 저장된 쿼리의 변경사항은 자동으로 저장되므로 쿼리 편집기를 닫을 때 작업 내용을 잃지 않습니다. 저장된 쿼리는 다음 옵션을 통해 공동작업 및 쿼리 관리를 개선합니다.
Identity and Access Management(IAM)를 사용하여 특정 사용자 및 그룹과 저장된 쿼리 공유 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko#share-saved-query]
쿼리 버전 기록 검토
이전 버전의 쿼리로 되돌리거나 브랜치 만들기
저장된 쿼리는 Dataform [https://cloud.google.com/bigquery/docs/query-overview?hl=ko#bigquery-studio]으로 구동되는 BigQuery Studio [https://cloud.google.com/dataform/docs/overview?hl=ko] 코드 애셋입니다. 노트북 [https://cloud.google.com/bigquery/docs/notebooks-introduction?hl=ko]도 코드 애셋입니다. 모든 코드 애셋은 기본 리전 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#supported_regions]에 저장됩니다. 기본 리전을 업데이트하면 해당 시점 이후에 생성된 모든 코드 애셋의 리전이 변경됩니다.
저장된 쿼리 기능은 Google Cloud 콘솔에서만 사용할 수 있습니다.
저장된 쿼리 보안
Identity and Access Management(IAM) 역할을 사용하여 저장된 쿼리에 대한 액세스를 제어합니다. 자세한 내용은 저장된 쿼리 공유 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko#share-saved-query]를 참조하세요.
지원되는 리전
BigQuery Studio를 사용하면 저장된 쿼리를 저장, 공유, 관리할 수 있습니다. 다음 표에는 BigQuery Studio를 사용할 수 있는 리전이 나와 있습니다.
리전 설명 리전 이름 세부정보
아프리카
요하네스버그 africa-south1
미주
콜럼버스 us-east5
Dallas us-south1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
아이오와 us-central1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
로스앤젤레스 us-west2
라스베이거스 us-west4
몬트리올 northamerica-northeast1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
북 버지니아 us-east4
오리건 us-west1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
상파울루 southamerica-east1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
사우스캐롤라이나 us-east1
아시아 태평양
홍콩 asia-east2
자카르타 asia-southeast2
뭄바이 asia-south1
서울 asia-northeast3
싱가포르 asia-southeast1
시드니 australia-southeast1
타이완 asia-east1
도쿄 asia-northeast1
유럽
벨기에 europe-west1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
프랑크푸르트 europe-west3
런던 europe-west2 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
마드리드 europe-southwest1 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
네덜란드 europe-west4 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
토리노 europe-west12
취리히 europe-west6 낮은 CO2 [https://cloud.google.com/sustainability/region-carbon?hl=ko#region-picker]
중동
도하 me-central1
Dammam me-central2
할당량 및 한도
자세한 내용은 저장된 쿼리 할당량 및 제한 [https://cloud.google.com/bigquery/quotas?hl=ko#saved_query_limits]을 참조하세요.
제한사항
저장된 쿼리에는 다음과 같은 제한사항이 있습니다.
allAuthenticatedUsers [https://cloud.google.com/iam/docs/principals-overview?hl=ko#all-authenticated-users] 주 구성원에게만 저장된 쿼리에 대한 공개 액세스 권한을 부여 [https://cloud.google.com/bigquery/docs/manage-saved-queries?hl=ko#grant-public-access]할 수 있습니다. allUsers [https://cloud.google.com/iam/docs/principals-overview?hl=ko#all-users] 주 구성원에게는 저장된 쿼리에 대한 액세스 권한을 부여할 수 없습니다.
Google Cloud 프로젝트에 기존 저장된 쿼리가 2,500개를 초과하는 경우 일괄 마이그레이션 [https://cloud.google.com/bigquery/docs/manage-saved-queries?hl=ko#migrate_classic_saved_queries]을 사용하여 기존 저장된 쿼리를 저장된 쿼리로 마이그레이션할 수 없습니다.
기존 저장된 쿼리
지원 중단: BigQuery Studio [https://cloud.google.com/bigquery/docs/enable-assets?hl=ko]에서 제공하는 저장된 쿼리로 향후 기존 저장된 쿼리를 완전히 대체할 예정입니다. 지원 중단 타임라인을 검토하는 중입니다. 자세한 내용은 기존 저장된 쿼리의 지원 중단 [https://cloud.google.com/bigquery/docs/saved-queries-introduction?hl=ko#classic-saved-queries-deprecation]을 참조하세요. 저장된 쿼리로 마이그레이션하는 방법은 기존 저장된 쿼리 마이그레이션 [https://cloud.google.com/bigquery/docs/manage-saved-queries?hl=ko#migrate_classic_saved_queries]을 참조하세요.
기존 저장된 쿼리는 SQL 쿼리를 저장하고 공유하기 위해 이전에 사용하던 방법입니다. 기존 저장된 쿼리는 쿼리 텍스트를 제공하며, 기존 저장된 쿼리로 유지되는 유일한 쿼리 설정은 SQL 버전입니다. 이 설정은 쿼리가 legacy SQL 또는 GoogleSQL을 사용하는지 여부를 제어합니다. 데이터를 쿼리하려면 사용자에게 저장된 쿼리가 액세스하는 데이터에 대한 액세스 권한이 있어야 합니다.
탐색기 창의 (기존)쿼리 폴더에서 기존 저장된 쿼리를 확인할 수 있습니다.
참고: BigQuery Studio를 사용 설정하지 않은 경우 기존 저장된 쿼리가 (기존)쿼리 폴더 대신 탐색기 창의 저장된 쿼리(NUMBER) 폴더에 표시됩니다.
저장된 기본 쿼리의 유형은 3가지입니다.
개인을 선택합니다. 쿼리를 만드는 사용자만 기존 저장된 개인 쿼리를 볼 수 있습니다. person 아이콘으로 식별됩니다.
프로젝트 수준. 프로젝트 수준의 저장된 쿼리는 필요한 권한 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko#required_permissions_for_classic_saved_queries]이 있는 주 구성원에게 표시됩니다. people 아이콘으로 식별됩니다.
공개. 쿼리 링크가 있는 모든 사용자가 저장된 공개 기본 쿼리를 볼 수 있습니다. share 아이콘으로 식별됩니다.
기존 저장된 쿼리를 저장된 쿼리에 마이그레이션 [https://cloud.google.com/bigquery/docs/manage-saved-queries?hl=ko#migrate_classic_saved_queries]하여 새 기능을 활용하거나, 지원 중단까지 기존 저장된 쿼리로 계속해서 유지 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko#update_classic_saved_queries]할 수 있습니다. 지원 중단 타임라인을 검토하는 중입니다.
기존 저장된 쿼리 기능은Google Cloud 콘솔에서만 사용할 수 있습니다.
기존 저장된 쿼리 지원 중단
BigQuery Studio [https://cloud.google.com/bigquery/docs/enable-assets?hl=ko]의 저장된 쿼리 기능이 기존 저장된 쿼리를 대체합니다. 지원 중단 타임라인을 검토하는 중입니다. 지원 중단 이후에 기존 저장된 쿼리를 수정하려면 BigQuery Studio 저장된 쿼리로 기존 쿼리를 마이그레이션 [https://cloud.google.com/bigquery/docs/manage-saved-queries?hl=ko#migrate_classic_saved_queries]해야 합니다.
본인을 포함한 사용자가 프로젝트의 데이터에 액세스할 수 있는 다른 사용자에게 제공해서는 안 되는 정보가 포함된 개인 쿼리를 사용하는 경우 쿼리 소유자는 마이그레이션을 완료할 때까지 쿼리나 정보를 삭제해야 합니다.
이 전환을 지원하기 위해 2024년 2월에 다음 BigQuery IAM 역할이 업데이트되었습니다.
BigQuery 관리자(roles/bigquery.admin) [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.admin]에게 Dataform 관리자(roles/dataform.admin) [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#dataform.admin] 권한이 부여됩니다.
BigQuery 작업 사용자(roles/bigquery.jobUser) [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.jobUser]에게 다음 권한이 부여됩니다.
dataform.locations.get
dataform.locations.list
dataform.repositories.create
dataform.repositories.list
BigQuery 사용자(roles/bigquery.user) [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquery.user]에게 다음 권한이 부여됩니다.
dataform.locations.get
dataform.locations.list
dataform.repositories.create
dataform.repositories.list
BigQuery 관리자, BigQuery 작업 사용자 또는 BigQuery 사용자 역할이 없는 사용자가 저장된 쿼리를 사용할 수 있게 하려면 IAM에서 필요한 권한 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko#required_permissions]을 부여하세요.
커스텀 역할 [https://cloud.google.com/bigquery/docs/access-control?hl=ko#bigquery-custom-roles]은 자동으로 업데이트되지 않습니다. 필요한 권한 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko#required_permissions]으로 커스텀 역할을 업데이트하려면 기존 커스텀 역할 수정 [https://cloud.google.com/iam/docs/creating-custom-roles?hl=ko#edit-role]을 참조하세요.
다음 단계
저장된 쿼리를 만드는 방법은 저장된 쿼리 만들기 [https://cloud.google.com/bigquery/docs/work-with-saved-queries?hl=ko]를 참조하세요.
저장된 쿼리를 관리하는 방법은 저장된 쿼리 관리 [https://cloud.google.com/bigquery/docs/manage-saved-queries?hl=ko]를 참조하세요.
도움이 되었나요?
의견 보내기