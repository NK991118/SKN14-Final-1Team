Source URL: https://cloud.google.com/bigquery/docs/data-prep-get-suggestions

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
시작하기 전에 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#before_you_begin]
BigQuery에서 데이터 준비 편집기 열기 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#open-data-prep-editor]
데이터 준비 단계 추가 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#create-data-prep-steps]
Gemini의 추천 적용 및 개선 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#apply-suggestions]
자연어 또는 SQL 표현식으로 단계 추가 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#manually-add-steps]
Gemini로 데이터 준비
bookmark_border
이 문서에서는 BigQuery에서 데이터 준비를 위한 SQL 코드 추천을 생성하고 관리하는 방법을 설명합니다.
자세한 내용은 BigQuery 데이터 준비 소개 [https://cloud.google.com/bigquery/docs/data-prep-introduction?hl=ko]를 참조하세요.
시작하기 전에
BigQuery의 Gemini 설정하기 [https://cloud.google.com/gemini/docs/bigquery/set-up-gemini?hl=ko]
필요한 Identity and Access Management(IAM) 역할 및 권한 [https://cloud.google.com/bigquery/docs/manage-data-preparations?hl=ko#required-roles]을 부여합니다.
BigQuery에서 데이터 준비 편집기 열기
새 데이터 준비를 만들거나 기존 테이블에서 데이터 준비를 만들거나 기존 데이터 준비를 열어 BigQuery에서 데이터 준비 편집기를 열 수 있습니다. 데이터 준비를 만들 때 어떤 일이 일어나는지에 관한 자세한 내용은 데이터 준비 진입점 [https://cloud.google.com/bigquery/docs/data-prep-introduction?hl=ko#entry-points]을 참조하세요.
BigQuery 페이지에서 다음 방법으로 데이터 준비 편집기로 이동할 수 있습니다.
--- 탭: 새로 만들기 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#%EC%83%88%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0] ---
BigQuery에서 새 데이터 준비를 만들려면 다음 단계를 따르세요.
      
         Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
         BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
        새로 만들기 목록으로 이동하여 데이터 준비를 클릭합니다.
         데이터 준비 편집기가 제목이 없는 새 데이터 준비 탭에 표시됩니다.
        편집기의 검색창에 테이블 이름 또는 키워드를 입력하고 테이블을 선택합니다. 테이블의 데이터 준비 편집기가 열리고 데이터 탭에 데이터 미리보기와 Gemini의 초기 데이터 준비 추천이 표시됩니다.
         나중에 이 준비에 액세스할 수 있는 데이터 준비 리소스가 탐색기 창에 표시됩니다.
        선택사항: 보기를 간소화하려면 전체 화면
         전체 화면을 클릭하여 전체 화면 모드를 사용 설정합니다.
        선택사항: 데이터 준비 세부정보, 버전 기록을 보거나 새 댓글을 추가하거나 기존 댓글에 답글을 달려면 툴바(프리뷰 [https://cloud.google.com/products?hl=ko#product-launch-stages])를 사용합니다.

--- 탭: 테이블에서 새로 만들기 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#%ED%85%8C%EC%9D%B4%EB%B8%94%EC%97%90%EC%84%9C-%EC%83%88%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0] ---
기존 테이블에서 새 데이터 준비를 만들려면 다음 단계를 따르세요.
      
         Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
        탐색기 창에서 테이블 위로 포인터를 가져갑니다.
        more_vert
         메뉴 > 쿼리 > 데이터 준비를 클릭합니다. 테이블의 데이터 준비 편집기가 열리고 데이터 탭에 데이터 미리보기와 Gemini의 초기 데이터 준비 추천이 표시됩니다.
         나중에 이 준비에 액세스할 수 있는 데이터 준비 리소스가 탐색기 창에 표시됩니다.
        선택사항: 보기를 간소화하려면 전체 화면
         전체 화면을 클릭하여 전체 화면 모드를 사용 설정합니다.
        선택사항: 데이터 준비 세부정보, 버전 기록을 보거나 새 댓글을 추가하거나 기존 댓글에 답글을 달려면 툴바(프리뷰 [https://cloud.google.com/products?hl=ko#product-launch-stages])를 사용합니다.

--- 탭: 기존 데이터 준비 열기 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#%EA%B8%B0%EC%A1%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A4%80%EB%B9%84-%EC%97%B4%EA%B8%B0] ---
기존 데이터 준비의 편집기를 열려면 다음 단계를 따르세요.
      
         Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
         BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
        탐색기 창에서 프로젝트 이름과 데이터 준비를 클릭합니다.
        기존 데이터 준비를 선택합니다. 데이터 준비 파이프라인의 그래프 보기가 표시됩니다.
        그래프에서 노드 중 하나를 선택합니다. 테이블의 데이터 준비 편집기가 열리고 데이터 탭에 데이터 미리보기와 Gemini의 초기 데이터 준비 추천이 표시됩니다.
        선택사항: 보기를 간소화하려면 전체 화면
         전체 화면을 클릭하여 전체 화면 모드를 사용 설정합니다.
        선택사항: 데이터 준비 세부정보, 버전 기록을 보거나 새 댓글을 추가하거나 기존 댓글에 답글을 달려면 툴바(프리뷰 [https://cloud.google.com/products?hl=ko#product-launch-stages])를 사용합니다.




데이터 준비 단계 추가
단계별로 데이터를 준비합니다. Gemini에서 추천하는 단계를 미리 보거나 적용할 수 있습니다. 추천을 개선하거나 자체 단계를 적용할 수도 있습니다.
Gemini의 추천 적용 및 개선
테이블의 데이터 준비 편집기를 열면 Gemini가 로드된 표의 데이터와 스키마를 검사하고 필터 및 변환 추천을 생성합니다. 추천은 단계 목록의 카드에 표시됩니다.
다음 이미지는 Gemini에서 추천하는 단계를 적용하고 개선할 수 있는 위치를 보여줍니다.
Gemini의 추천을 데이터 준비 단계로 적용하려면 다음 안내를 따르세요.
데이터 뷰에서 열 이름 또는 특정 셀을 클릭합니다. Gemini는 데이터를 필터링하고 변환하기 위한 추천을 생성합니다.
선택사항: 추천을 개선하려면 테이블에서 1~3개 셀의 값을 수정하여 열의 값이 어떻게 표시되어야 하는지 보여줍니다. 예를 들어 모든 날짜의 형식을 지정할 방식으로 날짜를 입력합니다. Gemini가 변경사항을 기반으로 새로운 추천을 생성합니다.
참고: 데이터에 대한 예시 변경사항은 저장되지 않습니다.
다음 이미지는 값을 수정하여 Gemini에서 추천하는 단계를 개선하는 방법을 보여줍니다.
추천 카드를 선택합니다.
선택사항: 추천 카드의 결과를 미리 보려면 미리보기를 클릭합니다.
선택사항: 자연어를 사용하여 추천 카드를 수정하려면 수정을 클릭합니다.
적용을 클릭합니다.
자연어 또는 SQL 표현식으로 단계 추가
기존 추천이 요구사항을 충족하지 않으면 단계를 추가하세요. 열 또는 단계 유형을 선택한 다음 자연어를 사용하여 원하는 작업을 설명합니다.
변환 추가
데이터 또는 스키마 뷰에서 변환 옵션을 선택합니다. 열을 선택하거나 예를 추가하여 Gemini가 데이터 변환을 이해하도록 도울 수도 있습니다.
설명 필드에 Convert the state column to uppercase와 같은 프롬프트를 입력합니다.
보내기 보내기를 클릭합니다.
Gemini가 프롬프트를 기반으로 SQL 표현식과 새 설명을 생성합니다.
대상 열 목록에서 열 이름을 선택하거나 입력합니다.
선택사항: SQL 표현식을 업데이트하려면 프롬프트를 수정한 후 보내기 보내기를 클릭하거나 SQL 표현식을 직접 입력합니다.
선택사항: 미리보기를 클릭하고 단계를 검토합니다.
적용을 클릭합니다.
JSON 열 평탄화
데이터 준비 중에 소스의 JSON 데이터를 간소화할 수 있습니다. 평탄화라고 부르는 이 프로세스에서는 JSON 열의 모든 키-값 쌍을 한 번에 추출하여 테이블의 자체 열로 변환합니다. 이를 통해 복잡한 JSON 구조를 더 쉽게 분석하거나 다른 데이터와 결합할 수 있습니다.
BigQuery의 Gemini는 JSON의 최상위 수준에서만 필드를 추출하는 작업을 추천합니다. 추출된 필드에 JSON 객체가 많이 포함되어 있는 경우 추가적 단계에서 이를 평탄화하여 콘텐츠에 액세스할 수 있습니다.
JSON 소스 테이블의 데이터 뷰에서 열 또는 셀을 선택합니다.
평탄화를 클릭하여 추천을 생성합니다.
선택사항: SQL 표현식을 업데이트하려면 SQL 표현식을 직접 입력하면 됩니다.
선택사항: 미리보기를 클릭하고 단계를 검토합니다.
적용을 클릭합니다.
평탄화에는 다음과 같은 동작이 있습니다.
JSON이 포함된 셀이나 열을 선택하면 데이터 뷰에 평탄화 옵션이 표시됩니다. 단계 추가를 클릭하면 기본적으로 표시되지 않습니다.
선택한 행에 JSON 키가 없으면 생성된 추천에 해당 키가 포함되지 않습니다. 이러한 문제로 인해 데이터를 평탄화할 때 일부 열이 누락될 수 있습니다.
평탄화 중에 열 이름이 충돌하면 반복되는 열 이름이 _<i> 형식으로 끝납니다. 예를 들어 address라는 열이 이미 있는 경우 새로운 평탄화된 열 이름은 address_1입니다.
평탄화된 열 이름은 BigQuery 열 이름 지정 규칙 [https://cloud.google.com/bigquery/docs/schemas?hl=ko#column_names]을 따릅니다.
JSON 키 필드를 비워 두면 기본 열 이름 형식은 f<i>_입니다.
행 필터링
행을 삭제하는 필터를 추가하려면 다음 단계를 따르세요.
데이터 또는 스키마 뷰에서 필터 옵션을 선택합니다. Gemini가 데이터 필터를 이해하는 데 도움이 되는 열을 선택할 수도 있습니다.
설명 필드에 Column ID should not be NULL과 같은 프롬프트를 입력합니다.
생성을 클릭합니다. Gemini는 프롬프트에 따라 SQL 표현식과 새 설명을 생성합니다.
선택사항: SQL 표현식을 업데이트하려면 프롬프트를 수정한 후 보내기 보내기를 클릭하거나 SQL 표현식을 직접 입력합니다.
선택사항: 미리보기를 클릭하고 단계를 검토합니다.
적용을 클릭합니다.
필터 표현식 형식
필터의 SQL 표현식은 지정된 조건과 일치하는 행을 유지합니다. 이는 SELECT … WHERE SQL_EXPRESSION 문에 해당합니다.
예를 들어 year 열이 2000 이상인 레코드를 보관하려면 조건은 year >= 2000입니다.
표현식은 WHERE 절 [https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax?hl=ko#where_clause]에 대한 BigQuery SQL 구문을 따라야 합니다.
오류 테이블 구성 및 검증 규칙 추가
오류를 오류 테이블로 전송하거나 데이터 준비 실행을 실패시키는 검증 규칙을 만드는 필터를 추가할 수 있습니다.
오류 테이블 구성
오류 테이블을 구성하려면 다음 단계를 따르세요.
데이터 준비 편집기에서 툴바로 이동하여 더보기 > 오류 테이블을 클릭합니다.
오류 테이블 사용 설정을 클릭합니다.
테이블 위치를 정의합니다.
선택사항: 오류의 최대 보관 기간을 정의합니다.
저장을 클릭합니다.
검증 규칙 추가
검증 규칙을 추가하려면 다음 단계를 따르세요.
데이터 또는 스키마 뷰에서 필터 옵션을 클릭합니다. Gemini가 데이터 필터를 이해하는 데 도움이 되는 열을 선택할 수도 있습니다.
단계에 대한 설명을 입력합니다.
WHERE 절의 형태로 SQL 표현식을 입력합니다.
선택사항: SQL 표현식이 검증 규칙으로 작동하도록 하려면 검증 실패 행이 오류 테이블로 이동 체크박스를 선택합니다. 데이터 준비 툴바에서 더보기 > 오류 테이블을 클릭하여 필터를 검증으로 변경할 수도 있습니다.
선택사항: 미리보기를 클릭하고 단계를 검토합니다.
적용을 클릭합니다.
열 삭제
데이터 준비에서 하나 이상의 열을 삭제하려면 다음 단계를 따르세요.
데이터 또는 스키마 뷰에서 삭제할 열을 선택합니다.
삭제를 클릭합니다. 삭제된 열에 대해 새로 적용된 단계가 추가됩니다.
Gemini로 조인 작업 추가
데이터 준비에서 두 소스 간에 조인 작업 단계를 추가하려면 다음 단계를 따르세요.
데이터 준비의 노드에 대한 데이터 뷰에서 추천 목록으로 이동하여 조인 옵션을 클릭합니다.
조인 추가 대화상자에서 찾아보기를 클릭한 다음 조인 작업과 관련된 다른 테이블(조인의 오른쪽이라고 함)을 선택합니다.
선택사항: 실행할 조인 작업 [https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax?hl=ko#join_types] 유형(예: 내부 조인)을 선택합니다.
다음 필드에서 Gemini가 생성한 조인 키 정보를 검토합니다.
조인 설명: 조인 작업의 SQL 표현식에 관한 자연어 설명입니다. 이 설명을 수정하고 보내기 보내기를 클릭하면 Gemini에서 새 SQL 조인 조건을 추천합니다.
조인 조건: 조인 작업의 ON 절 내의 SQL 표현식입니다. L 및 R 한정자를 사용하여 각각 왼쪽 소스 테이블과 오른쪽 소스 테이블을 참조할 수 있습니다. 예를 들어 왼쪽 테이블의 customer_id 열을 오른쪽 테이블의 customer_id 열에 조인하려면 L.customerId = R.customerId를 입력합니다. 이러한 한정자는 대소문자를 구분하지 않습니다.
참고: 조인 조건 필드가 비어 있으면 이전 단계에서 다른 조인 유형을 선택했더라도 조인 작업 유형이 자동으로 교차 조인으로 설정됩니다.
선택사항: Gemini의 추천을 수정하려면 조인 설명 필드를 수정한 다음 보내기 보내기를 클릭합니다.
선택사항: 데이터 준비의 조인 작업 설정을 미리 보려면 미리보기를 클릭합니다.
적용을 클릭합니다.
조인 작업 단계가 생성됩니다. 선택한 소스 테이블(조인의 오른쪽)과 조인 작업이 적용된 단계 목록과 데이터 준비의 그래프 뷰에 있는 노드에 반영됩니다.
대상 테이블 추가 또는 변경
데이터 준비 출력의 대상 테이블을 추가하거나 변경하려면 다음 단계를 따르세요.
데이터 또는 스키마 뷰에서 대상 옵션을 선택합니다.
대상 테이블이 저장된 프로젝트를 선택합니다.
데이터 세트 중 하나를 선택하거나 새 데이터 세트를 로드합니다.
대상 테이블을 입력합니다. 테이블이 없으면 데이터 준비가 첫 실행 시 새 테이블을 만듭니다. 자세한 내용은 쓰기 모드 [https://cloud.google.com/bigquery/docs/data-prep-introduction?hl=ko#write-mode]를 참조하세요.
데이터 세트를 대상 데이터 세트로 선택합니다.
저장을 클릭합니다.
적용된 단계의 데이터 샘플 및 스키마 보기
데이터 준비의 특정 단계에서 샘플 및 스키마 세부정보를 보려면 다음 단계를 따르세요.
데이터 준비 편집기에서 단계 목록으로 이동하여 적용된 단계를 클릭합니다.
단계를 선택합니다. 데이터 및 스키마 탭이 표시되며 이 특정 단계의 데이터 샘플과 스키마가 표시됩니다.
적용된 단계 수정
적용된 단계를 수정하려면 다음 단계를 따르세요.
데이터 준비 편집기에서 단계 목록으로 이동하여 적용된 단계를 클릭합니다.
단계를 선택합니다.
단계 옆에 있는 more_vert 메뉴 > 수정을 클릭합니다.
적용된 단계 수정 대화상자에서 다음을 수행할 수 있습니다.
단계의 설명을 수정합니다.
설명을 수정하고 send 보내기를 클릭하여 Gemini의 추천을 받습니다.
SQL 표현식을 수정합니다.
대상 열 필드에서 열을 선택합니다.
선택사항: 미리보기를 클릭하고 단계를 검토합니다.
적용을 클릭합니다.
적용된 단계 삭제
적용된 단계를 삭제하려면 다음 단계를 따르세요.
데이터 준비 편집기에서 단계 목록으로 이동하여 적용된 단계를 클릭합니다.
단계를 선택합니다.
more_vert 메뉴 > 삭제를 클릭합니다.
데이터 준비 실행
데이터 준비 단계를 추가하고 대상을 구성 [https://cloud.google.com/bigquery/docs/data-prep-get-suggestions?hl=ko#add-or-change-destination]하고 검증 오류를 수정한 후에는 데이터 샘플에서 테스트 실행을 수행하거나 단계를 배포하고 데이터 준비 실행을 예약할 수 있습니다. 자세한 내용은 데이터 준비 예약 [https://cloud.google.com/bigquery/docs/orchestrate-data-preparations?hl=ko]을 참조하세요.
데이터 준비 샘플 새로고침
샘플의 데이터는 자동으로 새로고침되지 않습니다. 데이터 준비의 소스 테이블에 있는 데이터가 변경되었지만 변경사항이 준비의 데이터 샘플에 반영되지 않은 경우 더보기 > 샘플 새로고침을 클릭합니다.
다음 단계
데이터 준비를 예약 [https://cloud.google.com/bigquery/docs/orchestrate-data-preparations?hl=ko]하는 방법 알아보기
데이터 준비 관리 [https://cloud.google.com/bigquery/docs/manage-data-preparations?hl=ko] 알아보기
BigQuery의 Gemini 할당량 및 한도 [https://cloud.google.com/gemini/docs/quotas?hl=ko#bigquery] 알아보기
BigQuery의 Gemini 가격 책정 [https://cloud.google.com/products/gemini/pricing?hl=ko#gemini-in-bigquery-pricing]을 검토하세요.
도움이 되었나요?
의견 보내기