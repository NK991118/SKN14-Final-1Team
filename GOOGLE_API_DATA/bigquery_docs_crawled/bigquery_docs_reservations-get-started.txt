Source URL: https://cloud.google.com/bigquery/docs/reservations-get-started

BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
시작하기 전에 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#before-you-begin]
자동 확장 예약 만들기 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#create_an_autoscaling_reservation]
예약에 프로젝트 할당 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#assign_a_project_to_a_reservation]
삭제 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#clean-up]
프로젝트 삭제 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#delete_the_project]
예약 삭제 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#delete_the_reservation]
다음 단계 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#whats-next]
예약 시작하기
bookmark_border
BigQuery에서 예약을 만들고, 지정하고, 삭제하는 방법을 알아봅니다.
주의: 이 튜토리얼에서는 요금이 부과됩니다. 자동 확장 슬롯은 확장된 중에만 요금이 청구됩니다. 이 튜토리얼이 끝나면 예약을 삭제할 수 있습니다. 슬롯을 구입하기 전에 가격 책정 [https://cloud.google.com/bigquery/pricing?hl=ko#capacity_compute_analysis_pricing]을 이해해야 합니다.
약정을 구매할 수도 있습니다. 자세한 내용은 약정 [https://cloud.google.com/bigquery/docs/reservations-intro?hl=ko#commitments]을 참조하세요.
참고 튜토리얼을 완료한 후 추가 비용이 청구되지 않도록 하려면 삭제 [https://cloud.google.com/bigquery/docs/reservations-get-started?hl=ko#clean-up]의 다음 단계를 따르세요.
이 튜토리얼을 시작하기 전에 워크로드 관리 소개 [https://cloud.google.com/bigquery/docs/reservations-intro?hl=ko]를 읽고 기본 개념을 이해하는 것이 좋습니다.
Google Cloud 콘솔에서 이 태스크에 대한 단계별 안내를 직접 수행하려면 둘러보기를 클릭합니다.
둘러보기 [https://console.cloud.google.com/freetrial?redirectPath=%2F%3Fwalkthrough_id%3Dbigquery__reservations-get-started&hl=ko]
시작하기 전에
In the Google Cloud console, on the project selector page, select or create a Google Cloud project.
Note: If you don't plan to keep the resources that you create in this procedure, create a project instead of selecting an existing project. After you finish these steps, you can delete the project, removing all resources associated with the project.
Go to project selector [https://console.cloud.google.com/projectselector2/home/dashboard?hl=ko]
별도의 Google Cloud 프로젝트를 만들어 예약을 관리하고 bq-COMPANY_NAME-admin과 같은 설명이 포함된 이름을 지정할 수 있습니다.
Verify that billing is enabled for your Google Cloud project [https://cloud.google.com/billing/docs/how-to/verify-billing-enabled?hl=ko#confirm_billing_is_enabled_on_a_project].
Enable the BigQuery Reservation API.
Enable the API [https://console.cloud.google.com/flows/enableapi?apiid=bigqueryreservation.googleapis.com&hl=ko]
자세한 내용은 BigQuery Reservation API 사용 설정 [https://cloud.google.com/bigquery/docs/reservations-commitments?hl=ko#enabling-reservations-api]을 참조하세요.
Google Cloud 콘솔에서 슬롯 할당량을 확인합니다.
슬롯 할당량 보기 [https://console.cloud.google.com/iam-admin/quotas?service=bigqueryreservation.googleapis.com&%3Bmetric=bigqueryreservation.googleapis.com%2Ftotal_slots&hl=ko]
슬롯을 구입하려면 슬롯을 구입하려는 리전에 대해 슬롯 할당량이 충분해야 합니다.
리전의 슬롯 할당량이 구입하려는 슬롯 개수보다 적으면 할당량 증가 요청 [https://cloud.google.com/bigquery/quotas?hl=ko#requesting_a_quota_increase]을 참조하세요.
자동 확장 예약 만들기
US 멀티 리전에서 prod라는 예약을 만들고 여기에 최대 100개의 자동 확장 슬롯을 할당합니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색 메뉴에서 용량 관리를 클릭합니다.
예약 만들기를 클릭합니다.
예약 이름 필드에 prod를 입력합니다.
위치 드롭다운 목록에서 us(미국 내 여러 리전)를 선택합니다.
버전 목록에서 Standard를 선택합니다. 자세한 내용은 BigQuery 버전 이해 [https://cloud.google.com/bigquery/docs/editions-intro?hl=ko]를 참조하세요.
최대 예약 크기 선택기에서 소형(100개 슬롯)을 선택합니다.
다른 기본 설정은 그대로 두고 저장을 클릭합니다.
SQL 또는 bq 도구를 사용하여 예약을 만드는 방법은 전용 슬롯이 있는 예약 만들기 [https://cloud.google.com/bigquery/docs/reservations-tasks?hl=ko#create_a_reservation_with_dedicated_slots]를 참조하세요.
예약에 프로젝트 할당
프로젝트를 prod 예약에 할당합니다. 이 프로젝트에서 실행되는 모든 쿼리 작업은 prod 예약의 슬롯 풀을 사용합니다. (이 튜토리얼에서는 작업을 실행하지 않습니다.)
예약을 만든 관리 프로젝트와 동일한 조직 및 리전에 있는 프로젝트를 할당할 수 있습니다.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색 메뉴에서 용량 관리를 클릭합니다.
슬롯 예약 탭을 클릭합니다.
이름이 prod인 예약의 작업 열에서 more_vert 작업을 클릭합니다.
할당 만들기를 클릭합니다.
조직, 폴더 또는 프로젝트 선택 섹션에서 찾아보기를 클릭합니다.
프로젝트를 찾아보거나 검색한 다음 선택합니다.
만들기를 클릭합니다.
예약 할당을 만들 때는 쿼리를 실행하기 전 최소 5분 이상 기다립니다. 그렇지 않으면 주문형 가격 책정을 사용하여 쿼리가 청구될 수 있습니다.
SQL 또는 bq 도구를 사용하여 예약에 프로젝트를 할당하는 방법은 예약에 프로젝트 또는 폴더 할당 [https://cloud.google.com/bigquery/docs/reservations-assignments?hl=ko#assign_my_prod_project_to_prod_reservation]을 참조하세요.
삭제
이 페이지에서 사용한 리소스 비용이 Google Cloud 계정에 청구되지 않도록 하려면 다음 단계를 수행합니다.
프로젝트 삭제
비용이 청구되지 않도록 하는 가장 쉬운 방법은 튜토리얼에서 만든 프로젝트를 삭제하는 것입니다.
프로젝트를 삭제하는 방법은 다음과 같습니다.
주의: 프로젝트 삭제가 미치는 영향은 다음과 같습니다.
프로젝트의 모든 항목이 삭제됩니다. 이 문서의 태스크에 기존 프로젝트를 사용한 경우 프로젝트를 삭제하면 프로젝트에서 수행한 다른 작업도 삭제됩니다.
커스텀 프로젝트 ID가 손실됩니다. 이 프로젝트를 만들 때 앞으로 사용할 커스텀 프로젝트 ID를 만들었을 수 있습니다. appspot.com URL과 같이 프로젝트 ID를 사용하는 URL을 보존하려면 전체 프로젝트를 삭제하는 대신 프로젝트 내에서 선택한 리소스만 삭제합니다.
여러 아키텍처, 튜토리얼, 빠른 시작을 살펴보려는 경우 프로젝트를 재사용하면 프로젝트 할당량 한도 초과를 방지할 수 있습니다.
In the Google Cloud console, go to the Manage resources page.
Go to Manage resources [https://console.cloud.google.com/iam-admin/projects?hl=ko]
In the project list, select the project that you want to delete, and then click Delete.
In the dialog, type the project ID, and then click Shut down to delete the project.
예약 삭제
예약을 삭제하면 현재 해당 예약의 슬롯에서 실행 중인 모든 작업이 실패합니다. 오류를 방지하려면 예약을 삭제하기 전에 진행 중인 작업이 완료되도록 허용하세요.
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
탐색 메뉴에서 용량 관리를 클릭합니다.
슬롯 예약 탭을 클릭합니다.
이름이 prod인 예약에서 노드 전환을 클릭합니다.
해당 예약의 각 할당에 대해 작업을 클릭한 다음 삭제를 클릭합니다.
이름이 prod인 예약의 작업 열에서 more_vert 작업을 클릭합니다.
삭제를 클릭합니다.
SQL 또는 bq 도구를 사용하여 예약을 삭제하는 방법은 예약 삭제 [https://cloud.google.com/bigquery/docs/reservations-tasks?hl=ko#delete_a_reservation]를 참조하세요.
다음 단계
BigQuery 예약을 사용하여 워크로드를 관리하는 방법은 예약을 사용하여 워크로드 관리 [https://cloud.google.com/bigquery/docs/reservations-workload-management?hl=ko]를 참조하세요.
도움이 되었나요?
의견 보내기