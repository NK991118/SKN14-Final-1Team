Source URL: https://cloud.google.com/bigquery/docs/transfer-troubleshooting

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
Switch to English
BigQuery [https://cloud.google.com/bigquery?hl=ko]
Documentation [https://cloud.google.com/bigquery/docs?hl=ko]
가이드 [https://cloud.google.com/bigquery/docs/introduction?hl=ko]
도움이 되었나요?
의견 보내기
이 페이지의 내용
오류 검사 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko#examine_errors]
일반적인 문제 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko#general_issues]
승인 및 권한 문제 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko#authorization_and_permission_issues]
이벤트 기반 전송 구성 문제 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko#event-driven_transfer_configuration_issues]
Amazon S3 전송 문제 [https://cloud.google.com/bigquery/docs/transfer-troubleshooting?hl=ko#amazon_s3_transfer_issues]
전송 구성 문제 해결
bookmark_border
이 문서는 BigQuery Data Transfer Service 전송을 설정할 때 발생하는 가장 일반적인 문제를 해결하는 방법에 대해 설명합니다. 이 문서는 발생 가능한 오류 메시지나 문제를 모두 다루지는 않습니다.
이 문서에서 다루지 않은 문제가 발생하면 지원을 요청 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko] 하세요.
Cloud Customer Care에 문의하기 전에 전송 구성과 전송 실행 세부정보를 캡처합니다. 이러한 세부정보를 가져오는 방법에 대한 자세한 내용은 전송 세부정보 가져오기 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#get_transfer_details] 및 전송 실행 세부정보 및 로그 메시지 보기 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#view_transfer_run_details_and_log_messages]를 참고하세요.
오류 검사
최초 전송 실행이 실패하면 실행 기록 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#view_transfer_run_history]의 세부정보를 검토할 수 있습니다. 실행 기록에 나열된 오류를 참조하면 이 문서를 이용해 적절한 해결 방법을 쉽게 파악할 수 있습니다.
로그 탐색기 [https://cloud.google.com/logging/docs/view/logs-explorer-interface?hl=ko]를 사용하여 특정 전송 작업의 오류 메시지를 볼 수도 있습니다. 다음 로그 탐색기 필터는 특정 전송 구성 작업에 관한 정보와 오류 메시지를 반환합니다.
resource.type="bigquery_dts_config"
labels.run_id="
RUN_ID"
resource.labels.config_id="
CONFIG_ID"
다음을 바꿉니다.
RUN_ID: 특정 작업 실행의 ID 번호
CONFIG_ID: 전송 구성 작업의 ID 번호
고객 관리팀에 문의하기 전에 실행 기록 또는 로그 탐색기에서 오류 메시지를 포함한 관련 정보를 모두 캡처하세요.
이벤트 기반 전송 [https://cloud.google.com/bigquery/docs/event-driven-transfer?hl=ko]을 사용하는 경우 이벤트 기반 전송 구성에서 전송 실행을 트리거하지 못할 수 있습니다. 실행 기록 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#view_transfer_run_history] 페이지 또는 구성 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#get_transfer_details] 페이지 상단에서 오류 메시지를 확인할 수 있습니다.
일반적인 문제
일반적인 전송 문제를 진단할 때는 다음을 확인하세요.
전송 유형에 해당하는 문서 페이지에서 '시작하기 전에' 섹션의 모든 단계를 완료했는지 확인합니다.
전송 구성 속성이 올바릅니다.
전송을 만드는 데 사용한 사용자 계정에 기본 리소스에 대한 액세스 권한이 있습니다.
전송 구성이 올바르고 적절한 권한이 부여되었다면 일반적으로 발생하는 문제에 대한 다음 해결 방법을 참조하세요.
오류: An unexpected issue was encountered. If this issue persists, please contact customer support.
해결 방법: 이 오류는 일반적으로 BigQuery의 일시적 중단이나 문제를 나타냅니다. 문제가 해결될 때까지 약 2시간이 소요됩니다. 문제가 지속되면 지원을 요청 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko] 하세요.
오류: Quota Exceeded.
해결 방법: BigQuery의 로드 작업 할당량 [https://cloud.google.com/bigquery/quotas?hl=ko#load_jobs]이 전송에 적용됩니다. 할당량을 상향 조정해야 하는 경우에는 Google Cloud 영업 담당자에게 문의하세요. 자세한 내용은 할당량 및 한도 [https://cloud.google.com/bigquery/quotas?hl=ko]를 참고하세요.
Cloud Billing 내보내기를 BigQuery로 로드하면 Quota Exceeded 오류가 발생할 수 있습니다. Cloud Billing 내보내기 테이블과 BigQuery Data Transfer Service 서비스에서 생성된 대상 BigQuery 테이블은 모두 파티션을 나눕니다. 이러한 BigQuery Data Transfer Service 작업을 설정하는 동안 덮어쓰기 옵션을 선택하면 내보내는 데이터 양에 따라 할당량 오류가 발생합니다. 할당량 문제 해결에 대한 자세한 내용은 할당량 및 한도 오류 문제 해결 [https://cloud.google.com/bigquery/docs/troubleshoot-quotas?hl=ko]을 참조하세요.
Cloud Billing 내보내기의 BigQuery Data Transfer Service 작업으로 인해 오류가 발생한 경우, 개별 Cloud Billing 내보내기 테이블이 파티션화되므로 BigQuery Data Transfer Service에서 생성한 대상 테이블도 파티션화됩니다. 따라서 이러한 데이터 전송 작업을 설정하는 동안 덮어쓰기 옵션을 선택하면 결제 계정의 오래된 정도에 따라 (DML) 할당량 오류가 발생합니다. 할당량 문제 해결에 대한 자세한 내용은 할당량 및 한도 오류 문제 해결 [https://cloud.google.com/bigquery/docs/troubleshoot-quotas?hl=ko]을 참조하세요.
오류: The caller does not have permission.
해결 방법: Google Cloud 콘솔에서 로그인한 계정이 전송을 만들 때 BigQuery Data Transfer Service에 선택한 계정과 같은지 확인합니다.
Google Cloud 콘솔에 로그인한 계정:
BigQuery Data Transfer Service를 계속하려면 계정을 선택하세요.
오류: Access Denied: ... Permission bigquery.tables.get denied on table ...
해결 방법: BigQuery Data Transfer Service 서비스 에이전트 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko#service_agent]에 대상 데이터 세트에 대한 bigquery.dataEditor 역할 [https://cloud.google.com/bigquery/docs/access-control?hl=ko#bigquery.dataEditor]이 부여되었는지 확인합니다. 이 부여는 전송을 만들고 업데이트할 때 자동으로 적용되지만 이후에 액세스 정책이 수동으로 수정되었을 수도 있습니다. 권한을 다시 부여하려면 데이터 세트에 액세스 권한 부여 [https://cloud.google.com/bigquery/docs/control-access-to-resources-iam?hl=ko#grant_access_to_a_dataset]를 참조하세요.
오류: region violates constraint constraints/gcp.resourceLocations on the resource projects/project_id
해결 방법: 이 오류는 사용자가 위치 제한 조직 정책 [https://cloud.google.com/resource-manager/docs/organization-policy/defining-locations?hl=ko]에 지정된 대로 제한된 위치에서 전송 구성을 만들려고 할 때 발생합니다. 해당 리전을 허용하도록 조직 정책을 변경 [https://cloud.google.com/resource-manager/docs/organization-policy/defining-locations?hl=ko#setting_the_organization_policy]하거나 조직 정책으로 제한되지 않는 리전에 있는 대상 데이터 세트로 전송 구성을 변경하면 이 문제를 해결할 수 있습니다.
오류: Please look into the errors[] collection for more details.
해결 방법: 이 오류는 데이터 전송에 실패할 때 발생할 수 있습니다. 데이터 전송이 실패한 이유에 관한 자세한 내용은 Cloud Logging을 사용하여 로그 보기 [https://cloud.google.com/bigquery/docs/dts-monitor?hl=ko#logs]를 참조하세요. 전송 run_id를 사용하여 검색하면 특정 실행의 로그를 찾을 [https://cloud.google.com/bigquery/docs/dts-monitor?hl=ko#view_transfer_run_logs] 수 있습니다.
승인 및 권한 문제
다음은 다양한 데이터 소스에서 데이터를 전송할 때 발생할 수 있는 일반적인 권한 오류입니다.
오류: BigQuery Data Transfer Service is not enabled for <project_id>
오류: BigQuery Data Transfer Service has not been used in project <project_id> before or it is disabled ...
해결 방법: 다음 단계에 따라 서비스 에이전트 역할이 부여되었는지 확인합니다.
Google Cloud 콘솔에서 IAM 및 관리자 페이지로 이동합니다.
IAM 및 관리자로 이동 [https://console.cloud.google.com/iam-admin/iam?hl=ko]
Google제공 역할 부여 포함 체크박스를 선택합니다.
service-<project_number>@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com 이름의 서비스 계정이 표시되는지 또는 BigQuery 데이터 전송 서비스에 BigQuery Data Transfer Service 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#bigquerydatatransfer.serviceAgent]이 부여되었는지 확인합니다.
서비스 계정이 표시되지 않거나 BigQuery Data Transfer Service 서비스 에이전트 역할이 부여되지 않은 경우 Google Cloud 콘솔에서 사전 정의된 역할을 부여하거나 다음 Google Cloud CLI 명령어를 실행합니다.
gcloud projects add-iam-policy-binding 
PROJECT_NUMBER \
--member serviceAccount:service-
PROJECT_NUMBER@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com \
--role roles/bigquerydatatransfer.serviceAgent
PROJECT_NUMBER를 이 서비스 계정과 연결된 프로젝트 번호로 바꿉니다.
오류: There was an error loading this table. Check that the table exists and that you have the correct permissions.
해결 방법:
Google Cloud 콘솔에서 BigQuery 페이지로 이동합니다.
BigQuery로 이동 [https://console.cloud.google.com/bigquery?hl=ko]
전송에 사용된 대상 데이터 세트를 클릭합니다.
공유 메뉴를 클릭한 다음 권한을 클릭합니다.
BigQuery 데이터 편집자 역할을 펼칩니다.
BigQuery Data Transfer Service 서비스 에이전트가 이 역할에 추가되었는지 확인합니다. 그렇지 않으면 BigQuery Data Transfer Service 서비스 에이전트에 BigQuery 데이터 편집자(roles/bigquery.dataEditor) 역할을 부여합니다.
오류: A permission denied error was encountered: PERMISSION_DENIED. Please ensure that the user account setting up the transfer config has the necessary permissions, and that the configuration settings are correct
해결 방법:
Google Cloud 콘솔에서 데이터 전송 페이지로 이동합니다.
데이터 전송으로 이동 [https://console.cloud.google.com/bigquery/transfers?hl=ko]
실패한 전송을 클릭한 다음 구성 탭을 선택합니다.
사용자 입력란에 나열된 전송 소유자에게 데이터 소스에 필요한 모든 권한이 있는지 확인합니다.
이전 소유자에게 필요한 권한이 모두 없는 경우 사용자 인증 정보를 업데이트 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#update_credentials]하여 필요한 권한을 부여합니다. 필요한 권한을 가진 전송 소유자를 다른 사용자로 변경할 수도 있습니다.
오류: Authentication failure: User Id not found. Error code: INVALID_USERID
해결 방법: 전송 소유자의 사용자 ID가 잘못되었습니다. 사용자 인증 정보를 업데이트 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#update_credentials]하여 전송 소유자를 다른 사용자로 변경합니다. 서비스 계정을 사용하는 경우 데이터 전송을 실행하는 계정에 서비스 계정을 사용하는 데 필요한 모든 권한 [https://cloud.google.com/bigquery/docs/use-service-accounts?hl=ko#required_permissions]이 있는지도 확인해야 합니다.
오류: The user does not have permission
해결 방법: 전송 소유자가 서비스 계정이고, 해당 서비스에 필요한 모든 권한이 설정되어 있는지 확인합니다. 다른 가능성은 사용된 서비스 계정이 이 전송을 만드는 데 사용한 프로젝트가 아닌 다른 프로젝트에 생성되었을 수 있습니다. 프로젝트 간 권한 문제를 해결하려면 다음 리소스를 참조하세요.
프로젝트 간 서비스 계정 연결 사용 설정 [https://cloud.google.com/iam/docs/attach-service-accounts?hl=ko#enabling-cross-project]
프로젝트 간 서비스 계정 승인 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko#cross-project_service_account_authorization](필요한 권한 부여용)
오류: HttpError 403 when requesting returned "The caller does not have permission"
googleapiclient.errors.HttpError: <HttpError 403 when requesting returned "The caller does not have permission". Details: "The caller does not have permission">
이 오류는 서비스 계정을 사용하여 예약된 쿼리를 설정하려고 시도할 때 표시될 수 있습니다.
해결 방법: 서비스 계정에 예약된 쿼리를 예약하거나 수정하는 데 필요한 모든 권한 [https://cloud.google.com/bigquery/docs/scheduling-queries?hl=ko#required_permissions]이 있는지 확인하고, 예약된 쿼리를 설정하는 사용자에게 서비스 계정에 대한 액세스 권한 [https://cloud.google.com/iam/docs/service-account-overview?hl=ko#service-account-permissions]이 있는지 확인하세요.
올바른 권한이 모두 할당되었지만 여전히 오류가 발생하는 경우 프로젝트에 교차 프로젝트 서비스 계정 사용 중지 정책이 기본적으로 적용되는지 확인합니다. Google Cloud 콘솔에서 IAM 및 관리자 > 조직 정책으로 이동하여 정책을 검색하면 정책을 확인할 수 있습니다.
교차 프로젝트 서비스 계정 사용 중지 정책이 시행되면 다음을 수행하여 정책을 사용 중지할 수 있습니다.
Google Cloud 콘솔에서 IAM 및 관리자 > 서비스 계정으로 이동하여 프로젝트와 연결된 서비스 계정을 식별합니다. 이 뷰에는 현재 프로젝트의 모든 서비스 계정이 표시됩니다.
다음 명령어를 사용하여 서비스 계정이 있는 프로젝트에서 정책을 사용 중지하세요. 이 정책을 비활성화하려면 사용자가 조직 정책 관리자 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#orgpolicy.policyAdmin]여야 합니다. 조직 관리자만 사용자에게 이 역할을 부여할 수 있습니다.
gcloud resource-manager org-policies disable-enforce iam.disableCrossProjectServiceAccountUsage --project=[
PROJECT-ID]
이벤트 기반 전송 구성 문제
다음은 이벤트 기반 전송을 만들 때 발생할 수 있는 일반적인 문제입니다.
오류: Data Transfer Service is not authorized to pull message from the provided Pub/Sub subscription.
해결 방법: BigQuery Data Transfer Service 서비스 에이전트 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko#service_agent]에 pubsub.subscriber 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#pubsub.subscriber]이 부여되었는지 확인합니다.
Google Cloud 콘솔에서 Pub/Sub 페이지로 이동합니다.
Pub/Sub로 이동 [https://console.cloud.google.com/cloudpubsub/subscription/list?hl=ko]
이벤트 기반 전송에 사용한 Pub/Sub 구독을 선택합니다.
정보 패널이 숨겨져 있으면 오른쪽 상단에서 정보 패널 표시를 클릭합니다.
권한 탭에서 BigQuery Data Transfer Service 서비스 에이전트 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko#service_agent]에 pubsub.subscriber 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#pubsub.subscriber]이 있는지 확인합니다.
서비스 에이전트에 pubsub.subscriber 역할이 부여되지 않은 경우 person_add 주 구성원 추가를 클릭하여 service-PROJECT_NUMBER@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com에 pubsub.subscriber 역할을 부여합니다.
오류: Cloud Pub/Sub API has not been used in project PROJECT_NUMBER before or it is disabled.
해결 방법: 프로젝트에 Cloud Pub/Sub API가 사용 설정되어 있는지 확인합니다.
Google Cloud 콘솔에서 API 및 서비스 페이지로 이동합니다.
API 및 서비스로 이동합니다. [https://console.cloud.google.com/apis/dashboard?hl=ko]
API 및 서비스 사용 설정을 클릭합니다.
Cloud Pub/Sub API를 검색하고 첫 번째 결과를 선택한 다음 사용 설정을 클릭합니다.
오류: Data Transfer Service does not have required permission to use project quota of project PROJECT_NUMBER to access Pub/Sub.
해결 방법: BigQuery Data Transfer Service 서비스 에이전트 [https://cloud.google.com/bigquery/docs/enable-transfer-service?hl=ko#service_agent]에 serviceusage.serviceUsageConsumer 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#serviceusage.serviceUsageConsumer]이 부여되었는지 확인합니다.
Google Cloud 콘솔에서 IAM 및 관리자 페이지로 이동합니다.
IAM 및 관리자로 이동 [https://console.cloud.google.com/iam-admin/iam?hl=ko]
Google제공 역할 부여 포함 체크박스를 선택합니다.
service-<project_number>@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com 이름의 서비스 계정이 표시되고 서비스 사용량 소비자 역할 [https://cloud.google.com/iam/docs/understanding-roles?hl=ko#serviceusage.serviceUsageConsumer]이 부여되었는지 확인합니다.
문제: Cloud Storage 이벤트 기반 전송을 사용하는 경우 Cloud Storage 버킷에 파일을 업로드하거나 업데이트한 후 전송 실행이 트리거되지 않습니다.
전송 실행은 이벤트가 수신된 직후에 트리거되지 않습니다. 이전 실행을 트리거하는 데 몇 분 정도 걸릴 수 있습니다. 다음 전송 실행의 상태를 확인하려면 실행 기록 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#view_transfer_run_history]에서 다음 실행 타겟 날짜 필드를 확인하면 됩니다. 이 필드에는 다음 실행의 예약 시간이 표시되며 이벤트가 수신되지 않은 경우 다음 실행 예약을 위해 이벤트 대기 중이 표시됩니다. Cloud Storage 버킷에 파일을 업로드하거나 업데이트했지만 다음 실행 타겟 날짜가 업데이트되지 않고 10~20분 동안 실행이 트리거되지 않는 경우 다음 해결 방법을 참고하세요.
해결 방법: 전송 구성에 지정된 Pub/Sub 구독이 Cloud Storage 이벤트에서 게시된 메시지를 가져올 수 있는지 확인합니다.
Google Cloud 콘솔에서 Pub/Sub 페이지로 이동합니다.
Pub/Sub로 이동 [https://console.cloud.google.com/cloudpubsub/subscription/list?hl=ko]
이벤트 기반 전송에 사용한 Pub/Sub 구독을 선택합니다.
측정항목 탭에서 '가장 오래된 미확인 메시지 기간' 그래프를 확인하고 메시지가 있는지 확인합니다.
메시지가 게시되지 않으면 Cloud Storage에 Pub/Sub 알림이 올바르게 구성되어 있는지 확인합니다. 다음 Google Cloud CLI 명령어를 사용하여 버킷과 연결된 알림 구성을 확인할 수 있습니다.
gcloud storage buckets notifications list gs://
BUCKET_NAME
BUCKET_NAME을 알림에 사용하는 버킷 이름으로 바꿉니다. Cloud Storage용 Pub/Sub 알림 구성에 관한 자세한 내용은 Cloud Storage용 Pub/Sub 알림 구성 [https://cloud.google.com/storage/docs/reporting-changes?hl=ko]을 참고하세요.
메시지가 있는 경우 다른 이벤트 기반 전송 구성에서 동일한 Pub/Sub 구독이 사용되는지 확인합니다. 동일한 Pub/Sub 구독은 여러 이벤트 기반 전송 구성에서 재사용할 수 없습니다. 이벤트 기반 전송에 관한 자세한 내용은 이벤트 기반 전송 [https://cloud.google.com/bigquery/docs/event-driven-transfer?hl=ko]을 참고하세요.
Amazon S3 전송 문제
다음은 Amazon S3 전송을 생성할 때 [https://cloud.google.com/bigquery/docs/s3-transfer?hl=ko] 발생하는 일반적인 오류입니다.
Amazon S3 PERMISSION_DENIED 오류
오류: The AWS Access Key Id you provided does not exist in our records.
해결 방법: 액세스 키가 존재하고 ID가 올바른지 확인합니다.
오류: The request signature we calculated does not match the signature you provided. Check your key and signing method.
해결 방법: 전송 구성에 올바른 해당 보안 비밀 액세스 키가 있는지 확인합니다.
오류: Failed to obtain the location of the source S3 bucket. Additional details: Access Denied
오류: Failed to obtain the location of the source S3 bucket. Additional details: HTTP/1.1 403 Forbidden
오류: Access Denied(S3 오류 메시지)
해결 방법: AWS IAM 사용자에게 다음을 수행할 권한이 있는지 확인합니다.
Amazon S3 버킷을 나열합니다.
버킷의 위치를 가져옵니다.
버킷의 객체를 읽습니다.
오류: Server unable to initialize object upload.; InvalidObjectState: The operation is not valid for the object's storage class
오류: Failed to obtain the location of the source S3 bucket. Additional details: All access to this object has been disabled
해결 방법: Amazon Glacier에 보관처리된 객체를 모두 복원합니다. Amazon Glacier에 보관처리된 Amazon S3의 객체는 복원되기 전에는 액세스할 수 없습니다.
오류: All access to this object has been disabled
해결 방법: 전송 구성의 Amazon S3 URI가 올바른지 확인합니다.
Amazon S3 전송 제한 오류
오류: Number of files in transfer exceeds limit of 10,000.
해결 방법: Amazon S3 URI에서 와일드 카드 [https://cloud.google.com/bigquery/docs/s3-transfer-intro?hl=ko#wildcard-support]의 수를 1개로 줄일 수 있는지 확인합니다. 이렇게 할 수 있으면, 전송 실행 당 최대 파일수가 더 많아지므로 [https://cloud.google.com/bigquery/docs/s3-transfer-intro?hl=ko#quotas_and_limits] 새로운 전송 구성으로 다시 시도하세요. 또한, 전송 구성을 각각 소스 데이터의 일부를 전송하는 여러 전송 구성으로 분할할 수 있는지 확인할 수도 있습니다.
오류: Size of files in transfer exceeds limit of 16492674416640 bytes.
해결 방법: 전송 구성을 각각 소스 데이터의 일부를 전송하는 여러 전송 구성으로 분할할 수 있는지 확인합니다.
일반적인 Amazon S3 문제
문제: 파일이 Amazon S3에서 전송되었지만 BigQuery로 로드되지 않습니다.
전송 로그는 다음과 유사하게 표시됩니다. Moving data from Amazon S3 to Google Cloud complete: Moved N object(s). No new files found matching Amazon_S3_URI.
해결 방법: 전송 구성의 Amazon S3 URI가 올바른지 확인합니다. 전송 구성이 공통의 프리픽스가 있는 모든 파일을 로드하기 위한 것이라면 Amazon S3 URI가 와일드 카드로 끝나는지 확인하세요.예를 들어 s3://my-bucket/my-folder/의 모든 파일을 로드하려면 전송 구성의 Amazon S3 URI가 s3://my-bucket/my-folder/가 아니라 s3://my-bucket/my-folder/*여야 합니다.
Azure Blob Storage 전송 문제
다음은 Blob Storage 전송을 생성할 [https://cloud.google.com/bigquery/docs/blob-storage-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: Number of files in transfer exceeds the limit of 10,000.
해결 방법: Blob 스토리지 데이터 경로에서 와일드카드 [https://cloud.google.com/bigquery/docs/blob-storage-transfer-intro?hl=ko#wildcard-support] 수를 0 또는 1로 줄여서 파일 한도를 10,000,000개로 늘립니다. 또한 각 소스의 일부를 전송하는 여러 전송 구성으로 분할합니다.
오류: Size of files in transfer exceeds the limit of 15 TB.
해결 방법: 각 소스 데이터의 일부를 전송하는 여러 전송 구성으로 분할합니다.
오류: Provided Azure SAS Token does not have required permissions.
해결 방법: 전송 구성의 Azure SAS 토큰이 올바른지 확인합니다. 자세한 내용은 공유 액세스 서명(SAS) [https://cloud.google.com/bigquery/docs/blob-storage-transfer-intro?hl=ko#shared-access-signature]을 참조하세요.
오류: Transfer encountered error, status:PERMISSION_DENIED, details:[This request is not authorized to perform this operation.]
해결 방법: BigQuery Data Transfer Service 작업자가 사용하는 IP 범위가 허용된 IP 목록에 추가되었는지 확인합니다. 자세한 내용은 IP 제한사항 [https://cloud.google.com/bigquery/docs/blob-storage-transfer-intro?hl=ko#ip_restrictions]을 참고하세요.
문제: 파일이 Blob Storage에서 전송되었지만 BigQuery로 로드되지 않습니다.
전송 로그는 다음과 유사하게 표시됩니다. Moving data to Google Cloud complete: Moved <var>N</var> object(s). No new files found matching Blob Storage data path.
해결 방법: 전송 구성의 Blob Storage 데이터 경로가 올바른지 확인합니다.
Campaign Manager 전송 문제
다음은 Campaign Manager 전송을 생성할 [https://cloud.google.com/bigquery/docs/doubleclick-campaign-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: Import failed - no data was available for import. Please verify that data existence was expected.
오류: No data available for the requested date. Please try an earlier run date or verify that data existence was expected.
해결 방법: 전송에 올바른 ID [https://cloud.google.com/bigquery/docs/doubleclick-campaign-transfer?hl=ko#set_up_a_campaign_manager_transfer]를 사용하고 있는지 확인합니다. 올바른 ID를 사용 중이면 Campaign Manager Cloud Storage 버킷에 지정된 기간에 해당하는 데이터 전송 V2.0 파일이 있는지 확인합니다. 파일이 있다면 영향을 받은 기간의 백필을 예약하세요. Campaign Manager 백필 요청 생성에 관한 자세한 내용은 수동으로 전송 또는 백필 트리거 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#manually_trigger_a_transfer_or_backfill]를 참고하세요.
Cloud Storage 버킷에서 파일 생성 시간을 확인하여 전송 실행이 예약되었을 때 파일이 있었는지 여부를 확인할 수 있습니다. 일부 경우 Campaign Manager 데이터 전송 파일의 첫 번째 배치가 생성되기 전에 하루의 첫 번째 전송 실행이 예약될 수 있습니다. 당일 이후의 실행은 Campaign Manager에서 생성한 모든 파일을 로드합니다.
오류: A permission denied error was encountered: PERMISSION_DENIED. Please ensure that the user account setting up the transfer config has the necessary permissions, and that the configuration settings are correct.
해결 방법: Campaign Manager 전송을 만드는 사용자에게 데이터 전송 V2.0 파일이 포함된 Cloud Storage 버킷 [https://console.cloud.google.com/storage?hl=ko]에 대한 읽기 권한이 있어야 합니다. 사용자는 Campaign Manager 관리자로부터 Cloud Storage 버킷 정보를 확인하고 액세스를 요청할 수 있습니다.
Google Ads 전송 문제
다음은 Google Ads 전송을 생성할 [https://cloud.google.com/bigquery/docs/google-ads-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: AUTH_ERROR_TWO_STEP_VERIFICATION_NOT_ENROLLED
해결 방법: 이 오류는 이 전송에 사용된 Google Ads 사용자에게 2단계 인증이 사용 설정되어 있지 않음을 나타냅니다. 2단계 인증을 사용 설정하는 방법에 관한 자세한 내용은 2단계 인증 사용 [https://support.google.com/accounts/answer/185839?hl=ko]을 참고하세요.
오류: No jobs to start for run
해결 방법: 이 오류는 잘못된 설정 또는 처리 중에 발생한 오류로 인해 전송 실행에 대해 시작된 로드 작업이 없음을 나타냅니다. 이 오류를 해결하려면 다음 단계를 따르세요.
전송 실행 기록 로그에서 오류 및 경고를 확인합니다.
로드하려는 테이블에 segments_date, segments_week, segments_month, segments_quarter 또는 segments_year 열이 없는 경우 run_date가 최신 날짜가 아니면 로드가 건너뜁니다. 자세한 내용은 Google Ads 이전 수동 트리거 [https://cloud.google.com/bigquery/docs/google-ads-transfer?hl=ko#backfill] 및 맞춤 보고서 [https://cloud.google.com/bigquery/docs/google-ads-transfer?hl=ko#custom_reports]를 참고하세요.
근본 원인을 찾는 데 문제가 있는 경우 지원을 요청 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하세요.
오류: Import failed - no data was available for import. Please verify that data existence was expected.
오류: No data available for the requested date. Please try an earlier run date or verify that data existence was expected.
해결 방법: Google Ads 전송을 생성할 때 이 오류가 발생하면 오류 메시지 화면을 캡처하여 지원을 요청 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]합니다.
오류: AuthenticationError.NOT_ADS_USER.
해결 방법: Google Ads 전송을 설정하는 사용자는 Google Ads 계정/로그인이 있어야 합니다.
오류: Request is missing required authentication credential
해결 방법: 사용자 또는 서비스 계정에 Google Ads 계정에 대한 액세스 권한이 없습니다. 필수 권한 [https://cloud.google.com/bigquery/docs/google-ads-transfer?hl=ko#required_permissions]에 따라 사용자 또는 서비스 계정에 필요한 권한을 부여합니다.
오류: ERROR_GETTING_RESPONSE_FROM_BACKEND.
해결 방법: Google Ads 전송 실행이 실패하고 ERROR_GETTING_RESPONSE_FROM_BACKEND가 반환되면 전송 구성에서 삭제/중지 항목 제외 옵션을 사용 설정 [https://cloud.google.com/bigquery/docs/google-ads-transfer?hl=ko#setup-data-transfer]하고 백필을 설정 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#backfill]하여 실패한 전송 실행이 영향을 끼친 기간 동안의 데이터를 가져옵니다.
경고: Data for the report ClickStats was not available for the specified date.
오류: INVALID_DATE_RANGE_FOR_REPORT.
해결 방법: 90일보다 더 오랜 기간이 지난 클릭 실적 보고서 [https://developers.google.com/adwords/api/docs/appendix/reports/click-performance-report?hl=ko] 데이터를 백필하는 경우에 발생합니다. 이 경우 이 경고 또는 오류가 표시되며, ClickStats 테이블이 지정된 날짜에 업데이트되지 않습니다.
오류: Error while processing report for table table_name for account id account_id. Http(400) Bad Request;
오류: AuthorizationError.TWO_STEP_VERIFICATION_NOT_ENROLLED
해결 방법: 이 전송과 연결된 사용자 계정에 2단계 인증(또는 다중 인증)이 사용 설정되지 않은 경우 이 계정에 대한 2단계 인증을 사용 설정 [https://support.google.com/google-ads/answer/12864186?hl=ko]한 다음 실패한 전송 작업을 다시 실행합니다. 서비스 계정은 2단계 인증 요구사항에서 제외됩니다.
오류: Quota exceeded: Your project exceeded quota for imports per project
해결 방법: BigQuery의 로드 작업 할당량 [https://cloud.google.com/bigquery/quotas?hl=ko#load_jobs]이 전송에 적용됩니다. 로드 작업의 할당량 한도가 도달한 경우 table_filter [https://cloud.google.com/bigquery/docs/google-ads-transfer?hl=ko#setup-data-transfer]를 사용하거나, 사용하지 않는 전송 구성을 삭제하거나, 새로고침 기간을 줄여 불필요한 로드를 줄이세요. 할당량을 늘려야 하는 경우 Google Cloud 영업 담당자에게 문의하세요. 자세한 내용은 할당량 및 한도 [https://cloud.google.com/bigquery/quotas?hl=ko]를 참고하세요.
Google Ad Manager 전송 문제
다음은 Google Ad Manager 전송 [https://cloud.google.com/bigquery/docs/doubleclick-publisher-transfer?hl=ko]을 생성할 때 발생하는 일반적인 오류입니다.
오류: Another transfer run is concurrently processing table.
해결 방법: 이 오류는 현재 전송 실행이 시작될 때 동일한 전송 구성으로 실행되는 다른 전송이 실행을 완료하지 않은 경우 발생할 수 있습니다.
대용량 Google Ad Manager 데이터 전송 (Google Ad Manager DT) 파일로 인해 지연 시간이 발생하는 경우 로드 성능이 더 우수한 Parquet 형식 [https://support.google.com/admanager/answer/1733124?hl=ko]을 사용 설정해 보세요.
지연 시간이 데이터 이동 색인으로 인해 발생하는 경우 매개변수 load_match_tables를 false로 설정하여 데이터 이동 색인을 건너뛰는 것이 좋습니다.
전송을 처리하는 데 현재 반복 빈도보다 시간이 더 오래 걸리는 경우 반복 빈도를 조정합니다.
오류: No data available for the requested date. Please try an earlier run date or verify that data existence was expected.
오류: Import failed - no data was available for import. Please verify that data existence was expected.
해결 방법: Google Ad Manager Cloud Storage 버킷 [http://console.cloud.google.com/storage?hl=ko]에 지정된 기간에 해당하는 데이터 전송 파일이 있는지 확인합니다. Google Ad Manager 관리자는 사용자의 데이터 전송 파일을 포함한 Cloud Storage 버킷 [http://console.cloud.google.com/storage?hl=ko]을 관리합니다. Google Ad Manager 전송을 만드는 사용자는 버킷에 대한 읽기 권한이 있는 Google 그룹의 구성원이어야 합니다.
Google Ad Manager 데이터 전송 버킷 [http://console.cloud.google.com/storage?hl=ko]의 파일 읽기를 시도하여 Cloud Storage 권한을 확인할 수 있습니다. Google Ad Manager Cloud Storage 버킷에 대한 자세한 내용은 Google Ad Manager 저장소 버킷 액세스 [https://support.google.com/admanager/answer/1733127?hl=ko]를 참조하세요.
Cloud Storage 버킷에서 파일 생성 시간을 확인하여 전송 실행이 예약되었을 때 파일이 있었는지 여부를 확인할 수 있습니다. 경우에 따라 Google Ad Manager 데이터 전송 파일의 첫 번째 배치가 생성되기 전에 하루의 첫 번째 전송 실행이 예약될 수 있습니다. 당일 이후의 실행은 Google Ad Manager에서 생성한 모든 파일을 로드합니다.
데이터 전송 버킷에 파일이 있고 사용자에게 읽기 권한이 있다면 영향을 받은 기간에 대하여 백필을 예약하세요. Google Ad Manager 백필 요청 생성에 관한 자세한 내용은 백필 설정 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#backfill]을 참조하세요.
오류: AuthenticationError: NO_NETWORKS_TO_ACCESS.
해결 방법: Google Ad Manager 네트워크에 대한 읽기 권한이 있는지 확인합니다. 네트워크 액세스 권한을 판단하는 데 도움이 필요하면 Google Ad Manager 지원팀 [https://support.google.com/admanager/answer/3059042?hl=ko]에 문의하세요.
오류: Error code 9 : Field field_name?field_name?field_name?RefererURL is unknown.; Table: table_name
해결 방법: 손(þ) 구분 기호가 사용되고 있지 않은지 확인합니다. 손 구분 기호는 지원되지 않습니다. 손을 사용 중이면 오류 메시지에 ? 표시가 나타납니다.
오류: Incompatible table partitioning specification. Destination table exists with partitioning specification interval(type:Day,field:) clustering
해결 방법: Google Ads Manager 커넥터는 클러스터링이 있는 데이터 세트로의 데이터 전송을 지원하지 않습니다. 대신 클러스터링 없는 데이터 세트를 사용하세요.
Google 판매자 센터 전송 문제
다음은 Google 판매자 센터 전송을 생성할 [https://cloud.google.com/bigquery/docs/merchant-center-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: No data to transfer found for the Merchant account. If you have just created this transfer - you may need to wait for up to 90 minutes before the data of your Merchant account are prepared and available for the transfer.
해결 방법: 이 오류는 일정 섹션에서 기본 시작 날짜와 시간을 사용하여 전송을 설정할 경우에 발생합니다. 기본 예약 값을 사용할 경우 전송이 생성된 직후에 첫 번째 전송 실행이 시작되지만 전송할 판매자 계정 데이터가 준비되어 있지 않기 때문에 전송이 실패합니다. 90분 동안 기다린 후 오늘 날짜로 백필을 설정 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#backfill]하거나 다음 예약이 실행되는 내일까지 기다리면 됩니다.
오류: No data to transfer found for Merchant account. This can be because your account currently doesn't have any products.
해결 방법: 이 오류는 판매자 계정에 제품이 없음을 나타냅니다. 판매자 계정에 제품을 추가하면 전송이 작동하기 시작합니다.
오류: Transfer user doesn't have access to the Merchant account. Please verify access in the Users section of the Google Merchant Center.
해결 방법: 이 오류는 전송을 설정한 사용자에게 전송에 사용되는 판매자 계정에 대한 액세스 권한이 없음을 나타냅니다. 이 문제를 해결하려면 Google 판매자 센터에서 누락된 계정 액세스 권한을 확인하고 부여하세요 [https://support.google.com/merchants/answer/1637190?hl=ko].
오류: Transfer user doesn't have user roles that allows access to the product data of the Merchant account. Please verify access and roles in the Users section of the Google Merchant Center.
해결 방법: 이 오류는 전송을 설정한 사용자에게 전송에 사용되는 판매자 계정의 제품 데이터에 대한 액세스 권한이 없음을 나타냅니다. 이 문제를 해결하려면 Google 판매자 센터에서 누락된 사용자 역할을 확인하고 부여하세요 [https://support.google.com/merchants/answer/1637190?hl=ko].
오류: Historical backfills are currently not supported.
해결 방법: 이 오류는 이전 날짜로 백필을 설정 [https://cloud.google.com/bigquery/docs/working-with-transfers?hl=ko#backfill]할 경우에 발생합니다. 이 오류는 예상된 오류입니다. 이전 데이터 백필은 지원되지 않습니다. 예약된 일일 실행이 이미 완료된 후 오늘의 데이터를 새로 고치기 위해 오늘 날짜로 백필을 설정하는 것만이 가능합니다.
Google Play 전송 문제
다음은 Google Play 전송을 생성할 [https://cloud.google.com/bigquery/docs/play-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: No jobs to start for run
해결 방법: 사용자에게 Google Play 전송을 시작할 수 있는 충분한 권한 [https://cloud.google.com/bigquery/docs/play-transfer?hl=ko#required_permissions]이 있는지 확인한 후 사용자가 전송을 설정할 때 올바른 Cloud Storage 버킷를 지정했는지 확인합니다. 그래도 사용자에게 오류가 발생한다면 지원을 요청 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하면 됩니다.
문제: 수익 및 재무 보고서가 BigQuery에 로드되지 않음
해결 방법: 재무 Google Play 보고서에 액세스하려면 사용자에게 View financial data 권한이 있어야 합니다. 개발자 계정 권한을 관리하려면 개발자 계정 사용자 추가 및 권한 관리 [https://support.google.com/googleplay/android-developer/answer/9844686?visit_id=638158652462486298-3898390440&%3Brd=1&hl=ko]를 참조하세요.
MySQL 전송 문제
다음은 MySQL 전송을 생성할 [https://cloud.google.com/bigquery/docs/mysql-transfer?hl=ko] 때 발생할 수 있는 일반적인 문제입니다.
오류: PERMISSION_DENIED. Failed to authenticate or permission denied with the provided credentials when starting to transfer asset asset-name.
해결 방법: 제공한 connector.authentication.username 및 connector.authentication.password 매개변수가 유효하고 작동하는지 확인합니다.
오류: NOT_FOUND. Invalid data source configuration provided when starting to transfer asset asset-name: APPLICATION_ERROR;google.cloud.bigquery.federationv1alpha1/ConnectorService.StartQuery;INVALID_ARGUMENT:Exception was thrown by the Connector implementation: Table table-name does not exist in asset asset-name.
해결 방법: 테이블 또는 뷰 이름의 맞춤법이 올바르고, 참조된 테이블 또는 뷰 이름이 존재하며, 동의어 (별칭)가 기존 테이블 또는 뷰를 가리키는지 확인합니다.
테이블 또는 뷰가 있는 경우 테이블에 대한 액세스 권한이 필요한 데이터베이스 사용자에게 올바른 액세스 권한이 부여되었는지 확인합니다. 테이블 또는 뷰가 없는 경우 테이블을 만듭니다.
다른 스키마의 테이블 또는 뷰에 액세스하려는 경우 올바른 스키마가 참조되고 객체에 대한 액세스 권한이 부여되었는지 확인합니다.
테이블 또는 뷰 이름이 제공된 경우 object_name로 지정해야 합니다. 그렇지 않으면 빈 문자열이 됩니다.
오류: SERVICE_UNAVAILABLE. Timed out when starting to transfer asset asset-name. Ensure the datasource is reachable and the datasource configuration (Credentials, Network Attachment etc.) is correct.
오류: DEADLINE_EXCEEDED. Timed out when starting to transfer asset asset-name. Ensure the datasource is reachable and the datasource configuration (Credentials, Network Attachment etc.) is correct.
해결 방법: 제공된 데이터베이스 세부정보가 올바른지 확인하고 전송 구성에 사용된 네트워크 첨부파일이 올바르게 설정되어 있는지 확인합니다. 기한 내에 송금이 완료되지 않았을 수도 있습니다.
오류: INTERNAL
해결 방법: 다른 문제로 인해 전송에 실패했습니다. 이 문제를 해결하려면 Cloud Customer Care에 문의 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하세요.
오류: INVALID_ARGUMENT. Connection to the host and port failed. Please check that the host, port, encryptionMode and network attachment are correct.
해결 방법: 호스트, 포트, 암호화 모드, 네트워크 설정이 올바르게 구성되었는지 확인합니다. 네트워크 연결 상태와 데이터베이스 서버에 액세스할 수 있는지 확인합니다. EncryptionMode가 FULL로 설정된 경우 서버가 필요한 프로토콜을 지원하고, 유효한 인증서가 있으며, 안전한 연결을 허용하는지 확인합니다. EncryptionMode가 DISABLE로 설정된 경우 서버가 비SSL 연결을 허용하는지 확인합니다. 애플리케이션 및 데이터베이스 로그에서 연결 관련 또는 SSL/TLS 관련 오류를 검토합니다.
Oracle 전송 문제
다음은 Oracle 전송을 생성할 때 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko] 발생할 수 있는 일반적인 문제입니다.
오류: PERMISSION_DENIED. ORA-01017: invalid username/password; logon denied
해결 방법: 제공된 Oracle 사용자 인증 정보가 유효한지 확인합니다.
오류: PERMISSION_DENIED. ORA-01045: user lacks CREATE SESSION privilege; logon denied
해결 방법: Oracle 사용자에게 CREATE SESSION 시스템 권한을 부여합니다. Oracle 권한 부여에 대한 자세한 정보는 GRANT [https://docs.oracle.com/cd/B13789_01/server.101/b10759/statements_9013.htm]를 참조하세요.
오류: SERVICE_UNAVAILABLE. ORA-12541: Cannot connect. No listener at host HOSTNAME port PORT 또는 SERVICE_UNAVAILABLE. Connection failed: IO Error. The Network Adapter could not establish the connection
해결 방법: 제공된 호스트 이름 및 포트 세부정보가 올바르고 네트워크 첨부파일이 올바르게 설정되어 있는지 확인합니다.
오류: NOT_FOUND. ORA-00942: table or view does not exist
해결 방법: 다음을 각각 확인하세요.
테이블 또는 뷰 이름의 철자가 올바릅니다.
참조된 테이블 또는 뷰 이름이 존재합니다.
동의어는 기존 테이블 또는 뷰를 가리킵니다. 테이블 또는 뷰가 있는 경우 테이블에 대한 액세스 권한이 필요한 데이터베이스 사용자에게 올바른 액세스 권한이 부여되었는지 확인합니다. 그렇지 않으면 테이블을 만듭니다.
다른 스키마의 테이블 또는 뷰에 액세스하려는 경우 올바른 스키마가 참조되고 객체에 대한 액세스 권한이 부여되었는지 확인합니다.
오류: NOT_FOUND. Schema schema does not exist.
해결 방법: 지정된 스키마가 존재하지 않습니다.
오류: DEADLINE_EXCEEDED
해결 방법: 전송 실행이 최대 6시간 기한 내에 완료되지 않았습니다. 큰 전송을 여러 개의 작은 전송으로 분할하여 전송 실행 시간을 줄입니다.
오류: INTERNAL
해결 방법: 다른 문제로 인해 전송에 실패했습니다. 이 문제를 해결하려면 Cloud Customer Care에 문의 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하세요.
오류: INVALID_ARGUMENT
해결 방법: 전송 구성에 제공된 값이 잘못되어 전송이 실패합니다. 유효한 전송 구성 값에 관한 자세한 내용은 Oracle 전송 설정 [https://cloud.google.com/bigquery/docs/oracle-transfer?hl=ko#oracle-transfer-setup]을 참고하세요.
오류: SQL Error [1950] [42000]: ORA-01950: no privileges on tablespace 'TablespaceName'
해결 방법: 사용자에게 기본 테이블스페이스를 할당합니다. 자세한 내용은 기본 테이블스페이스 할당 [https://docs.oracle.com/cd/B19306_01/network.102/b14266/admusers.htm#i1006219]을 참조하세요.
오류: 403 PERMISSION_DENIED. Required 'compute.subnetworks.use' permission for project
해결 방법: 이 오류는 네트워크 연결이 전송 구성이 있는 위치와 다른 프로젝트에 있는 경우 발생할 수 있습니다. 이 문제를 해결하려면 네트워크 첨부파일이 있는 프로젝트에서 서비스 계정 (예: service-customer_project_number@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com)에 다음 권한을 부여해야 합니다.
compute.networkAttachments.get
compute.networkAttachments.update
compute.subnetworks.use
compute.regionOperations.get
또한, 이 오류는 네트워크 연결이 공유 VPC와 같이 다른 프로젝트에 있는 VPC(가상 프라이빗 클라우드)에 연결하려고 하는 경우에도 발생할 수 있습니다. 이 경우 서비스 계정(예: service-customer_project_number@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com)에 공유 VPC의 호스팅 프로젝트에 대한 compute.subnetworks.use 권한을 부여해야 합니다.
PostgreSQL 전송 문제
다음은 PostgreSQL 전송을 생성 [https://cloud.google.com/bigquery/docs/postgresql-transfer?hl=ko]할 때 발생할 수 있는 일반적인 문제입니다.
오류: PERMISSION_DENIED. Failed to authenticate or permission denied with the provided credentials when starting to transfer asset asset-name.
해결 방법: 제공한 connector.authentication.username 및 connector.authentication.password 매개변수가 유효하고 작동하는지 확인합니다.
오류: NOT_FOUND. Invalid data source configuration provided when starting to transfer asset asset-name: APPLICATION_ERROR;google.cloud.bigquery.federationv1alpha1/ConnectorService.StartQuery;INVALID_ARGUMENT:Exception was thrown by the Connector implementation: Table table-name does not exist in asset asset-name.
해결 방법: 테이블 또는 뷰 이름의 맞춤법이 올바르고, 참조된 테이블 또는 뷰 이름이 존재하며, 동의어 (별칭)가 기존 테이블 또는 뷰를 가리키는지 확인합니다.
테이블 또는 뷰가 있는 경우 테이블에 대한 액세스 권한이 필요한 데이터베이스 사용자에게 올바른 액세스 권한이 부여되었는지 확인합니다. 테이블 또는 뷰가 없는 경우 테이블을 만듭니다.
다른 스키마의 테이블 또는 뷰에 액세스하려는 경우 올바른 스키마가 참조되고 객체에 대한 액세스 권한이 부여되었는지 확인합니다.
테이블 또는 뷰 이름이 제공된 경우 object_name로 지정해야 합니다. 그렇지 않으면 빈 문자열이 됩니다.
오류: SERVICE_UNAVAILABLE. Timed out when starting to transfer asset asset-name. Ensure the datasource is reachable and the datasource configuration (Credentials, Network Attachment etc.) is correct.
오류: DEADLINE_EXCEEDED. Timed out when starting to transfer asset asset-name. Ensure the datasource is reachable and the datasource configuration (Credentials, Network Attachment etc.) is correct.
해결 방법: 제공된 데이터베이스 세부정보가 올바른지 확인하고 전송 구성에 사용된 네트워크 첨부파일이 올바르게 설정되어 있는지 확인합니다. 기한 내에 송금이 완료되지 않았을 수도 있습니다.
오류: INTERNAL
해결 방법: 다른 문제로 인해 전송에 실패했습니다. 이 문제를 해결하려면 Cloud Customer Care에 문의 [https://cloud.google.com/bigquery/docs/getting-support?hl=ko]하세요.
오류: INVALID_ARGUMENT. Connection to the host and port failed. Please check that the host, port, encryptionMode and network attachment are correct.
해결 방법: 호스트, 포트, 암호화 모드, 네트워크 설정이 올바르게 구성되었는지 확인합니다. 네트워크 연결 상태와 데이터베이스 서버에 액세스할 수 있는지 확인합니다. EncryptionMode가 FULL로 설정된 경우 서버가 필요한 프로토콜을 지원하고, 유효한 인증서가 있으며, 안전한 연결을 허용하는지 확인합니다. EncryptionMode가 DISABLE로 설정된 경우 서버가 비SSL 연결을 허용하는지 확인합니다. 애플리케이션 및 데이터베이스 로그에서 연결 관련 또는 SSL/TLS 관련 오류를 검토합니다.
Salesforce 전송 문제
다음은 Salesforce 전송을 생성할 [https://cloud.google.com/bigquery/docs/salesforce-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: Permission Denied: invalid_client. invalid client credentials
해결 방법: 제공된 ClientSecret이 유효한지 확인합니다.
오류: Permission Denied: invalid_client. client identifier invalid
해결 방법: 제공된 ClientId가 유효한지 확인합니다.
오류: Permission Denied: Error encountered while establishing connection
해결 방법: 제공된 Salesforce MyDomain 이름이 올바른지 확인합니다.
오류: NOT_FOUND. asset type asset_name is not supported. If you are attempting to use a custom object, be sure to append the "__c" after the entity name. Please reference your WSDL or use the describe call for the appropriate names.
해결 방법: 오류 코드의 안내를 따르고 제공된 애셋 이름이 올바른지 확인합니다.
오류: SERVICE_UNAVAILABLE
해결 방법: 서비스에서 일시적으로 요청을 처리할 수 없습니다. 잠시 후에 다시 작업을 시도하세요.
오류: DEADLINE_EXCEEDED
해결 방법: 전송 실행이 최대 6시간 기한 내에 완료되지 않았습니다. 큰 전송을 여러 개의 작은 전송으로 분할하여 전송 실행 시간을 최소화하세요.
오류: Failed to create recordReader to read partition : Batch failed. BatchId='batch_id', Reason='FeatureNotEnabled : Binary field not supported'
해결 방법: 커넥터는 바이너리 필드가 포함된 sObject 데이터 구조를 지원하지 않습니다. 전송 작업에서 바이너리 필드가 포함된 sObject 데이터 구조를 삭제합니다. 자세한 내용은 Salesforce 문서의 관련 객체를 내보낼 때 '일괄 실패: FeatureNotEnabled: 바이너리 필드가 지원되지 않음' 오류 [https://help.salesforce.com/s/articleView?id=000382669&type=1]를 참고하세요.
오류: RESOURCE_EXHAUSTED: PrepareQuery failed : ExceededQuota : ApiBatchItems Limit exceeded
해결 방법: 이 오류는 작업 실행의 일일 ApiBatchItems API 한도를 초과할 때 표시됩니다. Salesforce에는 24시간마다 재설정되는 일일 API 한도가 있습니다. 이 오류를 해결하려면 일일 일괄 API 한도를 초과하지 않도록 전송 실행을 분할하고 예약하는 것이 좋습니다. Salesforce 지원팀에 문의하여 일일 한도를 늘릴 수도 있습니다.
오류: Permission Denied: invalid_grant. no client credentials user enabled
해결 방법: Salesforce 연결 앱의 클라이언트 사용자 인증 정보 흐름 섹션에 있는 Run as 입력란에 올바른 사용자 이름이 포함되어 있는지 확인합니다. 자세한 내용은 Salesforce 연결 앱 만들기 [https://cloud.google.com/bigquery/docs/salesforce-transfer?hl=ko#create-sf-app]를 참고하세요.
오류: FAILED_PRECONDITION: BatchId='batch-id', Reason='InvalidBatch : Failed to process query: OPERATION_TOO_LARGE: exceeded 100000 distinct ids'
해결 방법: 사용자 프로필이 추출된 sObject에 제한된 쿼리 한도를 적용하지 않도록 합니다. 문제가 지속되면 시스템 관리자 권한이 있는 Salesforce 사용자의 사용자 인증 정보를 사용하여 추출을 완료합니다.
오류: FAILED_PRECONDITION: Batch failed. BatchId='batch-id', Reason='InvalidBatch : Failed to process query: TXN_SECURITY_NO_ACCESS: The operation you requested isn't allowed due to a security policy in your organization. Contact your administrator for more information about security policies.
해결 방법: 사용자의 프로필 또는 권한 세트에 추출된 sObject에 필요한 객체 및 필드 수준 권한이 포함되어 있는지 확인합니다. 관리자에게 문의하여 이러한 권한을 업데이트하거나 필요한 액세스 권한이 있는 역할을 할당하세요.
Teradata 전송 문제
다음은 Teradata 전송을 만들 때 발생할 수 있는 일반적인 문제입니다.
오류: Skipping extraction since table does not have change tracking column.
해결 방법: 기존 주문형 전송 구성을 사용하여 이미 마이그레이션된 테이블에서 Teradata 전송을 수행하려고 할 때 이전 메시지가 표시될 수 있습니다. 이미 마이그레이션된 테이블에서 새 전송을 시작하려면 주문형 설정이 적용된 새 전송 구성을 만듭니다 [https://cloud.google.com/bigquery/docs/migration/teradata?hl=ko#set_up_a_transfer].
주문형 전송 구성을 사용하여 전송을 반복하면 BigQuery Data Transfer Service는 증분 전송으로 실행을 시도하지만 전송 구성에 올바른 증분 설정이 적용되지 않았기 때문에 해당 테이블을 건너뜁니다. 다양한 유형의 전송에 대한 자세한 내용은 주문형 또는 증분 전송 [https://cloud.google.com/bigquery/docs/migration/teradata-overview?hl=ko#incremental]을 참조하세요.
문제: CHAR(N) 데이터 유형을 전송하면 문자열 길이가 짧아지도록 최대 N자까지 공백이 추가됩니다.
해결 방법: CHAR 데이터를 VARCHAR로 변환하고 소스에서 추가 공백을 삭제합니다. 이 문제는 CHAR이 고정 길이 문자열 [https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Character-and-CLOB-Data-Types/Character-Data]이기 때문에 발생합니다. 반면에 가변 길이 문자열에는 VARCHAR를 사용해야 합니다 [https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Character-and-CLOB-Data-Types/VARCHAR-Data-Type]. 마이그레이션 후 RTRIM 함수 [https://cloud.google.com/bigquery/docs/reference/standard-sql/string_functions?hl=ko#rtrim]를 사용하여 BigQuery에서 공백을 삭제할 수도 있습니다. RTRIM 함수를 사용하는 쿼리는 다음 예시와 비슷합니다.
UPDATE migrated_table
SET migrated_char_column = RTRIM(migrated_char_column)
WHERE true;
YouTube 전송 문제
다음은 YouTube 전송을 생성할 [https://cloud.google.com/bigquery/docs/youtube-channel-transfer?hl=ko] 때 발생하는 일반적인 오류입니다.
오류: Import failed - no data was available for import. Please verify that data existence was expected.
오류: No data available for requested date. Please try an earlier run date or verify that data existence was expected.
해결 방법: YouTube 보고 작업 [https://developers.google.com/youtube/reporting/v1/reports/?hl=ko#step-3-create-a-reporting-job]을 만든 적이 없다면 YouTube에서 사용자를 대신해 BigQuery Data Transfer Service에 대한 보고서를 생성할 수 있도록 최소한 2일 정도 기다립니다. 다른 작업은 필요하지 않습니다. 전송은 처음 2일 동안은 실패하고 3일 차에 성공하게 됩니다. YouTube 보고 작업을 만든 적이 있다면 전송을 생성하는 사용자에게 보고서 읽기 권한이 있는지 확인합니다.
전송이 올바른 계정으로 설정되어 있는지도 확인해야 합니다. OAuth 대화상자에서 데이터를 로드하려는 채널을 선택해야 합니다.
오류: No reports for reporting job with name name.
해결 방법: 이 오류는 사실상 오류가 아니며, 지정된 보고서에 데이터가 없음을 나타내는 경고입니다. 이 경고는 무시해도 됩니다. 이후의 전송은 계속해서 실행됩니다.
참고: YouTube 콘텐츠 관리자의 경우 특정 파일은 한 달에 한 번만 사용합니다. 이러한 월간 보고서는 다른 날짜에서는 '누락'으로 표시됩니다. 이는 정상적인 동작이므로, 별도의 조치가 필요하지 않습니다. 누락되어서는 안 되는 보고서가 있으면 도움말 포럼 [https://productforums.google.com/forum/?hl=ko#!forum/youtube]을 사용하여 YouTube 지원팀에 문의하세요.
문제: 전송을 통해 생성된 결과 테이블이 불완전하거나, 예기치 않은 결과가 발생합니다.
해결 방법: 사용하는 계정이 여러 개라면 YouTube 권한 대화상자가 표시될 때 올바른 계정을 선택해야 합니다.
문제: YouTube 분석과 BigQuery YouTube 전송 간에 데이터가 일치하지 않습니다.
배경: BigQuery YouTube 전송에서 YouTube Reporting API [https://developers.google.com/youtube/reporting/v1/reports?hl=ko]를 사용하여 데이터를 직접 BigQuery 데이터 세트로 수집합니다. 반면 YouTube 분석 대시보드에서는 YouTube Analytics API [https://developers.google.com/youtube/analytics/reference?hl=ko]를 사용하여 데이터를 가져옵니다. 생성된 Reporting API에서 YouTube가 생성하는 수치는 최종 수치로 취급되어야 하지만 YouTube 분석 대시보드/API에 표시되는 숫자는 추정치로 취급되어야 합니다. 두 API 간에 불일치가 다소 발생할 수 있습니다.
해결 방법: 보고된 수치가 잘못된 경우 YouTube 시스템과 BigQuery Data Transfer Service YouTube 전송에서 누락된 숫자를 백필하고 백필된 일수에 대해 새로 생성된 보고서에서 사용할 수 있도록 설정됩니다. BigQuery Data Transfer Service YouTube 구성은 YouTube Reporting API로 생성된 사용 가능한 모든 보고서를 로드하므로 BigQuery 전송이 향후 생성된 YouTube 보고서를 자동으로 가져올 때 새로 생성되고 업데이트된 데이터도 고려하여 올바른 날짜 파티션 테이블로 처리합니다.
참고: 특정 일의 YouTube 데이터는 하루가 끝난 후 최대 24~48시간(경우에 따라 더 길 수 있음)에 YouTube 분석에 제공되어야 합니다. 따라서 계속 생성된 YouTube 보고서와 BigQuery 전송도 이 지연을 따릅니다.
YouTube 권한 문제
YouTube 콘텐츠 관리자 보고서의 전송을 설정하는 사용자는 최소한 CMS user 권한이 있어야 합니다. CMS user 권한은 생성 중인 전송에 대한 각 콘텐츠 관리자에게 부여되어야 합니다.
할당량 문제
오류: Quota exceeded: Your project exceeded quota for imports per project.
해결 방법: 프로젝트에 너무 많은 전송이 예약되지 않았는지 확인합니다. 전송으로 시작된 로드 작업 수 계산에 대한 자세한 내용은 할당량 및 한도 [https://cloud.google.com/bigquery/quotas?hl=ko]를 참조하세요.
도움이 되었나요?
의견 보내기