Source URL: https://firebase.google.com/docs/auth/ios/email-link-migration?hl=ko
Title: Firebase 동적 링크에서 이메일 링크 로그인을 마이그레이션(iOS)
bookmark_border

의견 보내기

Firebase 동적 링크에서 이메일 링크 로그인을 마이그레이션(iOS)

bookmark_borderbookmark

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용연결된 Firebase Dynamic Links 도메인을 Firebase Hosting 도메인으로 마이그레이션 [https://firebase.google.com/docs/auth/ios/email-link-migration?hl=ko#migrate-associated-domain]모바일 링크 맞춤설정 [https://firebase.google.com/docs/auth/ios/email-link-migration?hl=ko#customize-mobile-links]커스텀 Firebase Hosting 도메인 사용 [https://firebase.google.com/docs/auth/ios/email-link-migration?hl=ko#using-custom-hosting-domain]커스텀 Firebase Dynamic Links 도메인 재사용 [https://firebase.google.com/docs/auth/ios/email-link-migration?hl=ko#reuse-custom-dynamic-links-domain]

이메일 링크 인증은 이전에 Firebase Dynamic Links를 사용했으며 이 기능은 2025년 8월 25일에 종료 [https://firebase.google.com/support/dynamic-links-faq?hl=ko]됩니다. Firebase Authentication iOS SDK 버전 11.8.0 이상에 대체 솔루션이 게시되었습니다. 앱에서 Firebase Dynamic Links를 사용하는 경우 앱을 새 Firebase Hosting 기반 시스템으로 마이그레이션해야 합니다.

연결된 Firebase Dynamic Links 도메인을 Firebase Hosting 도메인으로 마이그레이션

앞으로 Firebase Authentication은 Firebase Dynamic Links 도메인을 사용하는 대신 프로젝트의 Firebase Hosting 기본 도메인을 사용하여 모바일 앱에서 이메일 링크 및 기타 대역 외 링크 작업의 링크를 만듭니다. 즉, 이 기본 도메인을 모바일 앱의 이메일 인증 링크에 연결된 도메인으로 사용하도록 앱도 업데이트해야 합니다.

Apple 플랫폼에서 이메일 링크를 사용하여 Firebase에 인증 [https://firebase.google.com/docs/auth/ios/email-link-auth?hl=ko]의 안내에 따라 앱을 업데이트하여 자동으로 프로비저닝된 새 Firebase Hosting 기본 도메인을 사용할 수 있습니다.

다음 안내에 따라 새 도메인의 링크를 처리하고 앞으로 Firebase Authentication에서 Firebase Hosting 도메인을 사용하여 모바일 앱 링크를 생성하도록 지시합니다.

커스텀 Firebase Hosting 도메인 또는 커스텀 Firebase Dynamic Links 도메인을 새 연결 도메인으로 계속 사용하려면 모바일 링크 맞춤설정 [https://firebase.google.com/docs/auth/ios/email-link-migration?hl=ko#customize-mobile-links] 섹션의 안내에 따라 사용할 도메인에 맞게 단계를 조정하세요.

Firebase Hosting 도메인을 앱 연결 도메인에 연결합니다.

선택한 도메인을 앱 링크의 연결된 도메인으로 구성해야 합니다. 앱에서 사용 권한을 설정하려면 Xcode에서 대상의 서명 및 기능 탭을 열고 이전 단계의 Firebase Hosting 도메인을 연결된 도메인 기능에 추가합니다. 기본 Firebase Hosting 도메인을 사용하는 경우 applinks:PROJECT_ID.firebaseapp.com입니다.

자세한 내용은 Apple 문서 사이트의 연결된 도메인 지원 [https://developer.apple.com/documentation/xcode/supporting-associated-domains]을 참조하세요.

연결된 도메인 파일이 모든 Firebase Hosting 도메인에 배포되었습니다. 액세스하려면 PROJECT_ID.firebaseapp.com/.well-known/apple-app-site-association으로 이동하세요.
이 AASA 파일은 덮어쓸 수 있습니다. 자세한 내용은 범용 링크 구성 파일 만들기 및 호스팅 [https://firebase.google.com/support/guides/app-links-universal-links?hl=ko#create_and_host_your_universal_links_configuration_files_on_your_new_hosting_domain]을 참조하세요.
중요: 원활한 롤백을 위해 Firebase Hosting 링크 솔루션을 사용해 보는 동안 Firebase Dynamic Links를 처리하는 기존 인텐트 필터를 유지하는 것이 좋습니다. Firebase Dynamic Links 솔루션은 2025년 8월 25일까지 사용할 수 있습니다.
새 링크를 사용하도록 프로젝트를 구성합니다.

새 도메인 링크를 처리할 준비가 되면 Firebase Admin SDK [https://firebase.google.com/docs/admin/setup?hl=ko]를 사용하여 이메일 링크 생성 방식을 업데이트하고 백엔드에 새 Firebase Hosting 도메인을 사용하여 링크 생성을 시작하도록 지시할 수 있습니다.
import { getAuth } from 'firebase-admin/auth';

const updateEmailAuthDomain = async () => {
const updateRequest = {
mobileLinksConfig: {
domain: 'HOSTING_DOMAIN',
},
};

const projectConfigManager = getAuth().projectConfigManager();

try {
const response = await projectConfigManager.updateProjectConfig(updateRequest);
// Updated project config
console.log('Project configuration updated successfully:', response);
} catch (error) {
console.error('Error updating the project:', error);
}
};
중요: 백업 솔루션을 구현하고 테스트하는 동안 Firebase Dynamic Links로 롤백하려면 도메인을 FIREBASE_DYNAMIC_LINK로 다시 설정해야 합니다. Firebase Dynamic Links 솔루션은 2025년 8월 25일까지 사용할 수 있습니다.
이메일 링크를 보내고 사용합니다.

이전과 같이 이메일 로그인 링크를 보냅니다. 최종 사용자가 링크를 클릭하면 앱이 설치된 경우 앱으로 리디렉션되어 로그인을 완료하게 됩니다.

모바일 링크 맞춤설정

커스텀 Firebase Hosting 도메인을 사용하거나 커스텀 Firebase Dynamic Links 도메인을 재사용하여 새 모바일 링크 도메인으로 만들 수 있습니다.

커스텀 Firebase Hosting 도메인 사용

Firebase Hosting 가이드 [https://firebase.google.com/docs/hosting/custom-domain?hl=ko]에 따라 커스텀 도메인을 설정합니다.
커스텀 도메인을 앱 연결 도메인에 연결합니다.
커스텀 도메인이 linkDomain인 업데이트된 ActionCodeSettings 객체를 사용하여 사용자의 이메일 주소로 인증 링크를 전송 [https://firebase.google.com/docs/auth/ios/email-link-auth?hl=ko#send_an_authentication_link_to_the_users_email_address]합니다.

커스텀 Firebase Dynamic Links 도메인 재사용

Firebase Dynamic Links 도메인을 커스텀 도메인으로 재사용할 수 있습니다. 그러나 Firebase Dynamic Links 기능은 더 이상 지원되지 않습니다. 예를 들어 앱이 기기에 설치되어 있지 않으면 사용자를 앱 스토어로 리디렉션할 수 없습니다.
커스텀 도메인이 linkDomain인 업데이트된 ActionCodeSettings 객체를 사용하여 사용자의 이메일 주소로 인증 링크를 전송 [https://firebase.google.com/docs/auth/ios/email-link-auth?hl=ko#send_an_authentication_link_to_the_users_email_address]합니다.

의견 보내기