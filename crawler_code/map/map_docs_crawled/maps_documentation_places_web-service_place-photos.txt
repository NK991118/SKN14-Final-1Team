Source URL: https://developers.google.com/maps/documentation/places/web-service/place-photos

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Web Services [https://developers.google.com/maps/web-services?hl=ko]
Places API [https://developers.google.com/maps/documentation/places/web-service/overview?hl=ko]
가이드 [https://developers.google.com/maps/documentation/places/web-service?hl=ko]
의견 보내기
장소 사진 (신규)
플랫폼 선택: Android [https://developers.google.com/maps/documentation/places/android-sdk/place-photos?hl=ko] iOS [https://developers.google.com/maps/documentation/places/ios-sdk/place-photos?hl=ko] 웹 서비스 [https://developers.google.com/maps/documentation/places/web-service/place-photos?hl=ko]
유럽 경제 지역 (EEA) 개발자
소개
장소 사진 (신규) [https://developers.google.com/maps/documentation/places/web-service/reference/rest/v1/places.photos/getMedia?hl=ko] 서비스는 애플리케이션에 고품질 사진 콘텐츠를 추가할 수 있는 읽기 전용 API입니다. 장소 사진 (신규)을 사용하면 장소 데이터베이스에 저장된 수백만 장의 사진에 액세스할 수 있습니다.
장소 세부정보 (신규), 주변 지역 검색 (신규) 또는 텍스트 검색 (신규) 요청을 사용하여 장소 정보를 가져올 때 관련 사진 콘텐츠의 사진 리소스를 요청할 수도 있습니다. 그런 다음 '사진 배치 (신규)'를 사용하여 참조된 사진에 액세스하고 이미지를 애플리케이션에 가장 적합한 크기로 조정할 수 있습니다.
API 탐색기를 사용하면 API와 API 옵션을 숙지할 수 있도록 라이브 요청을 할 수 있습니다.
사용해 보기 [https://developers.google.com/maps/documentation/places/web-service/place-photos?hl=ko#try_it]
참고: 장소 세부정보 (신규) [https://developers.google.com/maps/documentation/places/web-service/place-details?hl=ko] 응답 본문의 photos 배열에서 장소 name을 입력하고 '실행'을 클릭합니다. 사진을 보려면 장소 사진 (신규) 응답 본문의 photoUri 값을 사용하세요.
장소 사진 (신규) 요청
장소 사진 (신규) 요청은 다음과 같은 형식의 URL에 대한 HTTP GET 요청입니다.
https://places.googleapis.com/v1/NAME/media?key=API_KEY&PARAMETERS
다음 매개변수가 필요합니다.
NAME에는 사진의 리소스 이름이 포함됩니다.
API_KEY에는 API 키가 포함됩니다.
PARAMETERS에는 maxHeightPx 매개변수, maxWidthPx 매개변수 또는 둘 다 포함됩니다.
필수 및 선택 매개변수의 전체 목록은 아래에 설명되어 있습니다.
필수 매개변수
사진 이름
사진을 고유하게 식별하는 문자열 식별자입니다. 사진 이름은 장소 세부정보 (신규) [https://developers.google.com/maps/documentation/places/web-service/place-details?hl=ko], 주변 지역 검색 (신규) [https://developers.google.com/maps/documentation/places/web-service/nearby-search?hl=ko] 또는 텍스트 검색 (신규) [https://developers.google.com/maps/documentation/places/web-service/text-search?hl=ko] 요청에서 photos[] 배열의 각 요소의 name 속성으로 반환됩니다.
예를 보려면 사진 이름 가져오기 [https://developers.google.com/maps/documentation/places/web-service/place-photos?hl=ko#get-photo-ref]를 참고하세요.
maxHeightPx 및 maxWidthPx
이미지의 최대 의도된 높이와 너비를 픽셀 단위로 지정합니다. 이미지가 지정된 값보다 작은 경우 원래 이미지가 반환됩니다. 이미지가 두 크기 중 하나보다 큰 경우 원래 가로세로 비율로 제한된 두 크기 중 더 작은 크기에 맞게 조정됩니다. maxheight 및 maxwidth 속성은 모두 1~4800 사이의 정수를 허용합니다.
maxHeightPx, maxWidthPx 또는 둘 다를 지정해야 합니다.
선택적 매개변수
skipHttpRedirect
false (기본값)인 경우 이미지를 반환하기 위해 이미지로 HTTP 리디렉션을 실행합니다. true인 경우 리디렉션을 건너뛰고 이미지 세부정보가 포함된 JSON 응답을 반환합니다. 예를 들면 다음과 같습니다.
{
  "name": "places/ChIJj61dQgK6j4AR4GeTYWZsKWw/photos/Aaw_FcKly0DEv3EWmDJyHiEqXIP5mowOc99lN1GzBun6KHH52AZ5fFA/media",
  "photoUri": "https://lh3.googleusercontent.com/a-/AD_cFT-b=s100-p-k-no-mo"
}
HTTP가 아닌 요청의 경우 이 옵션은 무시됩니다.
사진 이름 가져오기
Place Photos (New)에 대한 모든 요청에는 주변 검색 (New), 텍스트 검색 (New) 또는 장소 세부정보 (New) 요청에 대한 응답으로 반환된 사진 리소스 이름이 포함되어야 합니다. 장소에 관련 사진 콘텐츠가 있는 경우 이러한 요청에 대한 응답에는 photos[] 배열이 포함됩니다.
참고: 응답에 photos[] 배열을 포함하려면 요청의 필드 마스크에 photos (장소 세부정보 (신규)) 또는 places.photos (주변 지역 검색 (신규) 및 텍스트 검색 (신규))을 포함해야 합니다. 각 API는 장소 위치에 대해 최대 10장의 사진을 반환할 수 있습니다.
photo[]의 각 요소에는 다음 필드가 포함됩니다.
name - 사진 요청을 실행할 때 사진의 리소스 이름을 포함하는 문자열입니다. 이 문자열의 형식은 다음과 같습니다.
places/PLACE_ID/photos/PHOTO_RESOURCE
heightPx - 이미지의 최대 높이(픽셀)입니다.
widthPx - 이미지의 최대 너비(픽셀)입니다.
authorAttributions[] - 필요한 저작자 표시 이 필드는 항상 표시되지만 비어 있을 수 있습니다.
Place Photos (New)에서 반환되는 사진은 비즈니스 소유자 및 사용자 제공 사진을 비롯한 다양한 위치에서 가져온 것입니다. 대부분의 경우 이러한 사진은 저작자 표시 없이 사용할 수 있거나 필수 저작권 표시가 이미지의 일부로 포함되어 있습니다. 하지만 반환된 photo 요소의 authorAttributions 필드에 값이 포함된 경우 이미지를 표시할 때마다 애플리케이션에 추가 저작자 표시를 포함해야 합니다.
주의: 사진 이름은 캐시할 수 없습니다. 이름이 만료될 수도 있습니다. 장소 세부정보 (신규) [https://developers.google.com/maps/documentation/places/web-service/place-details?hl=ko], 주변 지역 검색 (신규) [https://developers.google.com/maps/documentation/places/web-service/nearby-search?hl=ko] 또는 텍스트 검색 (신규) [https://developers.google.com/maps/documentation/places/web-service/text-search?hl=ko] 요청에 대한 응답에서 항상 이름을 가져와야 합니다. 자세한 내용은 Google Maps Platform 서비스 약관 [https://cloud.google.com/maps-platform/terms?hl=ko]의 3.2.3(b)항(캐싱 금지)에 명시된 캐싱 제한사항을 참고하세요.
다음 예는 응답에 photos[] 배열이 포함되도록 필드 마스크에 photos가 포함된 장소 세부정보 (신규) 요청을 보여줍니다.
curl -X GET \
-H 'Content-Type: application/json' -H "X-Goog-Api-Key: API_KEY" \
-H "X-Goog-FieldMask: id,displayName,photos" \
https://places.googleapis.com/v1/places/ChIJ2fzCmcW7j4AR2JzfXBBoh6E
다음은 응답의 photos[] 배열의 예입니다.
    ...
    "photos" : [
      {
        "name": "places/ChIJ2fzCmcW7j4AR2JzfXBBoh6E/photos/AUacShh3_Dd8yvV2JZMtNjjbbSbFhSv-0VmUN-uasQ2Oj00XB63irPTks0-A_1rMNfdTunoOVZfVOExRRBNrupUf8TY4Kw5iQNQgf2rwcaM8hXNQg7KDyvMR5B-HzoCE1mwy2ba9yxvmtiJrdV-xBgO8c5iJL65BCd0slyI1",
        "widthPx": 6000,
        "heightPx": 4000,
        "authorAttributions": [
          {
            "displayName": "John Smith",
            "uri": "//maps.google.com/maps/contrib/101563",
            "photoUri": "//lh3.googleusercontent.com/a-/AD_cFT-b=s100-p-k-no-mo"
          }
        ]
      },
    ...
장소 사진 요청
아래 요청 예시에서는 리소스 name를 사용하여 이미지를 반환하고, 높이와 너비가 최대 400픽셀이 되도록 크기를 조절합니다.
https://places.googleapis.com/v1/places/ChIJ2fzCmcW7j4AR2JzfXBBoh6E/photos/ATKogpeivkIjQ1FT7QmbeT33nBSwqLhdPvIWHfrG1WfmgrFjeZYpS_Ls7c7rj8jejN9QGzlx4GoAH0atSvUzATDrgrZic_tTEJdeITdWL-oG3TWi5HqZoLozrjTaxoAIxmROHfV5KXVcLeTdCC6kmZExSy0CLVIG3lAPIgmvUiewNf-ZHYE4-jXYwPQpWHJgqVosvZJ6KWEgowEA-qRAzNTu9VH6BPFqHakGQ7EqBAeYOiU8Dh-xIQC8FcBJiTi0xB4tr-MYXUaF0p_AqzAhJcDE6FAgLqG1s7EsME0o36w2nDRHA-IuoISBC3SIahINE3Xwq2FzEZE6TpNTFVfgTpdPhV8CGLeqrauHn2I6ePm-2hA8-87aO7aClXKJJVzlQ1dc_JuHz6Ks07d2gglw-ZQ3ibCTF5lMtCF9O-9JHyRQXsfuXw/media?maxHeightPx=400&maxWidthPx=400&key=API_KEY
성공적인 장소 사진 (신규) 요청의 응답 [https://developers.google.com/maps/documentation/places/web-service/reference/rest/v1/places.photos/getMedia?hl=ko#response-body]은 이미지입니다.
참고: 이미지 형식은 다를 수 있습니다. 표준 이미지 형식 (JPEG, PNG, GIF 포함)이 지원되지만 이미지 형식은 보장되지 않습니다.
오류 코드
장소 사진 (신규) 요청은 다음 오류 코드를 반환할 수 있습니다.
할당량 초과 (403)
요청이 사용 가능한 할당량을 초과하면 서버에서 HTTP 403 상태를 반환하고 할당량이 초과되었음을 나타내는 다음 이미지를 표시합니다.
잘못된 요청 (404)
서버가 요청을 이해할 수 없는 경우 잘못된 요청을 나타내는 HTTP 400 상태를 반환합니다. 잘못된 요청의 가장 일반적인 이유는 다음과 같습니다.
제출된 사진 이름이 올바르게 지정되지 않았습니다.
요청에 maxHeightPx 또는 maxWidthPx 매개변수가 포함되지 않았습니다.
maxHeightPx 또는 maxWidthtPx 매개변수의 값이 null로 설정되었습니다.
name이(가) 만료되었습니다. name가 만료되면 장소 세부정보 (신규) [https://developers.google.com/maps/documentation/places/web-service/place-details?hl=ko], 주변 지역 검색 (신규) [https://developers.google.com/maps/documentation/places/web-service/nearby-search?hl=ko] 또는 텍스트 검색 (신규) [https://developers.google.com/maps/documentation/places/web-service/text-search?hl=ko]에 요청하여 새 name를 가져옵니다.
요청이 너무 많음 (429)
Google에서는 주문형으로 사진을 로드하는 것을 권장합니다. 한 번에 장소의 모든 이미지를 표시하려고 하면 서버에서 동시에 너무 많은 사진을 로드하고 있음을 나타내는 HTTP 429 상태를 반환할 수 있습니다. 이 오류 메시지가 표시되면 지원팀에 문의 [https://developers.google.com/maps/documentation/places/web-service/support?hl=ko#contact-maps-support]하여 할당량 증가를 요청하세요.
기능을 사용해 보세요.
API 탐색기를 사용하면 API 및 API 옵션에 익숙해지도록 샘플 요청을 할 수 있습니다.
요청하려면 다음 단계를 따르세요.
페이지 오른쪽에 있는 API 아이콘 api 을 선택합니다.
name 매개변수를 다음과 같이 설정합니다.
places/PLACE_ID/photos/PHOTO_RESOURCE/media
참고: name이 만료될 수 있으므로 최근 Place Details (New) 요청의 name을 사용해야 합니다.
요청이 JSON 응답을 반환하도록 skipHttpRedirect를 true로 설정합니다. 기본적으로 요청은 API 탐색기에서 표시할 수 없는 이미지를 반환합니다.
실행 버튼을 선택합니다. 대화상자에서 요청을 보낼 때 사용할 계정을 선택합니다.
API 탐색기 패널에서 전체 화면 아이콘 fullscreen을 선택하여 API 탐색기 창을 펼칩니다.
의견 보내기