Source URL: https://firebase.google.com/docs/auth/custom-email-handler?hl=ko
Title: 커스텀 이메일 작업 핸들러 만들기
bookmark_border

의견 보내기

커스텀 이메일 작업 핸들러 만들기

bookmark_borderbookmark

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용이메일 작업 핸들러 페이지 만들기 [https://firebase.google.com/docs/auth/custom-email-handler?hl=ko#create_the_email_action_handler_page]이메일 템플릿에서 커스텀 핸들러에 연결 [https://firebase.google.com/docs/auth/custom-email-handler?hl=ko#link_to_your_custom_handler_in_your_email_templates]

사용자의 이메일 주소 업데이트나 비밀번호 재설정과 같은 일부 사용자
관리 작업이 이루어지면 사용자에게 이메일이 전송됩니다. 수신자는
이러한 이메일에 포함된 링크를 열어 사용자 관리 작업을 완료하거나
취소할 수 있습니다. 기본적으로 사용자 관리 이메일은 기본 작업 핸들러로
연결되며, 이 핸들러는 프로젝트의 Firebase 호스팅 도메인에 호스팅된
웹페이지입니다.

커스텀 이메일 작업 핸들러를 만들고 호스팅하여 커스텀 처리를 수행하고
이메일 작업 핸들러를 웹사이트와 통합할 수도 있습니다.

다음 사용자 관리 작업에서는 사용자가 이메일 작업 핸들러를 사용하여
작업을 완료해야 합니다.

비밀번호 재설정
이메일 주소 변경 취소—사용자가 계정의 기본 이메일 주소를 변경하면 Firebase는 사용자가 변경을 취소할 수 있도록 이전 주소로 이메일을 보냅니다.
이메일 주소 확인

Firebase 프로젝트의 이메일 작업 핸들러를 맞춤설정하려면 Firebase JavaScript
SDK를 사용하여 요청의 유효성을 확인하고 요청을 완료하는 웹페이지를 만들어
호스팅해야 합니다. 그런 다음 Firebase 프로젝트의 이메일 템플릿을 맞춤설정하여
맞춤 작업 핸들러로 링크해야 합니다.

이메일 작업 핸들러 페이지 만들기

Firebase는 사용자 관리 이메일을 생성할 때 작업 핸들러 URL에 몇 가지 쿼리 매개변수를 추가합니다. 예를 들면 다음과 같습니다.
https://example.com/usermgmt?mode=resetPassword&oobCode=ABC123&apiKey=AIzaSy...&lang=fr

이러한 매개변수는 사용자가 완료하는 사용자 관리 작업을 지정합니다. 이메일 작업 핸들러 페이지는 다음 쿼리 매개변수를 처리해야 합니다.

| 매개변수 |
| --- |
| 모드 | 완료할 사용자 관리 작업입니다. 다음 값 중 하나일 수 있습니다. resetPassword recoverEmail verifyEmail |
| oobCode | 요청을 식별하고 확인하는 데 사용되는 일회용 코드입니다. |
| apiKey | Firebase 프로젝트의 API 키로서 편의를 위해 제공됩니다. |
| continueUrl | URL을 통해 상태를 앱으로 다시 전달할 수 있는 선택적 URL로, 비밀번호 재설정 및 이메일 확인 모드에 사용됩니다 비밀번호 재설정 이메일 또는 인증 메일을 보낼 때 ActionCodeSettings 객체를 사용하려면 연결 URL로 지정해야 합니다. 이렇게 하면 사용자가 이메일 작업을 마친 지점에서 계속 진행할 수 있게 됩니다. |
| lang | 선택사항인 BCP47 언어 태그이며 사용자의 언어를 나타냅니다(예: fr). 이 값을 사용해 현지화된 이메일 작업 핸들러 페이지를 사용자에게 제공할 수 있습니다. 현지화는 Firebase Console을 통하거나 이메일 작업을 트리거하기 전에 해당 클라이언트 API를 호출하여 동적으로 설정할 수 있습니다. 예를 들어 자바스크립트 firebase.auth().languageCode = 'fr';을 사용하면 됩니다. 사용자 경험을 일관성 있게 제공하려면 이메일 작업 핸들러 현지화가 이메일 템플릿의 현지화와 일치하는지 확인하세요. |

다음 예는 브라우저 기반 핸들러에서 쿼리 매개변수를 처리하는 방법을 보여줍니다. 유사한 로직을 사용하여 Node.js 애플리케이션으로
핸들러를 구현할 수도 있습니다.

--- 탭: Web [https://firebase.google.com/docs/auth/custom-email-handler?hl=ko#web-modular-api] ---
import { initializeApp } from "firebase/app";
import { getAuth } from "firebase/auth";

break;
case 'recoverEmail':
break;
case 'verifyEmail':
break;
default:
break;
case 'recoverEmail':
break;
case 'verifyEmail':
break;
default:

function handleResetPassword(auth, actionCode, continueUrl, lang) {

function handleRecoverEmail(auth, actionCode, lang) {

URL을 저장하면 모든 Firebase 프로젝트의 이메일 템플릿에 이 URL이 사용됩니다.

커스텀 도메인을 사용하는 경우에는 이메일 작업 핸들러를 맞춤설정하지 않더라도 이 단계를 완료하여 사용자 관리 이메일이 기본 firebaseapp.com 도메인이 아닌 내 도메인에 연결되도록 해야 합니다.

도움이 되었나요?

의견 보내기