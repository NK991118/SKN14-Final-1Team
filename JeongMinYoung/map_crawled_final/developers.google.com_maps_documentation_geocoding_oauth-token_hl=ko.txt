Source URL: https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko
Title: OAuth 사용
bookmark_border

의견 보내기

OAuth 사용

bookmark_borderbookmark

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용시작하기 전에 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#before-you-begin]OAuth 정보 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#about-oauth]OAuth 범위 정보 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#about-oauth-scopes]예: 로컬 개발 환경에서 REST API 호출 시도 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#example:-try-rest-api-calls-in-your-local-development-environment]기본 요건 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#prerequisites]REST 요청 실행 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#make-a-rest-request]문제 해결 [https://developers.google.com/maps/documentation/geocoding/oauth-token?hl=ko#troubleshooting]

유럽 경제 지역 (EEA) 개발자

청구서 수신 주소가 유럽 경제 지역에 있는 경우 2025년 7월 8일부터 서비스 사용 시 Google Maps Platform EEA 서비스 약관 [https://cloud.google.com/terms/maps-platform/eea?hl=ko]이 적용됩니다. 기능은 리전에 따라 다릅니다.
자세히 알아보기 [https://developers.google.com/maps/comms/eea/faq?hl=ko]

Geocoding API는 인증에 OAuth 2.0을 사용하는 것을 지원합니다.
Google은 웹 서버와 같은 일반적인 OAuth 2.0 시나리오를 지원합니다.

이 문서에서는 개발 환경에서 Geocoding API 호출에 OAuth 토큰을 전달하는 방법을 설명합니다. 프로덕션 환경에서 OAuth를 사용하는 방법에 관한 안내는 Google에서 인증 [https://cloud.google.com/docs/authentication?hl=ko]을 참고하세요.

참고: 서버에 API 요청을 수행하여 Google 지도 API를 직접 사용할 수 있지만 클라이언트 라이브러리 [https://cloud.google.com/apis/docs/client-libraries-explained?hl=ko]는 작성해야 하는 코드 양을 크게 줄여 주는 간소화 기능을 제공합니다.
Google 지도에서는 Go, Java, Node.js, Python을 비롯한 여러 프로그래밍 언어용 클라이언트 라이브러리를 제공합니다.

문서 및 예시는 Geocoding API 클라이언트 라이브러리 [https://developers.google.com/maps/documentation/geocoding/client_libraries?hl=ko]를 참고하세요.

시작하기 전에

Geocoding API를 사용하려면 결제 계정이 있고 Geocoding API가 사용 설정된 프로젝트가 필요합니다. 프로젝트 소유자 및 결제 관리자를 여러 명 만들어 이러한 역할을 맡은 담당자가 팀에 상주하도록 하는 것이 좋습니다. 자세한 내용은 Cloud Console에서 설정하기 [https://developers.google.com/maps/documentation/geocoding/cloud-setup?hl=ko]를 참고하세요.

OAuth 정보

배포 환경에 따라 OAuth로 액세스 토큰을 만들고 관리하는 방법에는 여러 가지가 있습니다.

예를 들어 Google OAuth 2.0 시스템은 애플리케이션과 Google 서비스 간의 상호작용과 같은 서버 간 상호작용을 지원합니다. 이 시나리오에서는 서비스 계정이 필요합니다. 서비스 계정은 개별 최종 사용자가 아닌 애플리케이션에 속한 계정입니다. 애플리케이션은 서비스 계정을 대신하여 Google API를 호출하므로 사용자가 직접 관여하지 않습니다.
인증 방법에 관한 자세한 내용은 Google 인증 [https://cloud.google.com/docs/authentication?hl=ko]을 참고하세요.

또는 Android 또는 iOS 모바일 앱의 일부로 Geocoding API를 사용할 수도 있습니다. 다양한 배포 환경의 액세스 토큰을 관리하는 방법을 비롯하여 Geocoding API에서 OAuth를 사용하는 방법에 관한 일반적인 정보는 OAuth 2.0을 사용하여 Google API에 액세스하기 [https://developers.google.com/identity/protocols/oauth2?hl=ko]를 참고하세요.

OAuth 범위 정보

Geocoding API에서 OAuth를 사용하려면 OAuth 토큰에 올바른 범위를 할당해야 합니다. Geocoding API는 다음 범위를 지원합니다.

https://www.googleapis.com/auth/maps-platform.geocode
— 모든 Geocoding API 엔드포인트와 함께 사용합니다.
https://www.googleapis.com/auth/maps-platform.geocode.address
— 전방 지오코딩의 경우 GeocodeAddress와 함께만 사용합니다.
https://www.googleapis.com/auth/maps-platform.geocode.location
— 역 지오코딩을 위해 GeocodeLocation와 함께만 사용합니다.
https://www.googleapis.com/auth/maps-platform.geocode.place
— 장소 지오코딩의 경우 GeocodePlace와 함께만 사용합니다.

또한 모든 Geocoding API 엔드포인트에 일반 https://www.googleapis.com/auth/cloud-platform 범위를 사용할 수 있습니다. 이 범위는 gcloud를 사용하여 토큰을 만들 때 사용되는 기본 범위이므로 개발 중에 유용합니다.

예: 로컬 개발 환경에서 REST API 호출 시도
OAuth 토큰을 사용하여 Geocoding API를 사용해 보려 하지만 토큰을 생성할 환경이 없는 경우 이 섹션의 절차에 따라 호출할 수 있습니다.

이 예에서는 애플리케이션 기본 사용자 인증 정보 (ADC) [https://cloud.google.com/docs/authentication/application-default-credentials?hl=ko]에서 제공하는 OAuth 토큰을 사용하여 호출하는 방법을 설명합니다. ADC를 사용하고 클라이언트 라이브러리를 사용하여 Google API를 호출하는 방법은 클라이언트 라이브러리를 사용하여 인증 [https://cloud.google.com/docs/authentication/client-libraries?hl=ko]을 참고하세요.

참고: 아래의 REST 호출 절차는 프로덕션 환경에서 사용하기 위한 것이 아닙니다. 이 절차는 개발 또는 테스트 환경에만 사용하세요.

기본 요건

ADC를 사용하여 REST 요청을 수행하려면 먼저 Google Cloud CLI를 사용하여 ADC에 사용자 인증 정보를 제공합니다.

아직 프로젝트를 만들지 않았다면 Google Cloud 콘솔에서 설정 [https://developers.google.com/maps/documentation/geocoding/cloud-setup?hl=ko]의 단계에 따라 프로젝트를 만들고 결제를 사용 설정하세요.

gcloud CLI를 설치하고 초기화 [https://cloud.google.com/sdk/docs/install?utm_source=Docs_InstallGcloud&utm_content=Docs_geocoding-backend&hl=ko]합니다.

로컬 머신에서 다음 gcloud 명령어를 실행하여 사용자 인증 정보 파일을 만듭니다.

gcloud auth application-default login

로그인 화면이 표시됩니다. 로그인하면 사용자 인증 정보는 ADC에서 사용하는 로컬 사용자 인증 정보 파일 [https://cloud.google.com/docs/authentication/application-default-credentials?hl=ko#personal]에 저장됩니다.

자세한 내용은 애플리케이션 기본 사용자 인증 정보에 사용자 인증 정보를 제공합니다 [https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=ko] 문서의 로컬 개발 환경 [https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=ko#local-dev] 섹션을 참고하세요.

REST 요청 실행

이 예에서는 두 개의 요청 헤더를 전달합니다.

다음 명령어를 사용하여 토큰을 생성하여 Authorization 헤더에 OAuth 토큰을 전달합니다.

gcloud auth application-default print-access-token [https://cloud.google.com/sdk/gcloud/reference/auth/application-default/print-access-token?hl=ko]

반환된 토큰의 범위는 https://www.googleapis.com/auth/cloud-platform.입니다.

결제가 사용 설정된 Google Cloud 프로젝트의 ID 또는 이름을 X-Goog-User-Project 헤더에 전달합니다. 자세한 내용은 Cloud 콘솔에서 설정하기 [https://developers.google.com/maps/documentation/geocoding/cloud-setup?hl=ko]를 참고하세요.

다음 예에서는 OAuth 토큰을 사용하여 Geocoding API를 호출합니다.

curl -X GET -H 'Content-Type: application/json' \
-H "Authorization: Bearer $(gcloud auth application-default print-access-token)" \
-H "X-Goog-User-Project: PROJECT_ID" \
"https://geocode.googleapis.com/v4beta/geocode/address/1600+Amphitheatre+Parkway,+Mountain+View,+CA"

문제 해결

요청이 API에서 지원되지 않는 최종 사용자 인증 정보에 대해 오류 메시지를 반환하는 경우 사용자 인증 정보가 작동하지 않음 [https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=ko#user-creds-client-based]을 참고하세요.

도움이 되었나요?

의견 보내기