Source URL: https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken?hl=ko
Title: CancellationToken

Stay organized with collections

Save and categorize content based on your preferences.

CancellationToken

Kotlin [https://developers.google.com/android/reference/kotlin/com/google/android/gms/tasks/CancellationToken]
|Java

public abstract class CancellationToken [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken]

Propagates notification that operations should be canceled.
Developers writing methods that return a Task should take a CancellationToken as a parameter if they wish to make the Task cancelable (see below code snippet). A
CancellationToken can only be created by creating a new instance of . CancellationToken is immutable and must be canceled by calling cancel [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationTokenSource#cancel()] on the CancellationTokenSource [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationTokenSource] that creates it. It can only be canceled once. If canceled, it should not be passed to future operations.
When cancel [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationTokenSource#cancel()] is called, all the Tasks with the
CancellationToken from that CancellationTokenSource [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationTokenSource] will be canceled. This operation only flags those Tasks as canceled, and the API author is responsible for stopping whatever the Task is actually doing to free up the resources.
Cancellable Task [https://developers.google.com/android/reference/com/google/android/gms/tasks/Task] example:
public Task<Integer> doSomething(CancellationToken token) {

CancellationTokenSource cts = new CancellationTokenSource();
Task<Integer> task = doSomething(cts.getToken());
cts.cancel();
Cancellable Task [https://developers.google.com/android/reference/com/google/android/gms/tasks/Task] example in android.app.Activity [https://developer.android.com/reference/android/app/Activity.html] context:
public class MyActivity extends Activity {

.onSuccessTask(result -> doSomethingElse(result, cancellationSource.getToken()));
cancellationSource.cancel();

| Public constructors |
| --- |
| CancellationToken() |

| Public methods |
| --- |
| abstract boolean | isCancellationRequested() Checks if cancellation has been requested from the CancellationTokenSource. |
| abstract @NonNull CancellationToken | onCanceledRequested(@NonNull OnTokenCanceledListener listener) Adds an OnTokenCanceledListener to this CancellationToken. |

Public constructors

CancellationToken

public CancellationToken [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken#CancellationToken()]()

Public methods

isCancellationRequested

public abstract boolean isCancellationRequested [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken#isCancellationRequested()]()
Checks if cancellation has been requested from the CancellationTokenSource [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationTokenSource].

| Returns |
| --- |
| boolean | true if cancellation is requested, false otherwise |

onCanceledRequested

public abstract @NonNull [https://developer.android.com/reference/androidx/annotation/NonNull.html] CancellationToken [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken] onCanceledRequested [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken#onCanceledRequested(com.google.android.gms.tasks.OnTokenCanceledListener)](@NonNull [https://developer.android.com/reference/androidx/annotation/NonNull.html] OnTokenCanceledListener [https://developers.google.com/android/reference/com/google/android/gms/tasks/OnTokenCanceledListener] listener)
Adds an OnTokenCanceledListener [https://developers.google.com/android/reference/com/google/android/gms/tasks/OnTokenCanceledListener] to this CancellationToken [https://developers.google.com/android/reference/com/google/android/gms/tasks/CancellationToken].

| Parameters |
| --- |
| @NonNull OnTokenCanceledListener listener | the listener that will fire once the cancellation request succeeds. |