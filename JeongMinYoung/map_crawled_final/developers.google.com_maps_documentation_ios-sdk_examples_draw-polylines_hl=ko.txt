Source URL: https://developers.google.com/maps/documentation/ios-sdk/examples/draw-polylines?hl=ko
Title: 지도에 다중선 그리기

의견 보내기

지도에 다중선 그리기

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

빨간색과 녹색 다중선의 위치와 크기가 변경되는 애니메이션이 포함된 남태평양의 지도를 표시합니다.

시작하기

샘플 코드를 사용하기 전에 개발 환경을 구성해야 합니다.
자세한 내용은 iOS용 Maps SDK 코드 샘플 [https://developers.google.com/maps/documentation/ios-sdk/examples?hl=ko]을 참고하세요.

코드 보기

Swift
import GoogleMaps
import UIKit

final class PolylinesViewController: UIViewController {
private lazy var styles: [GMSStrokeStyle] = {
mapView.accessibilityElementsHidden = true

polyline.geodesic = true
polyline.map = mapView
polylines.append(polyline)

DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 0.1) {
self.animatePath()
Objective-C
#import "GoogleMapsDemos/Samples/PolylinesViewController.h"

#import <GoogleMaps/GoogleMaps.h>

static CLLocationCoordinate2D kSydneyAustralia = {-33.866901, 151.195988};
static CLLocationCoordinate2D kHawaiiUSA = {21.291982, -157.821856};
static CLLocationCoordinate2D kFiji = {-18, 179};
static CLLocationCoordinate2D kMountainViewUSA = {37.423802, -122.091859};
static CLLocationCoordinate2D kLimaPeru = {-12, -77};
static bool kAnimate = true;

@implementation PolylinesViewController {
NSArray *_styles;
NSArray *_lengths;
NSArray *_polys;
double _pos, _step;
GMSMapView *_mapView;
if (kAnimate) {
__weak id weakSelf = self;
dispatch_after(dispatch_time(DISPATCH_TIME_NOW, NSEC_PER_SEC / 10), dispatch_get_main_queue(),
^{
[weakSelf tick];
NSMutableArray *polys = [NSMutableArray array];
GMSMutablePath *path = [GMSMutablePath path];
[path addCoordinate:kSydneyAustralia];
[path addCoordinate:kFiji];
[path addCoordinate:kHawaiiUSA];
[path addCoordinate:kMountainViewUSA];
[path addCoordinate:kLimaPeru];
[path addCoordinate:kSydneyAustralia];
path = [path pathOffsetByLatitude:-30 longitude:0];
_lengths = @[ @([path lengthOfKind:kGMSLengthGeodesic] / 21) ];
for (int i = 0; i < 30; ++i) {
GMSPolyline *poly = [[GMSPolyline alloc] init];
poly.path = [path pathOffsetByLatitude:(i * 1.5) longitude:0];
poly.strokeWidth = 8;
poly.geodesic = YES;
poly.map = _mapView;
[polys addObject:poly];
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-30 longitude:-175 zoom:3];
GMSMapView *mapView = [GMSMapView mapWithFrame:CGRectZero camera:camera];
mapView.accessibilityElementsHidden = YES;
self.view = mapView;
_mapView = mapView;

CGFloat alpha = 1;
UIColor *green = [UIColor colorWithRed:0 green:1 blue:0 alpha:alpha];
UIColor *greenTransp = [UIColor colorWithRed:0 green:1 blue:0 alpha:0];
UIColor *red = [UIColor colorWithRed:1 green:0 blue:0 alpha:alpha];
UIColor *redTransp = [UIColor colorWithRed:1 green:0 blue:0 alpha:0];
GMSStrokeStyle *grad1 = [GMSStrokeStyle gradientFromColor:green toColor:greenTransp];
GMSStrokeStyle *grad2 = [GMSStrokeStyle gradientFromColor:redTransp toColor:red];
_styles = @[
grad1,
grad2,
[GMSStrokeStyle solidColor:[UIColor colorWithWhite:0 alpha:0]],
];
_step = 50000;
[self initLines];
[self tick];
cd maps-sdk-for-ios-samples-main/GoogleMaps-Swift
pod install
open GoogleMapsSwiftDemos.xcworkspace

Objective-C
cd maps-sdk-for-ios-samples-main/GoogleMaps
pod install
open GoogleMapsDemos.xcworkspace

Xcode에서 컴파일 버튼을 눌러 현재 스키마로 앱을 빌드 [https://developer.apple.com/documentation/xcode/building-and-running-an-app]합니다. 빌드 오류가 발생하여 Swift의 SDKConstants.swift 파일 또는 Objective-C의 SDKDemoAPIKey.h 파일에 API 키를 입력하라는 메시지가 표시됩니다.
iOS용 Maps SDK가 사용 설정된 [https://developers.google.com/maps/documentation/ios-sdk/cloud-setup?hl=ko#enabling-apis] 프로젝트에서 API 키를 가져옵니다 [https://developers.google.com/maps/documentation/ios-sdk/get-api-key?hl=ko].
Swift의 경우 SDKConstants.swift 파일을 수정하고 Objective-C의 경우 SDKDemoAPIKey.h 파일을 수정한 후 apiKey 또는 kAPIKey 상수의 정의에 API 키를 붙여넣습니다. 예를 들면 다음과 같습니다.

Swift

static let apiKey = "YOUR_API_KEY"

Objective-C

static NSString *const kAPIKey = @"YOUR_API_KEY";

SDKConstants.swift 파일 (Swift) 또는 SDKDemoAPIKey.h 파일 (Objective-C)에서 다음 줄을 삭제합니다. 이 줄은 사용자 정의 문제를 등록하는 데 사용됩니다.

Swift
#error (Register for API Key and insert here. Then delete this line.)

Objective-C

#error Register for API Key and insert here.

프로젝트를 빌드하고 실행합니다. iOS 시뮬레이터 창이 표시되고 Maps SDK 데모 목록이 표시됩니다.
표시된 옵션 중 하나를 선택하여 iOS용 Maps SDK의 기능을 실험합니다.
GoogleMapsDemos에서 내 위치에 액세스하도록 허용하라는 메시지가 표시되면 허용을 선택합니다.

의견 보내기