Source URL: https://developers.google.com/maps/documentation/places/ios-sdk/place-details?hl=ko
Title: 장소 세부정보
bookmark_border

의견 보내기

장소 세부정보

bookmark_borderbookmark

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 페이지의 내용장소 세부정보 [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#place-details]예외적인 시간 가져오기 [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#get-exceptional-hours]ID로 장소 가져오기 [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#get-place]앱에 특성 표시 [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#attributions]장소 ID에 대한 추가 정보 [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#place-id]

iOS용 Places SDK는 장소의 이름과 주소, 위도/경도 좌표로 지정된 지리적 위치, 장소 유형 (예: 나이트클럽, 애완동물 가게, 박물관) 등 장소에 관한 풍부한 정보를 앱에 제공합니다. 특정 장소의 이 정보에 액세스하려면 장소를 고유하게 식별하는 안정적인 식별자인 장소 ID를 사용하면 됩니다.

장소 세부정보

GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 클래스는 특정 장소에 관한 정보를 제공합니다. 다음과 같은 방법으로 GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 객체를 가져올 수 있습니다.

GMSPlacesClient
findPlaceLikelihoodsFromUserLocationWithPlaceFields: [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlacesClient?hl=ko]를 호출합니다. 현재 장소 가져오기 [https://developers.google.com/maps/documentation/places/ios-sdk/current-place?hl=ko] 가이드를 참고하세요.

GMSPlacesClient
fetchPlaceFromPlaceID: [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlacesClient?hl=ko#-fetchplacefromplaceid:placefields:sessiontoken:callback:]를 호출하여 GMSPlaceField [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Enums/GMSPlaceField?hl=ko], 장소 ID, 콜백 메서드를 전달합니다. Place Details 요청의 경우 요청에 필드를 하나 이상 지정하지 않거나 요청에서 fields 매개변수를 생략하면 가능한 모든 필드가 반환되며 그에 따라 요금이 청구됩니다. ID로 장소 가져오기 [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#get-place] 가이드를 참고하세요.

경고: 요청에 필드를 한 개 이상 지정하지 않거나 요청에서 fields 매개변수를 생략하면 가능한 모든 필드가 반환되며 그에 따라 요금이 청구됩니다. 이는 장소 세부정보 요청에만 적용됩니다.

장소를 요청할 때 반환할 장소 데이터 유형을 지정해야 합니다. 이렇게 하려면 반환할 데이터 유형을 지정하는 GMSPlaceField [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Enums/GMSPlaceField?hl=ko]를 전달하세요. 이는 각 요청의 비용 [https://developers.google.com/maps/documentation/places/ios-sdk/usage-and-billing?hl=ko]에 영향을 주기 때문에 중요한 고려사항입니다.

장소 데이터 결과는 비워둘 수 없으므로 데이터가 있는 장소 결과만 반환됩니다 (예: 요청된 장소에 사진이 없으면 결과에 photos 필드가 표시되지 않음).

다음 예시에서는 요청에서 반환되는 데이터를 지정하기 위해 두 개의 필드 값 [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Enums/GMSPlaceField?hl=ko] 목록을 전달합니다.

--- 탭: Swift [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#swift] [None] ---
UInt(GMSPlaceField.placeID.rawValue))

--- 탭: Objective-C [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#objective-c] [None] ---
NSString *placeID = @"ChIJV4k8_9UodTERU5KXbkYpSYs";

GMSPlaceField fields = (GMSPlaceFieldName | GMSPlaceFieldPlaceID);

GMSPlaceFieldTakeout, GMSPlaceFieldDelivery, GMSPlaceFieldDineIn, GMSPlaceFieldCurbsidePickup, GMSPlaceFieldPhoneNumber, GMSPlaceFieldWebsite,
GMSPlaceFieldOpeningHours, GMSPlaceFieldAddressComponents은 GMSPlaceLikelihoodList 장소 객체에 지원되지 않습니다.

장소 필드 [https://developers.google.com/maps/documentation/places/ios-sdk/place-data-fields?hl=ko]에 대해 자세히 알아보세요. 장소 데이터 요청에 대해 요금이 청구되는 방법에 대한 자세한 내용은 사용량 및 결제 [https://developers.google.com/maps/documentation/places/ios-sdk/usage-and-billing?hl=ko]를 참고하세요.

GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 클래스에는 다음 장소 데이터가 포함될 수 있습니다.

name – 장소의 이름입니다.
editorialSummary - 장소에 대한 설명을 제공합니다.
placeID - 장소의 텍스트 식별자입니다. 이 페이지의 나머지 부분에서 장소 ID에 대해 자세히 알아보세요.
coordinate - 장소의 지리적 위치로, 위도 및 경도 좌표로 지정됩니다.
phoneNumber - 장소의 전화번호(국가 코드 포함 형식)
formattedAddress – 이 위치의 사람이 읽을 수 있는 주소입니다.
이 주소는 대개 우편 주소와 일치합니다. 참고: 영국과 같은 일부 국가에서는 라이선스 제한으로 인해 실제 우편 주소의 배포가 허용되지 않습니다.

형식이 지정된 주소는 하나 이상의 주소 구성요소로 논리적으로 구성됩니다. 예를 들어 주소 '111 8th Avenue, New York, NY'는 '111'(번지), '8th Avenue'(경로), 'New York'(도시) 및 'NY'(미국의 주)로 구성됩니다.

형식이 지정된 주소를 프로그래매틱 방식으로 파싱하지 마세요. 대신 API 응답에 형식이 지정된 주소 필드 외에 포함되는 개별 주소 구성요소를 사용해야 합니다.

openingHours - 장소의 영업시간 (GMSOpeningHours로 표시됨). GMSOpeningHours.weekdayText를 호출하여 한 주의 일일 영업시간의 현지화된 문자열 목록을 가져옵니다. GMSOpeningHours.Periods를 호출하여 weekdayText에서 제공한 데이터와 동일한 자세한 정보가 포함된 GMSPeriod 목록을 반환합니다.
참고: 장소가 항상 열려 있는 경우 시간대는 일요일 자정으로 표시되고 closeEvent은 null입니다.
currentOpeningHours 및 secondaryOpeningHours: 장소의 공휴일 및 임시 일정 변경사항을 가져오는 필드입니다.
addressComponents - 장소의 주소 구성요소를 나타내는 GMSAddressComponent 객체의 배열입니다. 이러한 구성요소는 장소의 주소에 관한 구조화된 정보를 추출하기 위해 제공됩니다(예: 장소가 위치한 도시 찾기). 주소 형식 지정에는 이러한 구성요소를 사용하지 마세요. 대신 현지화된 형식의 주소를 제공하는 formattedAddress 속성을 사용하세요.
addressComponents 배열에 대한 다음 사실을 참고하세요.

주소 구성요소의 배열에 formattedAddress보다 더 많은 구성요소가 포함될 수도 있습니다.
formattedAddress에 포함된 것 외에 주소가 포함된 모든 정치적 독립체가 배열에 포함되는 것은 아닙니다.
응답의 형식이 요청 간에 동일하게 유지되지 않을 수도 있습니다. 특히 addressComponents의 수는 요청된 주소에 따라 다르며 동일한 주소에 대해서도 시간이 지남에 따라 변경될 수 있습니다. 배열에서 구성요소의 위치가 변경될 수 있습니다.
구성요소의 유형이 변경될 수 있습니다. 특정 구성요소가 이후 응답에서 누락될 수 있습니다.

userRatingsTotal: 장소의 평점을 구성하는 리뷰 수를 나타냅니다.

GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 클래스에는 다음 멤버 함수가 포함되어 있습니다.

isOpen [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko#-isopen]는 openingHours [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko#openinghours] 및 UTCOffsetMinutes [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko#utcoffsetminutes], 현재 날짜와 시간을 기반으로 지정된 시간에 장소가 영업 중인지 여부를 계산합니다.
isOpenAtDate [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko#-isopenatdate:]는 openingHours [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko#openinghours] 및 UTCOffsetMinutes [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko#utcoffsetminutes], 현재 날짜 및 시간을 기반으로 지정된 날짜에 장소가 영업 중인지 계산합니다.
이러한 함수를 사용하여 영업시간 또는 날짜를 가져올 때 원래 fetchPlaceFromPlaceID: 또는 findPlaceLikelihoodsFromUserLocationWithPlaceFields: 요청은 GMSPlaceFieldOpeningHours 및 GMSPlaceFieldUTCOffsetMinutes 필드를 모두 지정해야 합니다. 이러한 필드 중 하나가 누락되면 결과 GMSPlace 객체에 영업시간이나 날짜가 포함되지 않으며 호출에서 GMSPlaceOpenStatusUnknown이 반환됩니다. 정확한 결과를 얻으려면 원래 장소 요청에서 GMSPlaceFieldBusinessStatus 및 GMSPlaceFieldUTCOffsetMinutes 필드를 요청하세요. 요청되지 않은 경우 비즈니스가 운영 중인 것으로 간주됩니다.
장소 세부정보와 함께 isOpen를 사용하는 방법은 영업시간을 확인하는 방법 동영상 [https://youtu.be/vAK5o8h8C28]을 참고하세요 .

예외적인 시간 가져오기
일반 영업시간은 openingHours을 통해 가져오지만 currentOpeningHours 및 secondaryOpeningHours은 휴일 및 임시 일정 변경을 지원합니다.
이러한 특별한 날의 예외적인 시간은 사용 가능한 경우 필터링하여 표시할 수 있습니다.

--- 탭: Swift [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#swift] [None] ---
func examineOpeningHours(place: GMSPlace) {

GMSOpeningHours *currentOpeningHours = place.currentOpeningHours;
if (currentOpeningHours != nil) {
NSArray<GMSPlaceSpecialDay *> *specialDays = currentOpeningHours.specialDays;
if ([specialDays count] != 0) {
for (GMSPlaceSpecialDay *specialDay in specialDays) {
NSDate *date = specialDay.date;
if ([specialDay isExceptional]) {
NSArray <GMSPeriod *> * periods = currentOpeningHours.periods;

if ([periods count] != 0) {
for (GMSPeriod * period in periods) {
GMSTimeOfWeek *open = period.open;
GMSTimeOfWeek *close = period.close;

if (open) {
if ([open isTruncated]) {
GMSOpeningHours *secondaryOpeningHours = place.secondaryOpeningHours;
GMSPlaceHoursType hoursType = secondaryOpeningHours.getHoursType;

if (hoursType == GMSPlaceHoursTypeDelivery) {

장소 ID는 장소를 고유하게 나타내는 텍스트 식별자입니다. iOS용 Places SDK에서는 GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 객체에서 장소의 ID를 검색할 수 있습니다. 장소 ID를 저장했다가 나중에 이를 사용하여 GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 객체를 다시 가져올 수도 있습니다.

ID로 장소를 가져오려면 다음 매개변수를 전달하여 GMSPlacesClient
fetchPlaceFromPlaceID: [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlacesClient?hl=ko#-fetchplacefromplaceid:placefields:sessiontoken:callback:]를 호출하세요.

장소 ID가 포함된 문자열입니다.
반환할 데이터 유형을 지정하는 하나 이상의 GMSPlaceField
자동 완성 쿼리를 종료하기 위해 호출이 이루어진 경우 세션 토큰
그렇지 않으면 nil을 전달합니다.
결과를 처리하는 GMSPlaceResultCallback

API는 지정된 콜백 메서드를 호출하여 GMSPlace [https://developers.google.com/maps/documentation/places/ios-sdk/reference/objc/Classes/GMSPlace?hl=ko] 객체를 전달합니다. 장소를 찾을 수 없는 경우 장소 객체는 nil입니다.

--- 탭: iOS용 Places Swift SDK [https://developers.google.com/maps/documentation/places/ios-sdk/legacy/place-details?hl=ko#ios%EC%9A%A9-places-swift-sdk] [None] ---
UInt(GMSPlaceField.placeID.rawValue))!

placesClient?.fetchPlace(fromPlaceID: placeID, placeFields: fields, sessionToken: nil, callback: {
(place: GMSPlace?, error: Error?) in
if let error = error {
print("An error occurred: \(error.localizedDescription)")
return
print("The selected place is: \(place.name)")
NSString *placeID = @"ChIJV4k8_9UodTERU5KXbkYpSYs";

GMSPlaceField fields = (GMSPlaceFieldName | GMSPlaceFieldPlaceID);

[_placesClient fetchPlaceFromPlaceID:placeID placeFields:fields sessionToken:nil callback:^(GMSPlace * _Nullable place, NSError * _Nullable error) {
if (error != nil) {
NSLog(@"An error occurred %@", [error localizedDescription]);
return;
NSLog(@"The selected place is: %@", [place name]);